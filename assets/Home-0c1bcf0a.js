import{c as at,g as lv,$ as _t,T as uv,M as av,S as cv,a as fv,A as dv,b as pv,d as gv}from"./AppHeader-b7ad8ffc.js";import{u as nn,c as N,F as Ku,a as qu,b as is,o as vv,d as mv,S as _v,M as es}from"./index-6b089ede.js";import{I as be,S as wv}from"./SDisplay-0e993c4e.js";import{c as He}from"./_commonjsHelpers-87174ba5.js";import{S as bv}from"./Sbutton-9f568aa4.js";at({defaultClassName:"zz82sh0",variantClassNames:{},defaultVariants:{},compoundVariants:[]});at({defaultClassName:"zz82sh1",variantClassNames:{},defaultVariants:{},compoundVariants:[]});at({defaultClassName:"zz82sh2",variantClassNames:{},defaultVariants:{},compoundVariants:[]});var Sv=at({defaultClassName:"cscwl20",variantClassNames:{},defaultVariants:{},compoundVariants:[]}),xv=at({defaultClassName:"cscwl21",variantClassNames:{},defaultVariants:{},compoundVariants:[]}),Mv=at({defaultClassName:"cscwl29",variantClassNames:{},defaultVariants:{},compoundVariants:[]}),Cv=at({defaultClassName:"cscwl26",variantClassNames:{active:{true:"cscwl27",false:"cscwl28"}},defaultVariants:{active:!1},compoundVariants:[]}),yv=at({defaultClassName:"cscwl22",variantClassNames:{platform:{ios:"cscwl23",web:"cscwl24",android:"cscwl25"}},defaultVariants:{platform:"web"},compoundVariants:[]});function Tv(o){return be({a:{viewBox:"0 0 24 24"},c:'<path fill="none" d="M0 0h24v24H0z"/><path d="M12 22C6.477 22 2 17.523 2 12S6.477 2 12 2s10 4.477 10 10-4.477 10-10 10zm-1-11v6h2v-6h-2zm0-4v2h2V7h-2z"/>'},o)}function Ev(o){return be({a:{viewBox:"0 0 24 24"},c:'<path fill="none" d="M0 0h24v24H0z"/><path d="M12 18.26l-7.053 3.948 1.575-7.928L.587 8.792l8.027-.952L12 .5l3.386 7.34 8.027.952-5.935 5.488 1.575 7.928z"/>'},o)}function Lv(o){return be({a:{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},c:'<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20 12H4"/>'},o)}function Xu(o){return be({a:{fill:"none",stroke:"currentColor",viewBox:"0 0 20 20"},c:'<path fill="currentColor" fill-rule="evenodd" d="M5 3a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2V5a2 2 0 00-2-2H5zm9 4a1 1 0 10-2 0v6a1 1 0 102 0V7zm-3 2a1 1 0 10-2 0v4a1 1 0 102 0V9zm-3 3a1 1 0 10-2 0v1a1 1 0 102 0v-1z" clip-rule="evenodd"/>'},o)}function Vv(o){return be({a:{fill:"currentColor",viewBox:"0 0 16 16"},c:'<path d="M11.251.068a.5.5 0 01.227.58L9.677 6.5H13a.5.5 0 01.364.843l-8 8.5a.5.5 0 01-.842-.49L6.323 9.5H3a.5.5 0 01-.364-.843l8-8.5a.5.5 0 01.615-.09z"/>'},o)}const Iv=_t("div",Sv),Av=_t("nav",xv),Ov=_t("ul",yv),Fv=_t("li",Cv),zv=_t("span",Mv),Bv=o=>{const[e,s]=nn(),h=[{tab:"WatchList",icon:N(Ev,{size:24})},{tab:"Order",icon:N(Vv,{size:24})},{tab:"Chart",icon:N(Xu,{size:24})},{tab:"Menu",icon:N(Tv,{size:24})}];return N(Iv,{get children(){return N(Av,{get children(){return N(Ov,{get platform(){return lv()},get children(){return N(Ku,{each:h,children:({tab:l,icon:a})=>N(Fv,{onClick:()=>{s("setActiveTab",l)},get active(){return e.activeTab==l},get children(){return[a,N(zv,{children:l})]}})})}})}})}})};var Nv=at({defaultClassName:"l5eio40",variantClassNames:{},defaultVariants:{},compoundVariants:[]}),Rv=at({defaultClassName:"l5eio41",variantClassNames:{},defaultVariants:{},compoundVariants:[]}),Pv=at({defaultClassName:"l5eio42",variantClassNames:{},defaultVariants:{},compoundVariants:[]});at({defaultClassName:"l5eio43",variantClassNames:{},defaultVariants:{},compoundVariants:[]});var Dv=at({defaultClassName:"l5eio44",variantClassNames:{},defaultVariants:{},compoundVariants:[]}),Uv=at({defaultClassName:"l5eio45",variantClassNames:{},defaultVariants:{},compoundVariants:[]}),kv=at({defaultClassName:"l5eio46",variantClassNames:{},defaultVariants:{},compoundVariants:[]});var Wv=at({defaultClassName:"_15sjne80",variantClassNames:{},defaultVariants:{},compoundVariants:[]});const _s=_t("div",Wv),$v=_t("ul",Nv),Gv=_t("li",Rv),Hv=_t("p",Pv),Yv=_t("p",Dv),Kv=_t("p",Uv),qv=_t("p",kv),Xv=()=>{const[o,t]=nn();return qu(()=>{t("fetchSnapshots",[{exchange:"TSE",code:"2330",security_type:"STK"},{exchange:"TSE",code:"2890",security_type:"STK"},{exchange:"TSE",code:"2330",security_type:"STK"},{exchange:"TSE",code:"2330",security_type:"STK"},{exchange:"TSE",code:"2330",security_type:"STK"},{exchange:"TSE",code:"2330",security_type:"STK"},{exchange:"TSE",code:"2330",security_type:"STK"},{exchange:"TSE",code:"2330",security_type:"STK"},{exchange:"TSE",code:"2330",security_type:"STK"},{exchange:"TSE",code:"2330",security_type:"STK"},{exchange:"TSE",code:"2330",security_type:"STK"},{exchange:"TSE",code:"2330",security_type:"STK"},{exchange:"TSE",code:"2330",security_type:"STK"},{exchange:"TSE",code:"2330",security_type:"STK"},{exchange:"TSE",code:"2330",security_type:"STK"}])}),N(_s,{get children(){return N($v,{get children(){return N(Ku,{get each(){return o.watchSnapshots},children:e=>N(Gv,{get children(){return[N(Hv,{get children(){return e.code}}),N(Yv,{get children(){return e.close}}),N(Kv,{get children(){return e.change_price}}),N(qv,{get children(){return e.change_rate}})]}})})}})}})};var Zv=at({defaultClassName:"srvi2r0",variantClassNames:{},defaultVariants:{},compoundVariants:[]});function rt(o){var t=o.width,e=o.height;if(t<0)throw new Error("Negative width is not allowed for Size");if(e<0)throw new Error("Negative height is not allowed for Size");return{width:t,height:e}}function Gi(o,t){return o.width===t.width&&o.height===t.height}var Jv=function(){function o(t){var e=this;this._resolutionListener=function(){return e._onResolutionChanged()},this._resolutionMediaQueryList=null,this._observers=[],this._window=t,this._installResolutionListener()}return o.prototype.dispose=function(){this._uninstallResolutionListener(),this._window=null},Object.defineProperty(o.prototype,"value",{get:function(){return this._window.devicePixelRatio},enumerable:!1,configurable:!0}),o.prototype.subscribe=function(t){var e=this,s={next:t};return this._observers.push(s),{unsubscribe:function(){e._observers=e._observers.filter(function(h){return h!==s})}}},o.prototype._installResolutionListener=function(){if(this._resolutionMediaQueryList!==null)throw new Error("Resolution listener is already installed");var t=this._window.devicePixelRatio;this._resolutionMediaQueryList=this._window.matchMedia("all and (resolution: ".concat(t,"dppx)")),this._resolutionMediaQueryList.addListener(this._resolutionListener)},o.prototype._uninstallResolutionListener=function(){this._resolutionMediaQueryList!==null&&(this._resolutionMediaQueryList.removeListener(this._resolutionListener),this._resolutionMediaQueryList=null)},o.prototype._reinstallResolutionListener=function(){this._uninstallResolutionListener(),this._installResolutionListener()},o.prototype._onResolutionChanged=function(){var t=this;this._observers.forEach(function(e){return e.next(t._window.devicePixelRatio)}),this._reinstallResolutionListener()},o}();function Qv(o){return new Jv(o)}var jv=function(){function o(t,e,s){var h;this._canvasElement=null,this._bitmapSizeChangedListeners=[],this._suggestedBitmapSize=null,this._suggestedBitmapSizeChangedListeners=[],this._devicePixelRatioObservable=null,this._canvasElementResizeObserver=null,this._canvasElement=t,this._canvasElementClientSize=rt({width:this._canvasElement.clientWidth,height:this._canvasElement.clientHeight}),this._transformBitmapSize=e??function(l){return l},this._allowResizeObserver=(h=s?.allowResizeObserver)!==null&&h!==void 0?h:!0,this._chooseAndInitObserver()}return o.prototype.dispose=function(){var t,e;if(this._canvasElement===null)throw new Error("Object is disposed");(t=this._canvasElementResizeObserver)===null||t===void 0||t.disconnect(),this._canvasElementResizeObserver=null,(e=this._devicePixelRatioObservable)===null||e===void 0||e.dispose(),this._devicePixelRatioObservable=null,this._suggestedBitmapSizeChangedListeners.length=0,this._bitmapSizeChangedListeners.length=0,this._canvasElement=null},Object.defineProperty(o.prototype,"canvasElement",{get:function(){if(this._canvasElement===null)throw new Error("Object is disposed");return this._canvasElement},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"canvasElementClientSize",{get:function(){return this._canvasElementClientSize},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"bitmapSize",{get:function(){return rt({width:this.canvasElement.width,height:this.canvasElement.height})},enumerable:!1,configurable:!0}),o.prototype.resizeCanvasElement=function(t){this._canvasElementClientSize=rt(t),this.canvasElement.style.width="".concat(this._canvasElementClientSize.width,"px"),this.canvasElement.style.height="".concat(this._canvasElementClientSize.height,"px"),this._invalidateBitmapSize()},o.prototype.subscribeBitmapSizeChanged=function(t){this._bitmapSizeChangedListeners.push(t)},o.prototype.unsubscribeBitmapSizeChanged=function(t){this._bitmapSizeChangedListeners=this._bitmapSizeChangedListeners.filter(function(e){return e!==t})},Object.defineProperty(o.prototype,"suggestedBitmapSize",{get:function(){return this._suggestedBitmapSize},enumerable:!1,configurable:!0}),o.prototype.subscribeSuggestedBitmapSizeChanged=function(t){this._suggestedBitmapSizeChangedListeners.push(t)},o.prototype.unsubscribeSuggestedBitmapSizeChanged=function(t){this._suggestedBitmapSizeChangedListeners=this._suggestedBitmapSizeChangedListeners.filter(function(e){return e!==t})},o.prototype.applySuggestedBitmapSize=function(){if(this._suggestedBitmapSize!==null){var t=this._suggestedBitmapSize;this._suggestedBitmapSize=null,this._resizeBitmap(t),this._emitSuggestedBitmapSizeChanged(t,this._suggestedBitmapSize)}},o.prototype._resizeBitmap=function(t){var e=this.bitmapSize;Gi(e,t)||(this.canvasElement.width=t.width,this.canvasElement.height=t.height,this._emitBitmapSizeChanged(e,t))},o.prototype._emitBitmapSizeChanged=function(t,e){var s=this;this._bitmapSizeChangedListeners.forEach(function(h){return h.call(s,t,e)})},o.prototype._suggestNewBitmapSize=function(t){var e=this._suggestedBitmapSize,s=rt(this._transformBitmapSize(t,this._canvasElementClientSize)),h=Gi(this.bitmapSize,s)?null:s;e===null&&h===null||e!==null&&h!==null&&Gi(e,h)||(this._suggestedBitmapSize=h,this._emitSuggestedBitmapSizeChanged(e,h))},o.prototype._emitSuggestedBitmapSizeChanged=function(t,e){var s=this;this._suggestedBitmapSizeChangedListeners.forEach(function(h){return h.call(s,t,e)})},o.prototype._chooseAndInitObserver=function(){var t=this;if(!this._allowResizeObserver){this._initDevicePixelRatioObservable();return}im().then(function(e){return e?t._initResizeObserver():t._initDevicePixelRatioObservable()})},o.prototype._initDevicePixelRatioObservable=function(){var t=this;if(this._canvasElement!==null){var e=jl(this._canvasElement);if(e===null)throw new Error("No window is associated with the canvas");this._devicePixelRatioObservable=Qv(e),this._devicePixelRatioObservable.subscribe(function(){return t._invalidateBitmapSize()}),this._invalidateBitmapSize()}},o.prototype._invalidateBitmapSize=function(){var t,e;if(this._canvasElement!==null){var s=jl(this._canvasElement);if(s!==null){var h=(e=(t=this._devicePixelRatioObservable)===null||t===void 0?void 0:t.value)!==null&&e!==void 0?e:s.devicePixelRatio,l=this._canvasElement.getClientRects(),a=l[0]!==void 0?em(l[0],h):rt({width:this._canvasElementClientSize.width*h,height:this._canvasElementClientSize.height*h});this._suggestNewBitmapSize(a)}}},o.prototype._initResizeObserver=function(){var t=this;this._canvasElement!==null&&(this._canvasElementResizeObserver=new ResizeObserver(function(e){var s=e.find(function(a){return a.target===t._canvasElement});if(!(!s||!s.devicePixelContentBoxSize||!s.devicePixelContentBoxSize[0])){var h=s.devicePixelContentBoxSize[0],l=rt({width:h.inlineSize,height:h.blockSize});t._suggestNewBitmapSize(l)}}),this._canvasElementResizeObserver.observe(this._canvasElement,{box:"device-pixel-content-box"}))},o}();function tm(o,t){if(t.type==="device-pixel-content-box")return new jv(o,t.transform,t.options);throw new Error("Unsupported binding target")}function jl(o){return o.ownerDocument.defaultView}function im(){return new Promise(function(o){var t=new ResizeObserver(function(e){o(e.every(function(s){return"devicePixelContentBoxSize"in s})),t.disconnect()});t.observe(document.body,{box:"device-pixel-content-box"})}).catch(function(){return!1})}function em(o,t){return rt({width:Math.round(o.left*t+o.width*t)-Math.round(o.left*t),height:Math.round(o.top*t+o.height*t)-Math.round(o.top*t)})}var nm=function(){function o(t,e,s){if(e.width===0||e.height===0)throw new TypeError("Rendering target could only be created on a media with positive width and height");if(this._mediaSize=e,s.width===0||s.height===0)throw new TypeError("Rendering target could only be created using a bitmap with positive integer width and height");this._bitmapSize=s,this._context=t}return o.prototype.useMediaCoordinateSpace=function(t){try{return this._context.save(),this._context.setTransform(1,0,0,1,0,0),this._context.scale(this._horizontalPixelRatio,this._verticalPixelRatio),t({context:this._context,mediaSize:this._mediaSize})}finally{this._context.restore()}},o.prototype.useBitmapCoordinateSpace=function(t){try{return this._context.save(),this._context.setTransform(1,0,0,1,0,0),t({context:this._context,mediaSize:this._mediaSize,bitmapSize:this._bitmapSize,horizontalPixelRatio:this._horizontalPixelRatio,verticalPixelRatio:this._verticalPixelRatio})}finally{this._context.restore()}},Object.defineProperty(o.prototype,"_horizontalPixelRatio",{get:function(){return this._bitmapSize.width/this._mediaSize.width},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"_verticalPixelRatio",{get:function(){return this._bitmapSize.height/this._mediaSize.height},enumerable:!1,configurable:!0}),o}();function Hi(o,t){var e=o.canvasElementClientSize;if(e.width===0||e.height===0)return null;var s=o.bitmapSize;if(s.width===0||s.height===0)return null;var h=o.canvasElement.getContext("2d",t);return h===null?null:new nm(h,e,s)}/*!
 * @license
 * TradingView Lightweight Charts v4.0.0
 * Copyright (c) 2023 TradingView, Inc.
 * Licensed under Apache License 2.0 https://www.apache.org/licenses/LICENSE-2.0
 */var tu,iu;function Yi(o,t){const e={0:[],1:[o.lineWidth,o.lineWidth],2:[2*o.lineWidth,2*o.lineWidth],3:[6*o.lineWidth,6*o.lineWidth],4:[o.lineWidth,4*o.lineWidth]}[t];o.setLineDash(e)}function Zu(o,t,e,s){o.beginPath();const h=o.lineWidth%2?.5:0;o.moveTo(e,t+h),o.lineTo(s,t+h),o.stroke()}function qi(o,t){if(!o)throw new Error("Assertion failed"+(t?": "+t:""))}function Jt(o){if(o===void 0)throw new Error("Value is undefined");return o}function A(o){if(o===null)throw new Error("Value is null");return o}function Ke(o){return A(Jt(o))}(function(o){o[o.Simple=0]="Simple",o[o.WithSteps=1]="WithSteps",o[o.Curved=2]="Curved"})(tu||(tu={})),function(o){o[o.Solid=0]="Solid",o[o.Dotted=1]="Dotted",o[o.Dashed=2]="Dashed",o[o.LargeDashed=3]="LargeDashed",o[o.SparseDotted=4]="SparseDotted"}(iu||(iu={}));const eu={khaki:"#f0e68c",azure:"#f0ffff",aliceblue:"#f0f8ff",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gainsboro:"#dcdcdc",gray:"#808080",green:"#008000",honeydew:"#f0fff0",floralwhite:"#fffaf0",lightblue:"#add8e6",lightcoral:"#f08080",lemonchiffon:"#fffacd",hotpink:"#ff69b4",lightyellow:"#ffffe0",greenyellow:"#adff2f",lightgoldenrodyellow:"#fafad2",limegreen:"#32cd32",linen:"#faf0e6",lightcyan:"#e0ffff",magenta:"#f0f",maroon:"#800000",olive:"#808000",orange:"#ffa500",oldlace:"#fdf5e6",mediumblue:"#0000cd",transparent:"#0000",lime:"#0f0",lightpink:"#ffb6c1",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",midnightblue:"#191970",orchid:"#da70d6",mediumorchid:"#ba55d3",mediumturquoise:"#48d1cc",orangered:"#ff4500",royalblue:"#4169e1",powderblue:"#b0e0e6",red:"#f00",coral:"#ff7f50",turquoise:"#40e0d0",white:"#fff",whitesmoke:"#f5f5f5",wheat:"#f5deb3",teal:"#008080",steelblue:"#4682b4",bisque:"#ffe4c4",aquamarine:"#7fffd4",aqua:"#0ff",sienna:"#a0522d",silver:"#c0c0c0",springgreen:"#00ff7f",antiquewhite:"#faebd7",burlywood:"#deb887",brown:"#a52a2a",beige:"#f5f5dc",chocolate:"#d2691e",chartreuse:"#7fff00",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cadetblue:"#5f9ea0",tomato:"#ff6347",fuchsia:"#f0f",blue:"#00f",salmon:"#fa8072",blanchedalmond:"#ffebcd",slateblue:"#6a5acd",slategray:"#708090",thistle:"#d8bfd8",tan:"#d2b48c",cyan:"#0ff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",blueviolet:"#8a2be2",black:"#000",darkmagenta:"#8b008b",darkslateblue:"#483d8b",darkkhaki:"#bdb76b",darkorchid:"#9932cc",darkorange:"#ff8c00",darkgreen:"#006400",darkred:"#8b0000",dodgerblue:"#1e90ff",darkslategray:"#2f4f4f",dimgray:"#696969",deepskyblue:"#00bfff",firebrick:"#b22222",forestgreen:"#228b22",indigo:"#4b0082",ivory:"#fffff0",lavenderblush:"#fff0f5",feldspar:"#d19275",indianred:"#cd5c5c",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightskyblue:"#87cefa",lightslategray:"#789",lightslateblue:"#8470ff",snow:"#fffafa",lightseagreen:"#20b2aa",lightsalmon:"#ffa07a",darksalmon:"#e9967a",darkviolet:"#9400d3",mediumpurple:"#9370d8",mediumaquamarine:"#66cdaa",skyblue:"#87ceeb",lavender:"#e6e6fa",lightsteelblue:"#b0c4de",mediumvioletred:"#c71585",mintcream:"#f5fffa",navajowhite:"#ffdead",navy:"#000080",olivedrab:"#6b8e23",palevioletred:"#d87093",violetred:"#d02090",yellow:"#ff0",yellowgreen:"#9acd32",lawngreen:"#7cfc00",pink:"#ffc0cb",paleturquoise:"#afeeee",palegoldenrod:"#eee8aa",darkolivegreen:"#556b2f",darkseagreen:"#8fbc8f",darkturquoise:"#00ced1",peachpuff:"#ffdab9",deeppink:"#ff1493",violet:"#ee82ee",palegreen:"#98fb98",mediumseagreen:"#3cb371",peru:"#cd853f",saddlebrown:"#8b4513",sandybrown:"#f4a460",rosybrown:"#bc8f8f",purple:"#800080",seagreen:"#2e8b57",seashell:"#fff5ee",papayawhip:"#ffefd5",mediumslateblue:"#7b68ee",plum:"#dda0dd",mediumspringgreen:"#00fa9a"};function Zt(o){return o<0?0:o>255?255:Math.round(o)||0}function Ju(o){return o<=0||o>0?o<0?0:o>1?1:Math.round(1e4*o)/1e4:0}const sm=/^#([0-9a-f])([0-9a-f])([0-9a-f])([0-9a-f])?$/i,rm=/^#([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})?$/i,hm=/^rgb\(\s*(-?\d{1,10})\s*,\s*(-?\d{1,10})\s*,\s*(-?\d{1,10})\s*\)$/,om=/^rgba\(\s*(-?\d{1,10})\s*,\s*(-?\d{1,10})\s*,\s*(-?\d{1,10})\s*,\s*(-?[\d]{0,10}(?:\.\d+)?)\s*\)$/;function ds(o){(o=o.toLowerCase())in eu&&(o=eu[o]);{const t=om.exec(o)||hm.exec(o);if(t)return[Zt(parseInt(t[1],10)),Zt(parseInt(t[2],10)),Zt(parseInt(t[3],10)),Ju(t.length<5?1:parseFloat(t[4]))]}{const t=rm.exec(o);if(t)return[Zt(parseInt(t[1],16)),Zt(parseInt(t[2],16)),Zt(parseInt(t[3],16)),1]}{const t=sm.exec(o);if(t)return[Zt(17*parseInt(t[1],16)),Zt(17*parseInt(t[2],16)),Zt(17*parseInt(t[3],16)),1]}throw new Error(`Cannot parse color: ${o}`)}function ws(o){const t=ds(o);return{t:`rgb(${t[0]}, ${t[1]}, ${t[2]})`,i:(e=t,.199*e[0]+.687*e[1]+.114*e[2]>160?"black":"white")};var e}class xt{constructor(){this.h=[]}l(t,e,s){const h={o:t,_:e,u:s===!0};this.h.push(h)}p(t){const e=this.h.findIndex(s=>t===s.o);e>-1&&this.h.splice(e,1)}v(t){this.h=this.h.filter(e=>e._!==t)}m(t,e,s){const h=[...this.h];this.h=this.h.filter(l=>!l.u),h.forEach(l=>l.o(t,e,s))}g(){return this.h.length>0}M(){this.h=[]}}function ai(o,...t){for(const e of t)for(const s in e)e[s]!==void 0&&(typeof e[s]!="object"||o[s]===void 0?o[s]=e[s]:ai(o[s],e[s]));return o}function ui(o){return typeof o=="number"&&isFinite(o)}function Qe(o){return typeof o=="number"&&o%1==0}function ch(o){return typeof o=="string"}function ns(o){return typeof o=="boolean"}function xi(o){const t=o;if(!t||typeof t!="object")return t;let e,s,h;for(s in e=Array.isArray(t)?[]:{},t)t.hasOwnProperty(s)&&(h=t[s],e[s]=h&&typeof h=="object"?xi(h):h);return e}function lm(o){return o!==null}function ps(o){return o===null?void 0:o}const fh="-apple-system, BlinkMacSystemFont, 'Trebuchet MS', Roboto, Ubuntu, sans-serif";function _e(o,t,e){return t===void 0&&(t=fh),`${e=e!==void 0?`${e} `:""}${o}px ${t}`}class um{constructor(t){this.S={k:1,C:5,T:NaN,P:"",R:"",D:"",B:"",O:0,A:0,L:0,I:0,V:0},this.N=t}F(){const t=this.S,e=this.W(),s=this.j();return t.T===e&&t.R===s||(t.T=e,t.R=s,t.P=_e(e,s),t.I=2.5/12*e,t.O=t.I,t.A=e/12*t.C,t.L=e/12*t.C,t.V=0),t.D=this.$(),t.B=this.H(),this.S}$(){return this.N.F().layout.textColor}H(){return this.N.U()}W(){return this.N.F().layout.fontSize}j(){return this.N.F().layout.fontFamily}}class dh{constructor(){this.q=[]}Y(t){this.q=t}X(t,e,s){this.q.forEach(h=>{h.X(t,e,s)})}}class sn{X(t,e,s){t.useMediaCoordinateSpace(h=>this.Z(h,e,s))}K(t,e,s){t.useMediaCoordinateSpace(h=>this.G(h,e,s))}G(t,e,s){}}class am extends sn{constructor(){super(...arguments),this.J=null}tt(t){this.J=t}Z({context:t}){if(this.J===null||this.J.it===null)return;const e=this.J.it,s=this.J,h=l=>{t.beginPath();for(let a=e.to-1;a>=e.from;--a){const f=s.nt[a];t.moveTo(f.st,f.et),t.arc(f.st,f.et,l,0,2*Math.PI)}t.fill()};s.rt>0&&(t.fillStyle=s.ht,h(s.lt+s.rt)),t.fillStyle=s.ot,h(s.lt)}}function cm(){return{nt:[{st:0,et:0,_t:0,ut:0}],ot:"",ht:"",lt:0,rt:0,it:null}}const fm={from:0,to:1};class dm{constructor(t,e){this.ct=new dh,this.dt=[],this.ft=[],this.vt=!0,this.N=t,this.bt=e,this.ct.Y(this.dt)}gt(t){const e=this.N.wt();e.length!==this.dt.length&&(this.ft=e.map(cm),this.dt=this.ft.map(s=>{const h=new am;return h.tt(s),h}),this.ct.Y(this.dt)),this.vt=!0}Mt(){return this.vt&&(this.St(),this.vt=!1),this.ct}St(){const t=this.N.wt(),e=this.bt.xt(),s=this.N.yt();t.forEach((h,l)=>{var a;const f=this.ft[l],p=h.kt(e);if(p===null||!h.Ct())return void(f.it=null);const v=A(h.Tt());f.ot=p.Pt,f.lt=p.lt,f.rt=p.Rt,f.nt[0].ut=p.ut,f.nt[0].et=h.Bt().Dt(p.ut,v.Ot),f.ht=(a=p.At)!==null&&a!==void 0?a:this.N.Lt(f.nt[0].et/h.Bt().It()),f.nt[0]._t=e,f.nt[0].st=s.Et(e),f.it=fm})}}class Xi{X(t,e,s){t.useBitmapCoordinateSpace(h=>this.Z(h,e,s))}}class pm extends Xi{constructor(t){super(),this.Vt=t}Z({context:t,bitmapSize:e,horizontalPixelRatio:s,verticalPixelRatio:h}){if(this.Vt===null)return;const l=this.Vt.zt.Ct,a=this.Vt.Nt.Ct;if(!l&&!a)return;const f=Math.round(this.Vt.st*s),p=Math.round(this.Vt.et*h);t.lineCap="butt",l&&f>=0&&(t.lineWidth=Math.floor(this.Vt.zt.rt*s),t.strokeStyle=this.Vt.zt.D,t.fillStyle=this.Vt.zt.D,Yi(t,this.Vt.zt.Ft),function(v,_,w,M){v.beginPath();const y=v.lineWidth%2?.5:0;v.moveTo(_+y,w),v.lineTo(_+y,M),v.stroke()}(t,f,0,e.height)),a&&p>=0&&(t.lineWidth=Math.floor(this.Vt.Nt.rt*h),t.strokeStyle=this.Vt.Nt.D,t.fillStyle=this.Vt.Nt.D,Yi(t,this.Vt.Nt.Ft),Zu(t,p,0,e.width))}}class gm{constructor(t){this.vt=!0,this.Wt={zt:{rt:1,Ft:0,D:"",Ct:!1},Nt:{rt:1,Ft:0,D:"",Ct:!1},st:0,et:0},this.jt=new pm(this.Wt),this.$t=t}gt(){this.vt=!0}Mt(){return this.vt&&(this.St(),this.vt=!1),this.jt}St(){const t=this.$t.Ct(),e=A(this.$t.Ht()),s=e.Ut().F().crosshair,h=this.Wt;h.Nt.Ct=t&&this.$t.qt(e),h.zt.Ct=t&&this.$t.Yt(),h.Nt.rt=s.horzLine.width,h.Nt.Ft=s.horzLine.style,h.Nt.D=s.horzLine.color,h.zt.rt=s.vertLine.width,h.zt.Ft=s.vertLine.style,h.zt.D=s.vertLine.color,h.st=this.$t.Xt(),h.et=this.$t.Zt()}}function vm(o,t,e,s,h,l){o.fillRect(t+l,e,s-2*l,l),o.fillRect(t+l,e+h-l,s-2*l,l),o.fillRect(t,e,l,h),o.fillRect(t+s-l,e,l,h)}function bs(o,t,e,s,h,l){o.save(),o.globalCompositeOperation="copy",o.fillStyle=l,o.fillRect(t,e,s,h),o.restore()}function nu(o,t){return Array.isArray(o)?o.map(e=>e===0?e:e+t):o+t}function Yr(o,t,e,s,h,l){let a,f,p,v;if(Array.isArray(l))if(l.length===2){const _=Math.max(0,l[0]),w=Math.max(0,l[1]);a=_,f=_,p=w,v=w}else{if(l.length!==4)throw new Error("Wrong border radius - it should be like css border radius");a=Math.max(0,l[0]),f=Math.max(0,l[1]),p=Math.max(0,l[2]),v=Math.max(0,l[3])}else{const _=Math.max(0,l);a=_,f=_,p=_,v=_}o.beginPath(),o.moveTo(t+a,e),o.lineTo(t+s-f,e),f!==0&&o.arcTo(t+s,e,t+s,e+f,f),o.lineTo(t+s,e+h-p),p!==0&&o.arcTo(t+s,e+h,t+s-p,e+h,p),o.lineTo(t+v,e+h),v!==0&&o.arcTo(t,e+h,t,e+h-v,v),o.lineTo(t,e+a),a!==0&&o.arcTo(t,e,t+a,e,a)}function su(o,t,e,s,h,l,a=0,f=0,p=""){if(o.save(),!a||!p||p===l)return Yr(o,t,e,s,h,f),o.fillStyle=l,o.fill(),void o.restore();const v=a/2;l!=="transparent"&&(Yr(o,t+a,e+a,s-2*a,h-2*a,nu(f,-a)),o.fillStyle=l,o.fill()),p!=="transparent"&&(Yr(o,t+v,e+v,s-a,h-a,nu(f,-v)),o.lineWidth=a,o.strokeStyle=p,o.closePath(),o.stroke()),o.restore()}function Qu(o,t,e,s,h,l,a){o.save(),o.globalCompositeOperation="copy";const f=o.createLinearGradient(0,0,0,h);f.addColorStop(0,l),f.addColorStop(1,a),o.fillStyle=f,o.fillRect(t,e,s,h),o.restore()}class ru{constructor(t,e){this.tt(t,e)}tt(t,e){this.Vt=t,this.Kt=e}It(t,e){return this.Vt.Ct?t.T+t.I+t.O:0}X(t,e,s,h){if(!this.Vt.Ct||this.Vt.Gt.length===0)return;const l=this.Vt.D||this.Kt.D,a=this.Kt.t,f=t.useBitmapCoordinateSpace(p=>{const v=p.context;v.font=e.P;const _=this.Jt(p,e,s,h),w=_.Qt,M=(y,V)=>{_.ti?su(v,w.ii,w.ni,w.si,w.ei,y,w.ri,[w.lt,0,0,w.lt],V):su(v,w.hi,w.ni,w.si,w.ei,y,w.ri,[0,w.lt,w.lt,0],V)};return M(a,"transparent"),this.Vt.li&&(v.fillStyle=l,v.fillRect(w.hi,w.ai,w.oi-w.hi,w._i)),M("transparent",a),this.Vt.ui&&(v.fillStyle=e.B,v.fillRect(_.ti?w.ci-w.ri:0,w.ni,w.ri,w.di-w.ni)),_});t.useMediaCoordinateSpace(({context:p})=>{const v=f.fi;p.font=e.P,p.textAlign=f.ti?"right":"left",p.textBaseline="middle",p.fillStyle=l,p.fillText(this.Vt.Gt,v.pi,(v.ni+v.di)/2+v.vi)})}Jt(t,e,s,h){var l;const{context:a,bitmapSize:f,mediaSize:p,horizontalPixelRatio:v,verticalPixelRatio:_}=t,w=this.Vt.li||!this.Vt.mi?e.C:0,M=this.Vt.bi?e.k:0,y=e.I+this.Kt.gi,V=e.O+this.Kt.wi,O=e.A,R=e.L,k=this.Vt.Gt,lt=e.T,j=s.Mi(a,k),Z=Math.ceil(s.Si(a,k)),it=lt+y+V,yt=e.k+O+R+Z+w,dt=Math.max(1,Math.floor(_));let vt=Math.round(it*_);vt%2!=dt%2&&(vt+=1);const ci=M>0?Math.max(1,Math.floor(M*v)):0,Se=Math.round(yt*v),hn=Math.round(w*v),Cs=(l=this.Kt.xi)!==null&&l!==void 0?l:this.Kt.yi,on=Math.round(Cs*_)-Math.floor(.5*_),Zi=Math.floor(on+dt/2-vt/2),ln=Zi+vt,Ji=h==="right",si=Ji?p.width-M:M,Vt=Ji?f.width-ci:ci;let xe,Ci,It;return Ji?(xe=Vt-Se,Ci=Vt-hn,It=si-w-O-M):(xe=Vt+Se,Ci=Vt+hn,It=si+w+O),{ti:Ji,Qt:{ni:Zi,ai:on,di:ln,si:Se,ei:vt,lt:2*v,ri:ci,ii:xe,hi:Vt,oi:Ci,_i:dt,ci:f.width},fi:{ni:Zi/_,di:ln/_,pi:It,vi:j}}}}class ph{constructor(t){this.ki={yi:0,D:"#FFF",t:"#000",wi:0,gi:0},this.Ci={Gt:"",Ct:!1,li:!0,mi:!1,At:"",D:"#FFF",ui:!1,bi:!1},this.Ti={Gt:"",Ct:!1,li:!1,mi:!0,At:"",D:"#FFF",ui:!0,bi:!0},this.vt=!0,this.Pi=new(t||ru)(this.Ci,this.ki),this.Ri=new(t||ru)(this.Ti,this.ki)}Gt(){return this.Di(),this.Ci.Gt}yi(){return this.Di(),this.ki.yi}gt(){this.vt=!0}It(t,e=!1){return Math.max(this.Pi.It(t,e),this.Ri.It(t,e))}Bi(){return this.ki.xi||0}Oi(t){this.ki.xi=t}Ai(){return this.Di(),this.Ci.Ct||this.Ti.Ct}Li(){return this.Di(),this.Ci.Ct}Mt(t){return this.Di(),this.Ci.li=this.Ci.li&&t.F().ticksVisible,this.Ti.li=this.Ti.li&&t.F().ticksVisible,this.Pi.tt(this.Ci,this.ki),this.Ri.tt(this.Ti,this.ki),this.Pi}Ii(){return this.Di(),this.Pi.tt(this.Ci,this.ki),this.Ri.tt(this.Ti,this.ki),this.Ri}Di(){this.vt&&(this.Ci.li=!0,this.Ti.li=!1,this.Ei(this.Ci,this.Ti,this.ki))}}class mm extends ph{constructor(t,e,s){super(),this.$t=t,this.Vi=e,this.zi=s}Ei(t,e,s){t.Ct=!1;const h=this.$t.F().horzLine;if(!h.labelVisible)return;const l=this.Vi.Tt();if(!this.$t.Ct()||this.Vi.Ni()||l===null)return;const a=ws(h.labelBackgroundColor);s.t=a.t,s.D=a.i;const f=2/12*this.Vi.T();s.gi=f,s.wi=f;const p=this.zi(this.Vi);s.yi=p.yi,t.Gt=this.Vi.Fi(p.ut,l),t.Ct=!0}}const _m=/[1-9]/g;class wm{constructor(){this.Vt=null}tt(t){this.Vt=t}X(t,e){if(this.Vt===null||this.Vt.Ct===!1||this.Vt.Gt.length===0)return;const s=t.useMediaCoordinateSpace(({context:M})=>(M.font=e.P,Math.round(e.Wi.Si(M,A(this.Vt).Gt,_m))));if(s<=0)return;const h=e.ji,l=s+2*h,a=l/2,f=this.Vt.$i;let p=this.Vt.yi,v=Math.floor(p-a)+.5;v<0?(p+=Math.abs(0-v),v=Math.floor(p-a)+.5):v+l>f&&(p-=Math.abs(f-(v+l)),v=Math.floor(p-a)+.5);const _=v+l,w=Math.ceil(0+e.k+e.C+e.I+e.T+e.O);t.useBitmapCoordinateSpace(({context:M,horizontalPixelRatio:y,verticalPixelRatio:V})=>{const O=A(this.Vt);M.fillStyle=O.t;const R=Math.round(v*y),k=Math.round(0*V),lt=Math.round(_*y),j=Math.round(w*V),Z=Math.round(2*y);if(M.beginPath(),M.moveTo(R,k),M.lineTo(R,j-Z),M.arcTo(R,j,R+Z,j,Z),M.lineTo(lt-Z,j),M.arcTo(lt,j,lt,j-Z,Z),M.lineTo(lt,k),M.fill(),O.li){const it=Math.round(O.yi*y),yt=k,dt=Math.round((yt+e.C)*V);M.fillStyle=O.D;const vt=Math.max(1,Math.floor(y)),ci=Math.floor(.5*y);M.fillRect(it-ci,yt,vt,dt-yt)}}),t.useMediaCoordinateSpace(({context:M})=>{const y=A(this.Vt),V=0+e.k+e.C+e.I+e.T/2;M.font=e.P,M.textAlign="left",M.textBaseline="middle",M.fillStyle=y.D;const O=e.Wi.Mi(M,"Apr0");M.translate(v+h,V+O),M.fillText(y.Gt,0,0)})}}class bm{constructor(t,e,s){this.vt=!0,this.jt=new wm,this.Wt={Ct:!1,t:"#4c525e",D:"white",Gt:"",$i:0,yi:NaN,li:!0},this.bt=t,this.Hi=e,this.zi=s}gt(){this.vt=!0}Mt(){return this.vt&&(this.St(),this.vt=!1),this.jt.tt(this.Wt),this.jt}St(){const t=this.Wt;t.Ct=!1;const e=this.bt.F().vertLine;if(!e.labelVisible)return;const s=this.Hi.yt();if(s.Ni())return;t.$i=s.$i();const h=this.zi();if(h===null)return;t.yi=h.yi;const l=s.Ui(this.bt.xt());t.Gt=s.qi(A(l)),t.Ct=!0;const a=ws(e.labelBackgroundColor);t.t=a.t,t.D=a.i,t.li=s.F().ticksVisible}}class gh{constructor(){this.Yi=null,this.Xi=0}Zi(){return this.Xi}Ki(t){this.Xi=t}Bt(){return this.Yi}Gi(t){this.Yi=t}Ji(t){return[]}Qi(){return[]}Ct(){return!0}}var oh;(function(o){o[o.Normal=0]="Normal",o[o.Magnet=1]="Magnet"})(oh||(oh={}));class Sm extends gh{constructor(t,e){super(),this.tn=null,this.nn=NaN,this.sn=0,this.en=!0,this.rn=new Map,this.hn=!1,this.ln=NaN,this.an=NaN,this.on=NaN,this._n=NaN,this.Hi=t,this.un=e,this.cn=new dm(t,this),this.dn=((h,l)=>a=>{const f=l(),p=h();if(a===A(this.tn).fn())return{ut:p,yi:f};{const v=A(a.Tt());return{ut:a.pn(f,v),yi:f}}})(()=>this.nn,()=>this.an);const s=((h,l)=>()=>{const a=this.Hi.yt().vn(h()),f=l();return a&&Number.isFinite(f)?{_t:a,yi:f}:null})(()=>this.sn,()=>this.Xt());this.mn=new bm(this,t,s),this.bn=new gm(this)}F(){return this.un}gn(t,e){this.on=t,this._n=e}wn(){this.on=NaN,this._n=NaN}Mn(){return this.on}Sn(){return this._n}xn(t,e,s){this.hn||(this.hn=!0),this.en=!0,this.yn(t,e,s)}xt(){return this.sn}Xt(){return this.ln}Zt(){return this.an}Ct(){return this.en}kn(){this.en=!1,this.Cn(),this.nn=NaN,this.ln=NaN,this.an=NaN,this.tn=null,this.wn()}Tn(t){return this.tn!==null?[this.bn,this.cn]:[]}qt(t){return t===this.tn&&this.un.horzLine.visible}Yt(){return this.un.vertLine.visible}Pn(t,e){this.en&&this.tn===t||this.rn.clear();const s=[];return this.tn===t&&s.push(this.Rn(this.rn,e,this.dn)),s}Qi(){return this.en?[this.mn]:[]}Ht(){return this.tn}Dn(){this.bn.gt(),this.rn.forEach(t=>t.gt()),this.mn.gt(),this.cn.gt()}Bn(t){return t&&!t.fn().Ni()?t.fn():null}yn(t,e,s){this.On(t,e,s)&&this.Dn()}On(t,e,s){const h=this.ln,l=this.an,a=this.nn,f=this.sn,p=this.tn,v=this.Bn(s);this.sn=t,this.ln=isNaN(t)?NaN:this.Hi.yt().Et(t),this.tn=s;const _=v!==null?v.Tt():null;return v!==null&&_!==null?(this.nn=e,this.an=v.Dt(e,_)):(this.nn=NaN,this.an=NaN),h!==this.ln||l!==this.an||f!==this.sn||a!==this.nn||p!==this.tn}Cn(){const t=this.Hi.wt().map(s=>s.Ln().An()).filter(lm),e=t.length===0?null:Math.max(...t);this.sn=e!==null?e:NaN}Rn(t,e,s){let h=t.get(e);return h===void 0&&(h=new mm(this,e,s),t.set(e,h)),h}}function Ss(o){return o==="left"||o==="right"}class St{constructor(t){this.In=new Map,this.En=[],this.Vn=t}zn(t,e){const s=function(h,l){return h===void 0?l:{Nn:Math.max(h.Nn,l.Nn),Fn:h.Fn||l.Fn}}(this.In.get(t),e);this.In.set(t,s)}Wn(){return this.Vn}jn(t){const e=this.In.get(t);return e===void 0?{Nn:this.Vn}:{Nn:Math.max(this.Vn,e.Nn),Fn:e.Fn}}$n(){this.Hn(),this.En=[{Un:0}]}qn(t){this.Hn(),this.En=[{Un:1,Ot:t}]}Yn(t){this.Xn(),this.En.push({Un:5,Ot:t})}Hn(){this.Xn(),this.En.push({Un:6})}Zn(){this.Hn(),this.En=[{Un:4}]}Kn(t){this.Hn(),this.En.push({Un:2,Ot:t})}Gn(t){this.Hn(),this.En.push({Un:3,Ot:t})}Jn(){return this.En}Qn(t){for(const e of t.En)this.ts(e);this.Vn=Math.max(this.Vn,t.Vn),t.In.forEach((e,s)=>{this.zn(s,e)})}static ns(){return new St(2)}static ss(){return new St(3)}ts(t){switch(t.Un){case 0:this.$n();break;case 1:this.qn(t.Ot);break;case 2:this.Kn(t.Ot);break;case 3:this.Gn(t.Ot);break;case 4:this.Zn();break;case 5:this.Yn(t.Ot);break;case 6:this.Xn()}}Xn(){const t=this.En.findIndex(e=>e.Un===5);t!==-1&&this.En.splice(t,1)}}const hu=".";function Mi(o,t){if(!ui(o))return"n/a";if(!Qe(t))throw new TypeError("invalid length");if(t<0||t>16)throw new TypeError("invalid length");return t===0?o.toString():("0000000000000000"+o.toString()).slice(-t)}class xs{constructor(t,e){if(e||(e=1),ui(t)&&Qe(t)||(t=100),t<0)throw new TypeError("invalid base");this.Vi=t,this.es=e,this.rs()}format(t){const e=t<0?"−":"";return t=Math.abs(t),e+this.hs(t)}rs(){if(this.ls=0,this.Vi>0&&this.es>0){let t=this.Vi;for(;t>1;)t/=10,this.ls++}}hs(t){const e=this.Vi/this.es;let s=Math.floor(t),h="";const l=this.ls!==void 0?this.ls:NaN;if(e>1){let a=+(Math.round(t*e)-s*e).toFixed(this.ls);a>=e&&(a-=e,s+=1),h=hu+Mi(+a.toFixed(this.ls)*this.es,l)}else s=Math.round(s*e)/e,l>0&&(h=hu+Mi(0,l));return s.toFixed(0)+h}}class ju extends xs{constructor(t=100){super(t)}format(t){return`${super.format(t)}%`}}class xm{constructor(t){this.os=t}format(t){let e="";return t<0&&(e="-",t=-t),t<995?e+this._s(t):t<999995?e+this._s(t/1e3)+"K":t<999999995?(t=1e3*Math.round(t/1e3),e+this._s(t/1e6)+"M"):(t=1e6*Math.round(t/1e6),e+this._s(t/1e9)+"B")}_s(t){let e;const s=Math.pow(10,this.os);return e=(t=Math.round(t*s)/s)>=1e-15&&t<1?t.toFixed(this.os).replace(/\.?0+$/,""):String(t),e.replace(/(\.[1-9]*)0+$/,(h,l)=>l)}}function ta(o,t,e,s,h,l,a){if(t.length===0||s.from>=t.length)return;const f=o.context,p=t[s.from];let v=l(o,p),_=p;if(s.to-s.from<2){const y=h/2;f.beginPath();const V={st:p.st-y,et:p.et},O={st:p.st+y,et:p.et};return f.moveTo(V.st,V.et),f.lineTo(O.st,O.et),void a(f,v,V,O)}const w=(y,V)=>{a(f,v,_,V),f.beginPath(),v=y,_=V};let M=_;f.beginPath(),f.moveTo(p.st,p.et);for(let y=s.from+1;y<s.to;++y){M=t[y];const V=l(o,M);switch(e){case 0:f.lineTo(M.st,M.et);break;case 1:f.lineTo(M.st,t[y-1].et),V!==v&&(w(V,M),f.lineTo(M.st,t[y-1].et)),f.lineTo(M.st,M.et);break;case 2:{const[O,R]=Mm(t,y-1,y);f.bezierCurveTo(O.st,O.et,R.st,R.et,M.st,M.et);break}}e!==1&&V!==v&&(w(V,M),f.moveTo(M.st,M.et))}(_!==M||_===M&&e===1)&&a(f,v,_,M)}function Kr(o,t){return{st:o.st-t.st,et:o.et-t.et}}function ou(o,t){return{st:o.st/t,et:o.et/t}}function Mm(o,t,e){const s=Math.max(0,t-1),h=Math.min(o.length-1,e+1);var l,a;return[(l=o[t],a=ou(Kr(o[e],o[s]),6),{st:l.st+a.st,et:l.et+a.et}),Kr(o[e],ou(Kr(o[h],o[t]),6))]}function Cm(o,t,e,s,h){t.lineTo(h.st,o),t.lineTo(s.st,o),t.closePath(),t.fillStyle=e,t.fill()}class ia extends sn{constructor(){super(...arguments),this.J=null}tt(t){this.J=t}Z(t){var e;if(this.J===null)return;const{nt:s,it:h,us:l,rt:a,Ft:f,cs:p}=this.J,v=(e=this.J.ds)!==null&&e!==void 0?e:this.J.fs?0:t.mediaSize.height;if(h===null)return;const _=t.context;_.lineCap="butt",_.lineJoin="round",_.lineWidth=a,Yi(_,f),_.lineWidth=1,ta(t,s,p,h,l,this.ps.bind(this),Cm.bind(null,v))}}class ym extends ia{constructor(){super(...arguments),this.vs=null}ps(t,e){const{context:s,mediaSize:h}=t,{bs:l,gs:a}=e,f=h.height;if(this.vs!==null&&this.vs.topColor===l&&this.vs.bottomColor===a&&this.vs.bottom===f)return this.vs.fillStyle;const p=s.createLinearGradient(0,0,0,f);return p.addColorStop(0,l),p.addColorStop(1,a),this.vs={topColor:l,bottomColor:a,fillStyle:p,bottom:f},p}}function Tm(o,t){o.strokeStyle=t,o.stroke()}class ea extends sn{constructor(){super(...arguments),this.J=null}tt(t){this.J=t}Z(t){if(this.J===null)return;const{nt:e,it:s,us:h,cs:l,rt:a,Ft:f}=this.J;if(s===null)return;const p=t.context;p.lineCap="butt",p.lineWidth=a,Yi(p,f),p.lineJoin="round",ta(t,e,l,s,h,this.ws.bind(this),Tm)}}class na extends ea{ws(t,e){return e.ot}}function rn(o,t,e,s=0,h=o.length){let l=h-s;for(;0<l;){const a=l>>1,f=s+a;e(o[f],t)?(s=f+1,l-=a+1):l=a}return s}function sa(o,t,e,s=0,h=o.length){let l=h-s;for(;0<l;){const a=l>>1,f=s+a;e(t,o[f])?l=a:(s=f+1,l-=a+1)}return s}function Em(o,t){return o._t<t}function Lm(o,t){return o<t._t}function ra(o,t,e){const s=t.Ms(),h=t.ci(),l=rn(o,s,Em),a=sa(o,h,Lm);if(!e)return{from:l,to:a};let f=l,p=a;return l>0&&l<o.length&&o[l]._t>=s&&(f=l-1),a>0&&a<o.length&&o[a-1]._t<=h&&(p=a+1),{from:f,to:p}}class ha{constructor(t,e,s){this.Ss=!0,this.xs=!0,this.ys=!0,this.ks=[],this.Cs=null,this.Ts=t,this.Ps=e,this.Rs=s}gt(t){this.Ss=!0,t==="data"&&(this.xs=!0),t==="options"&&(this.ys=!0)}Mt(){return this.Ts.Ct()?(this.Ds(),this.Cs===null?null:this.Bs):null}Os(){this.ks=this.ks.map(t=>Object.assign(Object.assign({},t),this.Ts.Ls().As(t._t)))}Is(){this.Cs=null}Ds(){this.xs&&(this.Es(),this.xs=!1),this.ys&&(this.Os(),this.ys=!1),this.Ss&&(this.Vs(),this.Ss=!1)}Vs(){const t=this.Ts.Bt(),e=this.Ps.yt();if(this.Is(),e.Ni()||t.Ni())return;const s=e.zs();if(s===null||this.Ts.Ln().Ns()===0)return;const h=this.Ts.Tt();h!==null&&(this.Cs=ra(this.ks,s,this.Rs),this.Fs(t,e,h.Ot),this.Ws())}}class Ms extends ha{constructor(t,e){super(t,e,!0)}Fs(t,e,s){e.js(this.ks,ps(this.Cs)),t.$s(this.ks,s,ps(this.Cs))}Hs(t,e){return{_t:t,ut:e,st:NaN,et:NaN}}Es(){const t=this.Ts.Ls();this.ks=this.Ts.Ln().Us().map(e=>{const s=e.Ot[3];return this.qs(e.Ys,s,t)})}}class Vm extends Ms{constructor(t,e){super(t,e),this.Bs=new dh,this.Xs=new ym,this.Zs=new na,this.Bs.Y([this.Xs,this.Zs])}qs(t,e,s){return Object.assign(Object.assign({},this.Hs(t,e)),s.As(t))}Ws(){const t=this.Ts.F();this.Xs.tt({cs:t.lineType,nt:this.ks,Ft:t.lineStyle,rt:t.lineWidth,ds:null,fs:t.invertFilledArea,it:this.Cs,us:this.Ps.yt().Ks()}),this.Zs.tt({cs:t.lineType,nt:this.ks,Ft:t.lineStyle,rt:t.lineWidth,it:this.Cs,us:this.Ps.yt().Ks()})}}class Im extends Xi{constructor(){super(...arguments),this.Vt=null,this.Gs=0,this.Js=0}tt(t){this.Vt=t}Z({context:t,horizontalPixelRatio:e,verticalPixelRatio:s}){if(this.Vt===null||this.Vt.Ln.length===0||this.Vt.it===null)return;this.Gs=this.Qs(e),this.Gs>=2&&Math.max(1,Math.floor(e))%2!=this.Gs%2&&this.Gs--,this.Js=this.Vt.te?Math.min(this.Gs,Math.floor(e)):this.Gs;let h=null;const l=this.Js<=this.Gs&&this.Vt.Ks>=Math.floor(1.5*e);for(let a=this.Vt.it.from;a<this.Vt.it.to;++a){const f=this.Vt.Ln[a];h!==f.ie&&(t.fillStyle=f.ie,h=f.ie);const p=Math.floor(.5*this.Js),v=Math.round(f.st*e),_=v-p,w=this.Js,M=_+w-1,y=Math.min(f.ne,f.se),V=Math.max(f.ne,f.se),O=Math.round(y*s)-p,R=Math.round(V*s)+p,k=Math.max(R-O,this.Js);t.fillRect(_,O,w,k);const lt=Math.ceil(1.5*this.Gs);if(l){if(this.Vt.ee){const yt=v-lt;let dt=Math.max(O,Math.round(f.re*s)-p),vt=dt+w-1;vt>O+k-1&&(vt=O+k-1,dt=vt-w+1),t.fillRect(yt,dt,_-yt,vt-dt+1)}const j=v+lt;let Z=Math.max(O,Math.round(f.he*s)-p),it=Z+w-1;it>O+k-1&&(it=O+k-1,Z=it-w+1),t.fillRect(M+1,Z,j-M,it-Z+1)}}}Qs(t){const e=Math.floor(t);return Math.max(e,Math.floor(function(s,h){return Math.floor(.3*s*h)}(A(this.Vt).Ks,t)))}}class oa extends ha{constructor(t,e){super(t,e,!1)}Fs(t,e,s){e.js(this.ks,ps(this.Cs)),t.le(this.ks,s,ps(this.Cs))}ae(t,e,s){return{_t:t,oe:e.Ot[0],_e:e.Ot[1],ue:e.Ot[2],ce:e.Ot[3],st:NaN,re:NaN,ne:NaN,se:NaN,he:NaN}}Es(){const t=this.Ts.Ls();this.ks=this.Ts.Ln().Us().map(e=>this.qs(e.Ys,e,t))}}class Am extends oa{constructor(){super(...arguments),this.Bs=new Im}qs(t,e,s){return Object.assign(Object.assign({},this.ae(t,e,s)),s.As(t))}Ws(){const t=this.Ts.F();this.Bs.tt({Ln:this.ks,Ks:this.Ps.yt().Ks(),ee:t.openVisible,te:t.thinBars,it:this.Cs})}}function gs(o,t,e){return Math.min(Math.max(o,t),e)}function ss(o,t,e){return t-o<=e}function la(o){return o<=0?NaN:Math.log(o)/Math.log(10)}function ua(o){const t=Math.ceil(o);return t%2==0?t-1:t}class Om extends ia{constructor(){super(...arguments),this.vs=null}ps(t,e){var s;const{context:h,mediaSize:l}=t,a=this.J,{de:f,fe:p,pe:v,ve:_}=e,w=(s=a.ds)!==null&&s!==void 0?s:l.height,M=l.height;if(this.vs!==null&&this.vs.topFillColor1===f&&this.vs.topFillColor2===p&&this.vs.bottomFillColor1===v&&this.vs.bottomFillColor2===_&&this.vs.baseLevelCoordinate===w&&this.vs.bottom===M)return this.vs.fillStyle;const y=h.createLinearGradient(0,0,0,M),V=gs(w/M,0,1);return y.addColorStop(0,f),y.addColorStop(V,p),y.addColorStop(V,v),y.addColorStop(1,_),this.vs={topFillColor1:f,topFillColor2:p,bottomFillColor1:v,bottomFillColor2:_,fillStyle:y,baseLevelCoordinate:w,bottom:M},y}}class Fm extends ea{constructor(){super(...arguments),this.me=null}ws(t,e){const{context:s,mediaSize:h}=t,l=this.J,{be:a,ge:f}=e,{ds:p}=l,v=h.height;if(this.me!==null&&this.me.topLineColor===a&&this.me.bottomLineColor===f&&this.me.baseLevelCoordinate===p&&this.me.bottom===v)return this.me.strokeStyle;const _=s.createLinearGradient(0,0,0,v),w=gs(p/v,0,1);return _.addColorStop(0,a),_.addColorStop(w,a),_.addColorStop(w,f),_.addColorStop(1,f),this.me={topLineColor:a,bottomLineColor:f,strokeStyle:_,baseLevelCoordinate:p,bottom:v},_}}class zm extends Ms{constructor(t,e){super(t,e),this.Bs=new dh,this.we=new Om,this.Me=new Fm,this.Bs.Y([this.we,this.Me])}qs(t,e,s){return Object.assign(Object.assign({},this.Hs(t,e)),s.As(t))}Ws(){const t=this.Ts.Tt();if(t===null)return;const e=this.Ts.F(),s=this.Ts.Bt().Dt(e.baseValue.price,t.Ot),h=this.Ps.yt().Ks();this.we.tt({nt:this.ks,rt:e.lineWidth,Ft:e.lineStyle,cs:e.lineType,ds:s,fs:!1,it:this.Cs,us:h}),this.Me.tt({nt:this.ks,rt:e.lineWidth,Ft:e.lineStyle,cs:e.lineType,ds:s,it:this.Cs,us:h})}}class Bm extends Xi{constructor(){super(...arguments),this.Vt=null,this.Gs=0}tt(t){this.Vt=t}Z(t){if(this.Vt===null||this.Vt.Ln.length===0||this.Vt.it===null)return;const{horizontalPixelRatio:e}=t;this.Gs=function(l,a){if(l>=2.5&&l<=4)return Math.floor(3*a);const f=1-.2*Math.atan(Math.max(4,l)-4)/(.5*Math.PI),p=Math.floor(l*f*a),v=Math.floor(l*a),_=Math.min(p,v);return Math.max(Math.floor(a),_)}(this.Vt.Ks,e),this.Gs>=2&&Math.floor(e)%2!=this.Gs%2&&this.Gs--;const s=this.Vt.Ln;this.Vt.Se&&this.xe(t,s,this.Vt.it),this.Vt.ui&&this.ye(t,s,this.Vt.it);const h=this.ke(e);(!this.Vt.ui||this.Gs>2*h)&&this.Ce(t,s,this.Vt.it)}xe(t,e,s){if(this.Vt===null)return;const{context:h,horizontalPixelRatio:l,verticalPixelRatio:a}=t;let f="",p=Math.min(Math.floor(l),Math.floor(this.Vt.Ks*l));p=Math.max(Math.floor(l),Math.min(p,this.Gs));const v=Math.floor(.5*p);let _=null;for(let w=s.from;w<s.to;w++){const M=e[w];M.Te!==f&&(h.fillStyle=M.Te,f=M.Te);const y=Math.round(Math.min(M.re,M.he)*a),V=Math.round(Math.max(M.re,M.he)*a),O=Math.round(M.ne*a),R=Math.round(M.se*a);let k=Math.round(l*M.st)-v;const lt=k+p-1;_!==null&&(k=Math.max(_+1,k),k=Math.min(k,lt));const j=lt-k+1;h.fillRect(k,O,j,y-O),h.fillRect(k,V+1,j,R-V),_=lt}}ke(t){let e=Math.floor(1*t);this.Gs<=2*e&&(e=Math.floor(.5*(this.Gs-1)));const s=Math.max(Math.floor(t),e);return this.Gs<=2*s?Math.max(Math.floor(t),Math.floor(1*t)):s}ye(t,e,s){if(this.Vt===null)return;const{context:h,horizontalPixelRatio:l,verticalPixelRatio:a}=t;let f="";const p=this.ke(l);let v=null;for(let _=s.from;_<s.to;_++){const w=e[_];w.Pe!==f&&(h.fillStyle=w.Pe,f=w.Pe);let M=Math.round(w.st*l)-Math.floor(.5*this.Gs);const y=M+this.Gs-1,V=Math.round(Math.min(w.re,w.he)*a),O=Math.round(Math.max(w.re,w.he)*a);if(v!==null&&(M=Math.max(v+1,M),M=Math.min(M,y)),this.Vt.Ks*l>2*p)vm(h,M,V,y-M+1,O-V+1,p);else{const R=y-M+1;h.fillRect(M,V,R,O-V+1)}v=y}}Ce(t,e,s){if(this.Vt===null)return;const{context:h,horizontalPixelRatio:l,verticalPixelRatio:a}=t;let f="";const p=this.ke(l);for(let v=s.from;v<s.to;v++){const _=e[v];let w=Math.round(Math.min(_.re,_.he)*a),M=Math.round(Math.max(_.re,_.he)*a),y=Math.round(_.st*l)-Math.floor(.5*this.Gs),V=y+this.Gs-1;if(_.ie!==f){const O=_.ie;h.fillStyle=O,f=O}this.Vt.ui&&(y+=p,w+=p,V-=p,M-=p),w>M||h.fillRect(y,w,V-y+1,M-w+1)}}}class Nm extends oa{constructor(){super(...arguments),this.Bs=new Bm}qs(t,e,s){return Object.assign(Object.assign({},this.ae(t,e,s)),s.As(t))}Ws(){const t=this.Ts.F();this.Bs.tt({Ln:this.ks,Ks:this.Ps.yt().Ks(),Se:t.wickVisible,ui:t.borderVisible,it:this.Cs})}}class Rm extends Xi{constructor(){super(...arguments),this.Vt=null,this.Re=[]}tt(t){this.Vt=t,this.Re=[]}Z({context:t,horizontalPixelRatio:e,verticalPixelRatio:s}){if(this.Vt===null||this.Vt.nt.length===0||this.Vt.it===null)return;this.Re.length||this.De(e);const h=Math.max(1,Math.floor(s)),l=Math.round(this.Vt.Be*s)-Math.floor(h/2),a=l+h;for(let f=this.Vt.it.from;f<this.Vt.it.to;f++){const p=this.Vt.nt[f],v=this.Re[f-this.Vt.it.from],_=Math.round(p.et*s);let w,M;t.fillStyle=p.ie,_<=l?(w=_,M=a):(w=l,M=_-Math.floor(h/2)+h),t.fillRect(v.Ms,w,v.ci-v.Ms+1,M-w)}}De(t){if(this.Vt===null||this.Vt.nt.length===0||this.Vt.it===null)return void(this.Re=[]);const e=Math.ceil(this.Vt.Ks*t)<=1?0:Math.max(1,Math.floor(t)),s=Math.round(this.Vt.Ks*t)-e;this.Re=new Array(this.Vt.it.to-this.Vt.it.from);for(let l=this.Vt.it.from;l<this.Vt.it.to;l++){const a=this.Vt.nt[l],f=Math.round(a.st*t);let p,v;if(s%2){const _=(s-1)/2;p=f-_,v=f+_}else{const _=s/2;p=f-_,v=f+_-1}this.Re[l-this.Vt.it.from]={Ms:p,ci:v,Oe:f,Ae:a.st*t,_t:a._t}}for(let l=this.Vt.it.from+1;l<this.Vt.it.to;l++){const a=this.Re[l-this.Vt.it.from],f=this.Re[l-this.Vt.it.from-1];a._t===f._t+1&&a.Ms-f.ci!==e+1&&(f.Oe>f.Ae?f.ci=a.Ms-e-1:a.Ms=f.ci+e+1)}let h=Math.ceil(this.Vt.Ks*t);for(let l=this.Vt.it.from;l<this.Vt.it.to;l++){const a=this.Re[l-this.Vt.it.from];a.ci<a.Ms&&(a.ci=a.Ms);const f=a.ci-a.Ms+1;h=Math.min(f,h)}if(e>0&&h<4)for(let l=this.Vt.it.from;l<this.Vt.it.to;l++){const a=this.Re[l-this.Vt.it.from];a.ci-a.Ms+1>h&&(a.Oe>a.Ae?a.ci-=1:a.Ms+=1)}}}class Pm extends Ms{constructor(){super(...arguments),this.Bs=new Rm}qs(t,e,s){return Object.assign(Object.assign({},this.Hs(t,e)),s.As(t))}Ws(){const t={nt:this.ks,Ks:this.Ps.yt().Ks(),it:this.Cs,Be:this.Ts.Bt().Dt(this.Ts.F().base,A(this.Ts.Tt()).Ot)};this.Bs.tt(t)}}class Dm extends Ms{constructor(){super(...arguments),this.Bs=new na}qs(t,e,s){return Object.assign(Object.assign({},this.Hs(t,e)),s.As(t))}Ws(){const t=this.Ts.F(),e={nt:this.ks,Ft:t.lineStyle,cs:t.lineType,rt:t.lineWidth,it:this.Cs,us:this.Ps.yt().Ks()};this.Bs.tt(e)}}const Um=/[2-9]/g;class je{constructor(t=50){this.Le=0,this.Ie=1,this.Ee=1,this.Ve={},this.ze=new Map,this.Ne=t}Fe(){this.Le=0,this.ze.clear(),this.Ie=1,this.Ee=1,this.Ve={}}Si(t,e,s){return this.We(t,e,s).width}Mi(t,e,s){const h=this.We(t,e,s);return((h.actualBoundingBoxAscent||0)-(h.actualBoundingBoxDescent||0))/2}We(t,e,s){const h=s||Um,l=String(e).replace(h,"0");if(this.ze.has(l))return Jt(this.ze.get(l)).je;if(this.Le===this.Ne){const f=this.Ve[this.Ee];delete this.Ve[this.Ee],this.ze.delete(f),this.Ee++,this.Le--}t.save(),t.textBaseline="middle";const a=t.measureText(l);return t.restore(),a.width===0&&e.length||(this.ze.set(l,{je:a,$e:this.Ie}),this.Ve[this.Ie]=l,this.Le++,this.Ie++),a}}class km{constructor(t){this.He=null,this.S=null,this.Ue="right",this.qe=t}Ye(t,e,s){this.He=t,this.S=e,this.Ue=s}X(t){this.S!==null&&this.He!==null&&this.He.X(t,this.S,this.qe,this.Ue)}}class aa{constructor(t,e,s){this.Xe=t,this.qe=new je(50),this.Ze=e,this.N=s,this.W=-1,this.jt=new km(this.qe)}Mt(){const t=this.N.Ke(this.Ze);if(t===null)return null;const e=t.Ge(this.Ze)?t.Je():this.Ze.Bt();if(e===null)return null;const s=t.Qe(e);if(s==="overlay")return null;const h=this.N.tr();return h.T!==this.W&&(this.W=h.T,this.qe.Fe()),this.jt.Ye(this.Xe.Ii(),h,s),this.jt}}class Wm extends Xi{constructor(){super(...arguments),this.Vt=null}tt(t){this.Vt=t}ir(t,e){var s;if(!(!((s=this.Vt)===null||s===void 0)&&s.Ct))return null;const{et:h,rt:l,nr:a}=this.Vt;return e>=h-l-7&&e<=h+l+7?{sr:this.Vt,nr:a}:null}Z({context:t,bitmapSize:e,horizontalPixelRatio:s,verticalPixelRatio:h}){if(this.Vt===null||this.Vt.Ct===!1)return;const l=Math.round(this.Vt.et*h);l<0||l>e.height||(t.lineCap="butt",t.strokeStyle=this.Vt.D,t.lineWidth=Math.floor(this.Vt.rt*s),Yi(t,this.Vt.Ft),Zu(t,l,0,e.width))}}class vh{constructor(t){this.er={et:0,D:"rgba(0, 0, 0, 0)",rt:1,Ft:0,Ct:!1},this.rr=new Wm,this.vt=!0,this.Ts=t,this.Ps=t.Ut(),this.rr.tt(this.er)}gt(){this.vt=!0}Mt(){return this.Ts.Ct()?(this.vt&&(this.hr(),this.vt=!1),this.rr):null}}class $m extends vh{constructor(t){super(t)}hr(){this.er.Ct=!1;const t=this.Ts.Bt(),e=t.lr().lr;if(e!==2&&e!==3)return;const s=this.Ts.F();if(!s.baseLineVisible||!this.Ts.Ct())return;const h=this.Ts.Tt();h!==null&&(this.er.Ct=!0,this.er.et=t.Dt(h.Ot,h.Ot),this.er.D=s.baseLineColor,this.er.rt=s.baseLineWidth,this.er.Ft=s.baseLineStyle)}}class Gm extends Xi{constructor(){super(...arguments),this.Vt=null}tt(t){this.Vt=t}ar(){return this.Vt}Z({context:t,horizontalPixelRatio:e,verticalPixelRatio:s}){const h=this.Vt;if(h===null)return;const l=Math.max(1,Math.floor(e)),a=l%2/2,f=Math.round(h.Ae.x*e)+a,p=h.Ae.y*s;t.fillStyle=h._r,t.beginPath();const v=Math.max(2,1.5*h.ur)*e;t.arc(f,p,v,0,2*Math.PI,!1),t.fill(),t.fillStyle=h.cr,t.beginPath(),t.arc(f,p,h.lt*e,0,2*Math.PI,!1),t.fill(),t.lineWidth=l,t.strokeStyle=h.dr,t.beginPath(),t.arc(f,p,h.lt*e+l/2,0,2*Math.PI,!1),t.stroke()}}const Hm=[{pr:0,vr:.25,mr:4,br:10,gr:.25,wr:0,Mr:.4,Sr:.8},{pr:.25,vr:.525,mr:10,br:14,gr:0,wr:0,Mr:.8,Sr:0},{pr:.525,vr:1,mr:14,br:14,gr:0,wr:0,Mr:0,Sr:0}];function lu(o,t,e,s){return function(h,l){if(h==="transparent")return h;const a=ds(h),f=a[3];return`rgba(${a[0]}, ${a[1]}, ${a[2]}, ${l*f})`}(o,e+(s-e)*t)}function uu(o,t){const e=o%2600/2600;let s;for(const p of Hm)if(e>=p.pr&&e<=p.vr){s=p;break}qi(s!==void 0,"Last price animation internal logic error");const h=(e-s.pr)/(s.vr-s.pr);return{cr:lu(t,h,s.gr,s.wr),dr:lu(t,h,s.Mr,s.Sr),lt:(l=h,a=s.mr,f=s.br,a+(f-a)*l)};var l,a,f}class Ym{constructor(t){this.jt=new Gm,this.vt=!0,this.yr=!0,this.kr=performance.now(),this.Cr=this.kr-1,this.Tr=t}Pr(){this.Cr=this.kr-1,this.gt()}Rr(){if(this.gt(),this.Tr.F().lastPriceAnimation===2){const t=performance.now(),e=this.Cr-t;if(e>0)return void(e<650&&(this.Cr+=2600));this.kr=t,this.Cr=t+2600}}gt(){this.vt=!0}Dr(){this.yr=!0}Ct(){return this.Tr.F().lastPriceAnimation!==0}Br(){switch(this.Tr.F().lastPriceAnimation){case 0:return!1;case 1:return!0;case 2:return performance.now()<=this.Cr}}Mt(){return this.vt?(this.St(),this.vt=!1,this.yr=!1):this.yr&&(this.Or(),this.yr=!1),this.jt}St(){this.jt.tt(null);const t=this.Tr.Ut().yt(),e=t.zs(),s=this.Tr.Tt();if(e===null||s===null)return;const h=this.Tr.Ar(!0);if(h.Lr||!e.Ir(h.Ys))return;const l={x:t.Et(h.Ys),y:this.Tr.Bt().Dt(h.ut,s.Ot)},a=h.D,f=this.Tr.F().lineWidth,p=uu(this.Er(),a);this.jt.tt({_r:a,ur:f,cr:p.cr,dr:p.dr,lt:p.lt,Ae:l})}Or(){const t=this.jt.ar();if(t!==null){const e=uu(this.Er(),t._r);t.cr=e.cr,t.dr=e.dr,t.lt=e.lt}}Er(){return this.Br()?performance.now()-this.kr:2599}}function qe(o,t){return ua(Math.min(Math.max(o,12),30)*t)}function tn(o,t){switch(o){case"arrowDown":case"arrowUp":return qe(t,1);case"circle":return qe(t,.8);case"square":return qe(t,.7)}}function ca(o){return function(t){const e=Math.ceil(t);return e%2!=0?e-1:e}(qe(o,1))}function au(o){return Math.max(qe(o,.1),3)}function fa(o,t,e,s,h){const l=tn("square",e),a=(l-1)/2,f=o-a,p=t-a;return s>=f&&s<=f+l&&h>=p&&h<=p+l}function cu(o,t,e,s,h){const l=(tn("arrowUp",h)-1)/2,a=(ua(h/2)-1)/2;t.beginPath(),o?(t.moveTo(e-l,s),t.lineTo(e,s-l),t.lineTo(e+l,s),t.lineTo(e+a,s),t.lineTo(e+a,s+l),t.lineTo(e-a,s+l),t.lineTo(e-a,s)):(t.moveTo(e-l,s),t.lineTo(e,s+l),t.lineTo(e+l,s),t.lineTo(e+a,s),t.lineTo(e+a,s-l),t.lineTo(e-a,s-l),t.lineTo(e-a,s)),t.fill()}function Km(o,t,e,s,h,l){return fa(t,e,s,h,l)}class qm extends sn{constructor(){super(...arguments),this.Vt=null,this.qe=new je,this.W=-1,this.j="",this.Vr=""}tt(t){this.Vt=t}Ye(t,e){this.W===t&&this.j===e||(this.W=t,this.j=e,this.Vr=_e(t,e),this.qe.Fe())}ir(t,e){if(this.Vt===null||this.Vt.it===null)return null;for(let s=this.Vt.it.from;s<this.Vt.it.to;s++){const h=this.Vt.nt[s];if(Zm(h,t,e))return{sr:h.zr,nr:h.nr}}return null}Z({context:t},e,s){if(this.Vt!==null&&this.Vt.it!==null){t.textBaseline="middle",t.font=this.Vr;for(let h=this.Vt.it.from;h<this.Vt.it.to;h++){const l=this.Vt.nt[h];l.Gt!==void 0&&(l.Gt.$i=this.qe.Si(t,l.Gt.Nr),l.Gt.It=this.W),Xm(l,t)}}}}function Xm(o,t){t.fillStyle=o.D,o.Gt!==void 0&&function(e,s,h,l){e.fillText(s,h,l)}(t,o.Gt.Nr,o.st-o.Gt.$i/2,o.Gt.et),function(e,s){if(e.Ns!==0){switch(e.Fr){case"arrowDown":return void cu(!1,s,e.st,e.et,e.Ns);case"arrowUp":return void cu(!0,s,e.st,e.et,e.Ns);case"circle":return void function(h,l,a,f){const p=(tn("circle",f)-1)/2;h.beginPath(),h.arc(l,a,p,0,2*Math.PI,!1),h.fill()}(s,e.st,e.et,e.Ns);case"square":return void function(h,l,a,f){const p=tn("square",f),v=(p-1)/2,_=l-v,w=a-v;h.fillRect(_,w,p,p)}(s,e.st,e.et,e.Ns)}e.Fr}}(o,t)}function Zm(o,t,e){return!(o.Gt===void 0||!function(s,h,l,a,f,p){const v=a/2;return f>=s&&f<=s+l&&p>=h-v&&p<=h+v}(o.st,o.Gt.et,o.Gt.$i,o.Gt.It,t,e))||function(s,h,l){if(s.Ns===0)return!1;switch(s.Fr){case"arrowDown":case"arrowUp":return Km(0,s.st,s.et,s.Ns,h,l);case"circle":return function(a,f,p,v,_){const w=2+tn("circle",p)/2,M=a-v,y=f-_;return Math.sqrt(M*M+y*y)<=w}(s.st,s.et,s.Ns,h,l);case"square":return fa(s.st,s.et,s.Ns,h,l)}}(o,t,e)}function Jm(o,t,e,s,h,l,a,f,p){const v=ui(e)?e:e.ce,_=ui(e)?e:e._e,w=ui(e)?e:e.ue,M=ui(t.size)?Math.max(t.size,0):1,y=ca(f.Ks())*M,V=y/2;switch(o.Ns=y,t.position){case"inBar":return o.et=a.Dt(v,p),void(o.Gt!==void 0&&(o.Gt.et=o.et+V+l+.6*h));case"aboveBar":return o.et=a.Dt(_,p)-V-s.Wr,o.Gt!==void 0&&(o.Gt.et=o.et-V-.6*h,s.Wr+=1.2*h),void(s.Wr+=y+l);case"belowBar":return o.et=a.Dt(w,p)+V+s.jr,o.Gt!==void 0&&(o.Gt.et=o.et+V+l+.6*h,s.jr+=1.2*h),void(s.jr+=y+l)}t.position}class Qm{constructor(t,e){this.vt=!0,this.$r=!0,this.Hr=!0,this.Ur=null,this.jt=new qm,this.Tr=t,this.Hi=e,this.Vt={nt:[],it:null}}gt(t){this.vt=!0,this.Hr=!0,t==="data"&&(this.$r=!0)}Mt(t){if(!this.Tr.Ct())return null;this.vt&&this.qr();const e=this.Hi.F().layout;return this.jt.Ye(e.fontSize,e.fontFamily),this.jt.tt(this.Vt),this.jt}Yr(){if(this.Hr){if(this.Tr.Xr().length>0){const t=this.Hi.yt().Ks(),e=au(t),s=1.5*ca(t)+2*e;this.Ur={above:s,below:s}}else this.Ur=null;this.Hr=!1}return this.Ur}qr(){const t=this.Tr.Bt(),e=this.Hi.yt(),s=this.Tr.Xr();this.$r&&(this.Vt.nt=s.map(_=>({_t:_.time,st:0,et:0,Ns:0,Fr:_.shape,D:_.color,zr:_.internalId,nr:_.id,Gt:void 0})),this.$r=!1);const h=this.Hi.F().layout;this.Vt.it=null;const l=e.zs();if(l===null)return;const a=this.Tr.Tt();if(a===null||this.Vt.nt.length===0)return;let f=NaN;const p=au(e.Ks()),v={Wr:p,jr:p};this.Vt.it=ra(this.Vt.nt,l,!0);for(let _=this.Vt.it.from;_<this.Vt.it.to;_++){const w=s[_];w.time!==f&&(v.Wr=p,v.jr=p,f=w.time);const M=this.Vt.nt[_];M.st=e.Et(w.time),w.text!==void 0&&w.text.length>0&&(M.Gt={Nr:w.text,et:0,$i:0,It:0});const y=this.Tr.Zr(w.time);y!==null&&Jm(M,w,y,v,h.fontSize,p,t,e,a.Ot)}this.vt=!1}}class jm extends vh{constructor(t){super(t)}hr(){const t=this.er;t.Ct=!1;const e=this.Ts.F();if(!e.priceLineVisible||!this.Ts.Ct())return;const s=this.Ts.Ar(e.priceLineSource===0);s.Lr||(t.Ct=!0,t.et=s.yi,t.D=this.Ts.Kr(s.D),t.rt=e.priceLineWidth,t.Ft=e.priceLineStyle)}}class t_ extends ph{constructor(t){super(),this.$t=t}Ei(t,e,s){t.Ct=!1,e.Ct=!1;const h=this.$t;if(!h.Ct())return;const l=h.F(),a=l.lastValueVisible,f=h.Gr()!=="",p=l.seriesLastValueMode===0,v=h.Ar(!1);if(v.Lr)return;a&&(t.Gt=this.Jr(v,a,p),t.Ct=t.Gt.length!==0),(f||p)&&(e.Gt=this.Qr(v,a,f,p),e.Ct=e.Gt.length>0);const _=h.Kr(v.D),w=ws(_);s.t=w.t,s.D=w.i,s.yi=v.yi,e.At=h.Ut().Lt(v.yi/h.Bt().It()),t.At=_,t.D=s.D,e.D=s.D}Qr(t,e,s,h){let l="";const a=this.$t.Gr();return s&&a.length!==0&&(l+=`${a} `),e&&h&&(l+=this.$t.Bt().th()?t.ih:t.nh),l.trim()}Jr(t,e,s){return e?s?this.$t.Bt().th()?t.nh:t.ih:t.Gt:""}}class kt{constructor(t,e){this.sh=t,this.eh=e}rh(t){return t!==null&&this.sh===t.sh&&this.eh===t.eh}hh(){return new kt(this.sh,this.eh)}lh(){return this.sh}ah(){return this.eh}oh(){return this.eh-this.sh}Ni(){return this.eh===this.sh||Number.isNaN(this.eh)||Number.isNaN(this.sh)}Qn(t){return t===null?this:new kt(Math.min(this.lh(),t.lh()),Math.max(this.ah(),t.ah()))}_h(t){if(!ui(t)||this.eh-this.sh===0)return;const e=.5*(this.eh+this.sh);let s=this.eh-e,h=this.sh-e;s*=t,h*=t,this.eh=e+s,this.sh=e+h}uh(t){ui(t)&&(this.eh+=t,this.sh+=t)}dh(){return{minValue:this.sh,maxValue:this.eh}}static fh(t){return t===null?null:new kt(t.minValue,t.maxValue)}}class vs{constructor(t,e){this.ph=t,this.mh=e||null}bh(){return this.ph}gh(){return this.mh}dh(){return this.ph===null?null:{priceRange:this.ph.dh(),margins:this.mh||void 0}}static fh(t){return t===null?null:new vs(kt.fh(t.priceRange),t.margins)}}class i_ extends vh{constructor(t,e){super(t),this.wh=e}hr(){const t=this.er;t.Ct=!1;const e=this.wh.F();if(!this.Ts.Ct()||!e.lineVisible)return;const s=this.wh.Mh();s!==null&&(t.Ct=!0,t.et=s,t.D=e.color,t.rt=e.lineWidth,t.Ft=e.lineStyle,t.nr=this.wh.F().id)}}class e_ extends ph{constructor(t,e){super(),this.Tr=t,this.wh=e}Ei(t,e,s){t.Ct=!1,e.Ct=!1;const h=this.wh.F(),l=h.axisLabelVisible,a=h.title!=="",f=this.Tr;if(!l||!f.Ct())return;const p=this.wh.Mh();if(p===null)return;a&&(e.Gt=h.title,e.Ct=!0),e.At=f.Ut().Lt(p/f.Bt().It()),t.Gt=this.Sh(h.price),t.Ct=!0;const v=ws(h.color);s.t=v.t,s.D=v.i,s.yi=p}Sh(t){const e=this.Tr.Tt();return e===null?"":this.Tr.Bt().Fi(t,e.Ot)}}class n_{constructor(t,e){this.Tr=t,this.un=e,this.xh=new i_(t,this),this.Xe=new e_(t,this),this.yh=new aa(this.Xe,t,t.Ut())}kh(t){ai(this.un,t),this.gt(),this.Tr.Ut().Ch()}F(){return this.un}Th(){return this.xh}Ph(){return this.yh}Rh(){return this.Xe}gt(){this.xh.gt(),this.Xe.gt()}Mh(){const t=this.Tr,e=t.Bt();if(t.Ut().yt().Ni()||e.Ni())return null;const s=t.Tt();return s===null?null:e.Dt(this.un.price,s.Ot)}}class s_ extends gh{constructor(t){super(),this.Hi=t}Ut(){return this.Hi}}const r_={Bar:(o,t,e,s)=>{var h;const l=t.upColor,a=t.downColor,f=A(o(e,s)),p=Ke(f.Ot[0])<=Ke(f.Ot[3]);return{ie:(h=f.D)!==null&&h!==void 0?h:p?l:a}},Candlestick:(o,t,e,s)=>{var h,l,a;const f=t.upColor,p=t.downColor,v=t.borderUpColor,_=t.borderDownColor,w=t.wickUpColor,M=t.wickDownColor,y=A(o(e,s)),V=Ke(y.Ot[0])<=Ke(y.Ot[3]);return{ie:(h=y.D)!==null&&h!==void 0?h:V?f:p,Pe:(l=y.At)!==null&&l!==void 0?l:V?v:_,Te:(a=y.Dh)!==null&&a!==void 0?a:V?w:M}},Area:(o,t,e,s)=>{var h,l,a,f;const p=A(o(e,s));return{ie:(h=p.ot)!==null&&h!==void 0?h:t.lineColor,ot:(l=p.ot)!==null&&l!==void 0?l:t.lineColor,bs:(a=p.bs)!==null&&a!==void 0?a:t.topColor,gs:(f=p.gs)!==null&&f!==void 0?f:t.bottomColor}},Baseline:(o,t,e,s)=>{var h,l,a,f,p,v;const _=A(o(e,s));return{ie:_.Ot[3]>=t.baseValue.price?t.topLineColor:t.bottomLineColor,be:(h=_.be)!==null&&h!==void 0?h:t.topLineColor,ge:(l=_.ge)!==null&&l!==void 0?l:t.bottomLineColor,de:(a=_.de)!==null&&a!==void 0?a:t.topFillColor1,fe:(f=_.fe)!==null&&f!==void 0?f:t.topFillColor2,pe:(p=_.pe)!==null&&p!==void 0?p:t.bottomFillColor1,ve:(v=_.ve)!==null&&v!==void 0?v:t.bottomFillColor2}},Line:(o,t,e,s)=>{var h,l;const a=A(o(e,s));return{ie:(h=a.D)!==null&&h!==void 0?h:t.color,ot:(l=a.D)!==null&&l!==void 0?l:t.color}},Histogram:(o,t,e,s)=>{var h;return{ie:(h=A(o(e,s)).D)!==null&&h!==void 0?h:t.color}}};class h_{constructor(t){this.Bh=(e,s)=>s!==void 0?s.Ot:this.Tr.Ln().Oh(e),this.Tr=t,this.Ah=r_[t.Lh()]}As(t,e){return this.Ah(this.Bh,this.Tr.F(),t,e)}}var fu;(function(o){o[o.NearestLeft=-1]="NearestLeft",o[o.None=0]="None",o[o.NearestRight=1]="NearestRight"})(fu||(fu={}));const zi=30;class o_{constructor(){this.Ih=[],this.Eh=new Map,this.Vh=new Map}zh(){return this.Ns()>0?this.Ih[this.Ih.length-1]:null}Nh(){return this.Ns()>0?this.Fh(0):null}An(){return this.Ns()>0?this.Fh(this.Ih.length-1):null}Ns(){return this.Ih.length}Ni(){return this.Ns()===0}Ir(t){return this.Wh(t,0)!==null}Oh(t){return this.jh(t)}jh(t,e=0){const s=this.Wh(t,e);return s===null?null:Object.assign(Object.assign({},this.$h(s)),{Ys:this.Fh(s)})}Us(){return this.Ih}Hh(t,e,s){if(this.Ni())return null;let h=null;for(const l of s)h=rs(h,this.Uh(t,e,l));return h}tt(t){this.Vh.clear(),this.Eh.clear(),this.Ih=t}Fh(t){return this.Ih[t].Ys}$h(t){return this.Ih[t]}Wh(t,e){const s=this.qh(t);if(s===null&&e!==0)switch(e){case-1:return this.Yh(t);case 1:return this.Xh(t);default:throw new TypeError("Unknown search mode")}return s}Yh(t){let e=this.Zh(t);return e>0&&(e-=1),e!==this.Ih.length&&this.Fh(e)<t?e:null}Xh(t){const e=this.Kh(t);return e!==this.Ih.length&&t<this.Fh(e)?e:null}qh(t){const e=this.Zh(t);return e===this.Ih.length||t<this.Ih[e].Ys?null:e}Zh(t){return rn(this.Ih,t,(e,s)=>e.Ys<s)}Kh(t){return sa(this.Ih,t,(e,s)=>s.Ys>e)}Gh(t,e,s){let h=null;for(let l=t;l<e;l++){const a=this.Ih[l].Ot[s];Number.isNaN(a)||(h===null?h={Jh:a,Qh:a}:(a<h.Jh&&(h.Jh=a),a>h.Qh&&(h.Qh=a)))}return h}Uh(t,e,s){if(this.Ni())return null;let h=null;const l=A(this.Nh()),a=A(this.An()),f=Math.max(t,l),p=Math.min(e,a),v=Math.ceil(f/zi)*zi,_=Math.max(v,Math.floor(p/zi)*zi);{const M=this.Zh(f),y=this.Kh(Math.min(p,v,e));h=rs(h,this.Gh(M,y,s))}let w=this.Eh.get(s);w===void 0&&(w=new Map,this.Eh.set(s,w));for(let M=Math.max(v+1,f);M<_;M+=zi){const y=Math.floor(M/zi);let V=w.get(y);if(V===void 0){const O=this.Zh(y*zi),R=this.Kh((y+1)*zi-1);V=this.Gh(O,R,s),w.set(y,V)}h=rs(h,V)}{const M=this.Zh(_),y=this.Kh(p);h=rs(h,this.Gh(M,y,s))}return h}}function rs(o,t){return o===null?t:t===null?o:{Jh:Math.min(o.Jh,t.Jh),Qh:Math.max(o.Qh,t.Qh)}}class mh extends s_{constructor(t,e,s){super(t),this.Vt=new o_,this.xh=new jm(this),this.tl=[],this.il=new $m(this),this.nl=null,this.sl=null,this.el=[],this.rl=[],this.hl=null,this.un=e,this.ll=s;const h=new t_(this);this.rn=[h],this.yh=new aa(h,this,t),s!=="Area"&&s!=="Line"&&s!=="Baseline"||(this.nl=new Ym(this)),this.al(),this.ol()}M(){this.hl!==null&&clearTimeout(this.hl)}Kr(t){return this.un.priceLineColor||t}Ar(t){const e={Lr:!0},s=this.Bt();if(this.Ut().yt().Ni()||s.Ni()||this.Vt.Ni())return e;const h=this.Ut().yt().zs(),l=this.Tt();if(h===null||l===null)return e;let a,f;if(t){const w=this.Vt.zh();if(w===null)return e;a=w,f=w.Ys}else{const w=this.Vt.jh(h.ci(),-1);if(w===null||(a=this.Vt.Oh(w.Ys),a===null))return e;f=w.Ys}const p=a.Ot[3],v=this.Ls().As(f,{Ot:a}),_=s.Dt(p,l.Ot);return{Lr:!1,ut:p,Gt:s.Fi(p,l.Ot),ih:s._l(p),nh:s.ul(p,l.Ot),D:v.ie,yi:_,Ys:f}}Ls(){return this.sl!==null||(this.sl=new h_(this)),this.sl}F(){return this.un}kh(t){const e=t.priceScaleId;e!==void 0&&e!==this.un.priceScaleId&&this.Ut().cl(this,e),ai(this.un,t),t.priceFormat!==void 0&&(this.al(),this.Ut().dl()),this.Ut().fl(this),this.Ut().pl(),this.bn.gt("options")}tt(t,e){this.Vt.tt(t),this.vl(),this.bn.gt("data"),this.cn.gt("data"),this.nl!==null&&(e&&e.ml?this.nl.Rr():t.length===0&&this.nl.Pr());const s=this.Ut().Ke(this);this.Ut().bl(s),this.Ut().fl(this),this.Ut().pl(),this.Ut().Ch()}gl(t){this.el=t,this.vl();const e=this.Ut().Ke(this);this.cn.gt("data"),this.Ut().bl(e),this.Ut().fl(this),this.Ut().pl(),this.Ut().Ch()}wl(){return this.el}Xr(){return this.rl}Ml(t){const e=new n_(this,t);return this.tl.push(e),this.Ut().fl(this),e}Sl(t){const e=this.tl.indexOf(t);e!==-1&&this.tl.splice(e,1),this.Ut().fl(this)}Lh(){return this.ll}Tt(){const t=this.xl();return t===null?null:{Ot:t.Ot[3],yl:t._t}}xl(){const t=this.Ut().yt().zs();if(t===null)return null;const e=t.Ms();return this.Vt.jh(e,1)}Ln(){return this.Vt}Zr(t){const e=this.Vt.Oh(t);return e===null?null:this.ll==="Bar"||this.ll==="Candlestick"?{oe:e.Ot[0],_e:e.Ot[1],ue:e.Ot[2],ce:e.Ot[3]}:e.Ot[3]}kl(t){const e=this.nl;return e!==null&&e.Ct()?(this.hl===null&&e.Br()&&(this.hl=setTimeout(()=>{this.hl=null,this.Ut().Cl()},0)),e.Dr(),[e]):[]}Tn(){const t=[];this.Tl()||t.push(this.il),t.push(this.bn,this.xh,this.cn);const e=this.tl.map(s=>s.Th());return t.push(...e),t}Ji(t){return[this.yh,...this.tl.map(e=>e.Ph())]}Pn(t,e){if(e!==this.Yi&&!this.Tl())return[];const s=[...this.rn];for(const h of this.tl)s.push(h.Rh());return s}Pl(t,e){if(this.un.autoscaleInfoProvider!==void 0){const s=this.un.autoscaleInfoProvider(()=>{const h=this.Rl(t,e);return h===null?null:h.dh()});return vs.fh(s)}return this.Rl(t,e)}Dl(){return this.un.priceFormat.minMove}Bl(){return this.Ol}Dn(){var t;this.bn.gt(),this.cn.gt();for(const e of this.rn)e.gt();for(const e of this.tl)e.gt();this.xh.gt(),this.il.gt(),(t=this.nl)===null||t===void 0||t.gt()}Bt(){return A(super.Bt())}kt(t){if(!((this.ll==="Line"||this.ll==="Area"||this.ll==="Baseline")&&this.un.crosshairMarkerVisible))return null;const e=this.Vt.Oh(t);return e===null?null:{ut:e.Ot[3],lt:this.Al(),At:this.Ll(),Rt:this.Il(),Pt:this.El(t)}}Gr(){return this.un.title}Ct(){return this.un.visible}Tl(){return!Ss(this.Bt().Vl())}Rl(t,e){if(!Qe(t)||!Qe(e)||this.Vt.Ni())return null;const s=this.ll==="Line"||this.ll==="Area"||this.ll==="Baseline"||this.ll==="Histogram"?[3]:[2,1],h=this.Vt.Hh(t,e,s);let l=h!==null?new kt(h.Jh,h.Qh):null;if(this.Lh()==="Histogram"){const a=this.un.base,f=new kt(a,a);l=l!==null?l.Qn(f):f}return new vs(l,this.cn.Yr())}Al(){switch(this.ll){case"Line":case"Area":case"Baseline":return this.un.crosshairMarkerRadius}return 0}Ll(){switch(this.ll){case"Line":case"Area":case"Baseline":{const t=this.un.crosshairMarkerBorderColor;if(t.length!==0)return t}}return null}Il(){switch(this.ll){case"Line":case"Area":case"Baseline":return this.un.crosshairMarkerBorderWidth}return 0}El(t){switch(this.ll){case"Line":case"Area":case"Baseline":{const e=this.un.crosshairMarkerBackgroundColor;if(e.length!==0)return e}}return this.Ls().As(t).ie}al(){switch(this.un.priceFormat.type){case"custom":this.Ol={format:this.un.priceFormat.formatter};break;case"volume":this.Ol=new xm(this.un.priceFormat.precision);break;case"percent":this.Ol=new ju(this.un.priceFormat.precision);break;default:{const t=Math.pow(10,this.un.priceFormat.precision);this.Ol=new xs(t,this.un.priceFormat.minMove*t)}}this.Yi!==null&&this.Yi.zl()}vl(){const t=this.Ut().yt();if(t.Ni()||this.Vt.Ns()===0)return void(this.rl=[]);const e=A(this.Vt.Nh());this.rl=this.el.map((s,h)=>{const l=A(t.Nl(s.time,!0)),a=l<e?1:-1;return{time:A(this.Vt.jh(l,a)).Ys,position:s.position,shape:s.shape,color:s.color,id:s.id,internalId:h,text:s.text,size:s.size}})}ol(){switch(this.cn=new Qm(this,this.Ut()),this.ll){case"Bar":this.bn=new Am(this,this.Ut());break;case"Candlestick":this.bn=new Nm(this,this.Ut());break;case"Line":this.bn=new Dm(this,this.Ut());break;case"Area":this.bn=new Vm(this,this.Ut());break;case"Baseline":this.bn=new zm(this,this.Ut());break;case"Histogram":this.bn=new Pm(this,this.Ut());break;default:throw Error("Unknown chart style assigned: "+this.ll)}}}class l_{constructor(t){this.un=t}Fl(t,e,s){let h=t;if(this.un.mode===0)return h;const l=s.fn(),a=l.Tt();if(a===null)return h;const f=l.Dt(t,a),p=s.Wl().filter(_=>_ instanceof mh).reduce((_,w)=>{if(s.Ge(w)||!w.Ct())return _;const M=w.Bt(),y=w.Ln();if(M.Ni()||!y.Ir(e))return _;const V=y.Oh(e);if(V===null)return _;const O=Ke(w.Tt());return _.concat([M.Dt(V.Ot[3],O.Ot)])},[]);if(p.length===0)return h;p.sort((_,w)=>Math.abs(_-f)-Math.abs(w-f));const v=p[0];return h=l.pn(v,a),h}}class u_ extends Xi{constructor(){super(...arguments),this.Vt=null}tt(t){this.Vt=t}Z({context:t,bitmapSize:e,horizontalPixelRatio:s,verticalPixelRatio:h}){if(this.Vt===null)return;const l=Math.max(1,Math.floor(s));t.lineWidth=l,function(a,f){a.save(),a.lineWidth%2&&a.translate(.5,.5),f(),a.restore()}(t,()=>{const a=A(this.Vt);if(a.jl){t.strokeStyle=a.$l,Yi(t,a.Hl),t.beginPath();for(const f of a.Ul){const p=Math.round(f.ql*s);t.moveTo(p,-l),t.lineTo(p,e.height+l)}t.stroke()}if(a.Yl){t.strokeStyle=a.Xl,Yi(t,a.Zl),t.beginPath();for(const f of a.Kl){const p=Math.round(f.ql*h);t.moveTo(-l,p),t.lineTo(e.width+l,p)}t.stroke()}})}}class a_{constructor(t){this.jt=new u_,this.vt=!0,this.tn=t}gt(){this.vt=!0}Mt(){if(this.vt){const t=this.tn.Ut().F().grid,e={Yl:t.horzLines.visible,jl:t.vertLines.visible,Xl:t.horzLines.color,$l:t.vertLines.color,Zl:t.horzLines.style,Hl:t.vertLines.style,Kl:this.tn.fn().Gl(),Ul:this.tn.Ut().yt().Gl()||[]};this.jt.tt(e),this.vt=!1}return this.jt}}class c_{constructor(t){this.bn=new a_(t)}Th(){return this.bn}}const qr={Jl:4,Ql:1e-4};function ve(o,t){const e=100*(o-t)/t;return t<0?-e:e}function f_(o,t){const e=ve(o.lh(),t),s=ve(o.ah(),t);return new kt(e,s)}function Xe(o,t){const e=100*(o-t)/t+100;return t<0?-e:e}function d_(o,t){const e=Xe(o.lh(),t),s=Xe(o.ah(),t);return new kt(e,s)}function ms(o,t){const e=Math.abs(o);if(e<1e-15)return 0;const s=la(e+t.Ql)+t.Jl;return o<0?-s:s}function Ze(o,t){const e=Math.abs(o);if(e<1e-15)return 0;const s=Math.pow(10,e-t.Jl)-t.Ql;return o<0?-s:s}function Ye(o,t){if(o===null)return null;const e=ms(o.lh(),t),s=ms(o.ah(),t);return new kt(e,s)}function hs(o,t){if(o===null)return null;const e=Ze(o.lh(),t),s=Ze(o.ah(),t);return new kt(e,s)}function Xr(o){if(o===null)return qr;const t=Math.abs(o.ah()-o.lh());if(t>=1||t<1e-15)return qr;const e=Math.ceil(Math.abs(Math.log10(t))),s=qr.Jl+e;return{Jl:s,Ql:1/Math.pow(10,s)}}class Zr{constructor(t,e){if(this.ta=t,this.ia=e,function(s){if(s<0)return!1;for(let h=s;h>1;h/=10)if(h%10!=0)return!1;return!0}(this.ta))this.na=[2,2.5,2];else{this.na=[];for(let s=this.ta;s!==1;){if(s%2==0)this.na.push(2),s/=2;else{if(s%5!=0)throw new Error("unexpected base");this.na.push(2,2.5),s/=5}if(this.na.length>100)throw new Error("something wrong with base")}}}sa(t,e,s){const h=this.ta===0?0:1/this.ta;let l=Math.pow(10,Math.max(0,Math.ceil(la(t-e)))),a=0,f=this.ia[0];for(;;){const w=ss(l,h,1e-14)&&l>h+1e-14,M=ss(l,s*f,1e-14),y=ss(l,1,1e-14);if(!(w&&M&&y))break;l/=f,f=this.ia[++a%this.ia.length]}if(l<=h+1e-14&&(l=h),l=Math.max(1,l),this.na.length>0&&(p=l,v=1,_=1e-14,Math.abs(p-v)<_))for(a=0,f=this.na[0];ss(l,s*f,1e-14)&&l>h+1e-14;)l/=f,f=this.na[++a%this.na.length];var p,v,_;return l}}class du{constructor(t,e,s,h){this.ea=[],this.Vi=t,this.ta=e,this.ra=s,this.ha=h}sa(t,e){if(t<e)throw new Error("high < low");const s=this.Vi.It(),h=(t-e)*this.la()/s,l=new Zr(this.ta,[2,2.5,2]),a=new Zr(this.ta,[2,2,2.5]),f=new Zr(this.ta,[2.5,2,2]),p=[];return p.push(l.sa(t,e,h),a.sa(t,e,h),f.sa(t,e,h)),function(v){if(v.length<1)throw Error("array is empty");let _=v[0];for(let w=1;w<v.length;++w)v[w]<_&&(_=v[w]);return _}(p)}aa(){const t=this.Vi,e=t.Tt();if(e===null)return void(this.ea=[]);const s=t.It(),h=this.ra(s-1,e),l=this.ra(0,e),a=this.Vi.F().entireTextOnly?this.oa()/2:0,f=a,p=s-1-a,v=Math.max(h,l),_=Math.min(h,l);if(v===_)return void(this.ea=[]);let w=this.sa(v,_),M=v%w;M+=M<0?w:0;const y=v>=_?1:-1;let V=null,O=0;for(let R=v-M;R>_;R-=w){const k=this.ha(R,e,!0);V!==null&&Math.abs(k-V)<this.la()||k<f||k>p||(O<this.ea.length?(this.ea[O].ql=k,this.ea[O]._a=t.ua(R)):this.ea.push({ql:k,_a:t.ua(R)}),O++,V=k,t.ca()&&(w=this.sa(R*y,_)))}this.ea.length=O}Gl(){return this.ea}oa(){return this.Vi.T()}la(){return Math.ceil(2.5*this.oa())}}function da(o){return o.slice().sort((t,e)=>A(t.Zi())-A(e.Zi()))}var pu;(function(o){o[o.Normal=0]="Normal",o[o.Logarithmic=1]="Logarithmic",o[o.Percentage=2]="Percentage",o[o.IndexedTo100=3]="IndexedTo100"})(pu||(pu={}));const gu=new ju,vu=new xs(100,1);class p_{constructor(t,e,s,h){this.da=0,this.fa=null,this.ph=null,this.pa=null,this.va={ma:!1,ba:null},this.ga=0,this.wa=0,this.Ma=new xt,this.Sa=new xt,this.xa=[],this.ya=null,this.ka=null,this.Ca=null,this.Ta=null,this.Ol=vu,this.Pa=Xr(null),this.Ra=t,this.un=e,this.Da=s,this.Ba=h,this.Oa=new du(this,100,this.Aa.bind(this),this.La.bind(this))}Vl(){return this.Ra}F(){return this.un}kh(t){if(ai(this.un,t),this.zl(),t.mode!==void 0&&this.Ia({lr:t.mode}),t.scaleMargins!==void 0){const e=Jt(t.scaleMargins.top),s=Jt(t.scaleMargins.bottom);if(e<0||e>1)throw new Error(`Invalid top margin - expect value between 0 and 1, given=${e}`);if(s<0||s>1||e+s>1)throw new Error(`Invalid bottom margin - expect value between 0 and 1, given=${s}`);if(e+s>1)throw new Error(`Invalid margins - sum of margins must be less than 1, given=${e+s}`);this.Ea(),this.ka=null}}Va(){return this.un.autoScale}ca(){return this.un.mode===1}th(){return this.un.mode===2}za(){return this.un.mode===3}lr(){return{Fn:this.un.autoScale,Na:this.un.invertScale,lr:this.un.mode}}Ia(t){const e=this.lr();let s=null;t.Fn!==void 0&&(this.un.autoScale=t.Fn),t.lr!==void 0&&(this.un.mode=t.lr,t.lr!==2&&t.lr!==3||(this.un.autoScale=!0),this.va.ma=!1),e.lr===1&&t.lr!==e.lr&&(function(l,a){if(l===null)return!1;const f=Ze(l.lh(),a),p=Ze(l.ah(),a);return isFinite(f)&&isFinite(p)}(this.ph,this.Pa)?(s=hs(this.ph,this.Pa),s!==null&&this.Fa(s)):this.un.autoScale=!0),t.lr===1&&t.lr!==e.lr&&(s=Ye(this.ph,this.Pa),s!==null&&this.Fa(s));const h=e.lr!==this.un.mode;h&&(e.lr===2||this.th())&&this.zl(),h&&(e.lr===3||this.za())&&this.zl(),t.Na!==void 0&&e.Na!==t.Na&&(this.un.invertScale=t.Na,this.Wa()),this.Sa.m(e,this.lr())}ja(){return this.Sa}T(){return this.Da.fontSize}It(){return this.da}$a(t){this.da!==t&&(this.da=t,this.Ea(),this.ka=null)}Ha(){if(this.fa)return this.fa;const t=this.It()-this.Ua()-this.qa();return this.fa=t,t}bh(){return this.Ya(),this.ph}Fa(t,e){const s=this.ph;(e||s===null&&t!==null||s!==null&&!s.rh(t))&&(this.ka=null,this.ph=t)}Ni(){return this.Ya(),this.da===0||!this.ph||this.ph.Ni()}Xa(t){return this.Na()?t:this.It()-1-t}Dt(t,e){return this.th()?t=ve(t,e):this.za()&&(t=Xe(t,e)),this.La(t,e)}$s(t,e,s){this.Ya();const h=this.qa(),l=A(this.bh()),a=l.lh(),f=l.ah(),p=this.Ha()-1,v=this.Na(),_=p/(f-a),w=s===void 0?0:s.from,M=s===void 0?t.length:s.to,y=this.Za();for(let V=w;V<M;V++){const O=t[V],R=O.ut;if(isNaN(R))continue;let k=R;y!==null&&(k=y(O.ut,e));const lt=h+_*(k-a),j=v?lt:this.da-1-lt;O.et=j}}le(t,e,s){this.Ya();const h=this.qa(),l=A(this.bh()),a=l.lh(),f=l.ah(),p=this.Ha()-1,v=this.Na(),_=p/(f-a),w=s===void 0?0:s.from,M=s===void 0?t.length:s.to,y=this.Za();for(let V=w;V<M;V++){const O=t[V];let R=O.oe,k=O._e,lt=O.ue,j=O.ce;y!==null&&(R=y(O.oe,e),k=y(O._e,e),lt=y(O.ue,e),j=y(O.ce,e));let Z=h+_*(R-a),it=v?Z:this.da-1-Z;O.re=it,Z=h+_*(k-a),it=v?Z:this.da-1-Z,O.ne=it,Z=h+_*(lt-a),it=v?Z:this.da-1-Z,O.se=it,Z=h+_*(j-a),it=v?Z:this.da-1-Z,O.he=it}}pn(t,e){const s=this.Aa(t,e);return this.Ka(s,e)}Ka(t,e){let s=t;return this.th()?s=function(h,l){return l<0&&(h=-h),h/100*l+l}(s,e):this.za()&&(s=function(h,l){return h-=100,l<0&&(h=-h),h/100*l+l}(s,e)),s}Wl(){return this.xa}Ga(){if(this.ya)return this.ya;let t=[];for(let e=0;e<this.xa.length;e++){const s=this.xa[e];s.Zi()===null&&s.Ki(e+1),t.push(s)}return t=da(t),this.ya=t,this.ya}Ja(t){this.xa.indexOf(t)===-1&&(this.xa.push(t),this.zl(),this.Qa())}io(t){const e=this.xa.indexOf(t);if(e===-1)throw new Error("source is not attached to scale");this.xa.splice(e,1),this.xa.length===0&&(this.Ia({Fn:!0}),this.Fa(null)),this.zl(),this.Qa()}Tt(){let t=null;for(const e of this.xa){const s=e.Tt();s!==null&&(t===null||s.yl<t.yl)&&(t=s)}return t===null?null:t.Ot}Na(){return this.un.invertScale}Gl(){const t=this.Tt()===null;if(this.ka!==null&&(t||this.ka.no===t))return this.ka.Gl;this.Oa.aa();const e=this.Oa.Gl();return this.ka={Gl:e,no:t},this.Ma.m(),e}so(){return this.Ma}eo(t){this.th()||this.za()||this.Ca===null&&this.pa===null&&(this.Ni()||(this.Ca=this.da-t,this.pa=A(this.bh()).hh()))}ro(t){if(this.th()||this.za()||this.Ca===null)return;this.Ia({Fn:!1}),(t=this.da-t)<0&&(t=0);let e=(this.Ca+.2*(this.da-1))/(t+.2*(this.da-1));const s=A(this.pa).hh();e=Math.max(e,.1),s._h(e),this.Fa(s)}ho(){this.th()||this.za()||(this.Ca=null,this.pa=null)}lo(t){this.Va()||this.Ta===null&&this.pa===null&&(this.Ni()||(this.Ta=t,this.pa=A(this.bh()).hh()))}ao(t){if(this.Va()||this.Ta===null)return;const e=A(this.bh()).oh()/(this.Ha()-1);let s=t-this.Ta;this.Na()&&(s*=-1);const h=s*e,l=A(this.pa).hh();l.uh(h),this.Fa(l,!0),this.ka=null}oo(){this.Va()||this.Ta!==null&&(this.Ta=null,this.pa=null)}Bl(){return this.Ol||this.zl(),this.Ol}Fi(t,e){switch(this.un.mode){case 2:return this.Bl().format(ve(t,e));case 3:return this.Bl().format(Xe(t,e));default:return this.Sh(t)}}ua(t){switch(this.un.mode){case 2:case 3:return this.Bl().format(t);default:return this.Sh(t)}}_l(t){return this.Sh(t,A(this._o()).Bl())}ul(t,e){return t=ve(t,e),gu.format(t)}uo(){return this.xa}co(t){this.va={ba:t,ma:!1}}Dn(){this.xa.forEach(t=>t.Dn())}zl(){this.ka=null;const t=this._o();let e=100;t!==null&&(e=Math.round(1/t.Dl())),this.Ol=vu,this.th()?(this.Ol=gu,e=100):this.za()?(this.Ol=new xs(100,1),e=100):t!==null&&(this.Ol=t.Bl()),this.Oa=new du(this,e,this.Aa.bind(this),this.La.bind(this)),this.Oa.aa()}Qa(){this.ya=null}_o(){return this.xa[0]||null}Ua(){return this.Na()?this.un.scaleMargins.bottom*this.It()+this.wa:this.un.scaleMargins.top*this.It()+this.ga}qa(){return this.Na()?this.un.scaleMargins.top*this.It()+this.ga:this.un.scaleMargins.bottom*this.It()+this.wa}Ya(){this.va.ma||(this.va.ma=!0,this.do())}Ea(){this.fa=null}La(t,e){if(this.Ya(),this.Ni())return 0;t=this.ca()&&t?ms(t,this.Pa):t;const s=A(this.bh()),h=this.qa()+(this.Ha()-1)*(t-s.lh())/s.oh();return this.Xa(h)}Aa(t,e){if(this.Ya(),this.Ni())return 0;const s=this.Xa(t),h=A(this.bh()),l=h.lh()+h.oh()*((s-this.qa())/(this.Ha()-1));return this.ca()?Ze(l,this.Pa):l}Wa(){this.ka=null,this.Oa.aa()}do(){const t=this.va.ba;if(t===null)return;let e=null;const s=this.uo();let h=0,l=0;for(const p of s){if(!p.Ct())continue;const v=p.Tt();if(v===null)continue;const _=p.Pl(t.Ms(),t.ci());let w=_&&_.bh();if(w!==null){switch(this.un.mode){case 1:w=Ye(w,this.Pa);break;case 2:w=f_(w,v.Ot);break;case 3:w=d_(w,v.Ot)}if(e=e===null?w:e.Qn(A(w)),_!==null){const M=_.gh();M!==null&&(h=Math.max(h,M.above),l=Math.max(h,M.below))}}}if(h===this.ga&&l===this.wa||(this.ga=h,this.wa=l,this.ka=null,this.Ea()),e!==null){if(e.lh()===e.ah()){const p=this._o(),v=5*(p===null||this.th()||this.za()?1:p.Dl());this.ca()&&(e=hs(e,this.Pa)),e=new kt(e.lh()-v,e.ah()+v),this.ca()&&(e=Ye(e,this.Pa))}if(this.ca()){const p=hs(e,this.Pa),v=Xr(p);if(a=v,f=this.Pa,a.Jl!==f.Jl||a.Ql!==f.Ql){const _=this.pa!==null?hs(this.pa,this.Pa):null;this.Pa=v,e=Ye(p,v),_!==null&&(this.pa=Ye(_,v))}}this.Fa(e)}else this.ph===null&&(this.Fa(new kt(-.5,.5)),this.Pa=Xr(null));var a,f;this.va.ma=!0}Za(){return this.th()?ve:this.za()?Xe:this.ca()?t=>ms(t,this.Pa):null}Sh(t,e){return this.Ba.priceFormatter===void 0?(e===void 0&&(e=this.Bl()),e.format(t)):this.Ba.priceFormatter(t)}}class g_{constructor(t,e){this.xa=[],this.fo=new Map,this.da=0,this.po=0,this.vo=1e3,this.ya=null,this.mo=new xt,this.bo=t,this.Hi=e,this.wo=new c_(this);const s=e.F();this.Mo=this.So("left",s.leftPriceScale),this.xo=this.So("right",s.rightPriceScale),this.Mo.ja().l(this.yo.bind(this,this.Mo),this),this.xo.ja().l(this.yo.bind(this,this.xo),this),this.ko(s)}ko(t){if(t.leftPriceScale&&this.Mo.kh(t.leftPriceScale),t.rightPriceScale&&this.xo.kh(t.rightPriceScale),t.localization&&(this.Mo.zl(),this.xo.zl()),t.overlayPriceScales){const e=Array.from(this.fo.values());for(const s of e){const h=A(s[0].Bt());h.kh(t.overlayPriceScales),t.localization&&h.zl()}}}Co(t){switch(t){case"left":return this.Mo;case"right":return this.xo}return this.fo.has(t)?Jt(this.fo.get(t))[0].Bt():null}M(){this.Ut().To().v(this),this.Mo.ja().v(this),this.xo.ja().v(this),this.xa.forEach(t=>{t.M&&t.M()}),this.mo.m()}Po(){return this.vo}Ro(t){this.vo=t}Ut(){return this.Hi}$i(){return this.po}It(){return this.da}Do(t){this.po=t,this.Bo()}$a(t){this.da=t,this.Mo.$a(t),this.xo.$a(t),this.xa.forEach(e=>{if(this.Ge(e)){const s=e.Bt();s!==null&&s.$a(t)}}),this.Bo()}Wl(){return this.xa}Ge(t){const e=t.Bt();return e===null||this.Mo!==e&&this.xo!==e}Ja(t,e,s){const h=s!==void 0?s:this.Ao().Oo+1;this.Lo(t,e,h)}io(t){const e=this.xa.indexOf(t);qi(e!==-1,"removeDataSource: invalid data source"),this.xa.splice(e,1);const s=A(t.Bt()).Vl();if(this.fo.has(s)){const l=Jt(this.fo.get(s)),a=l.indexOf(t);a!==-1&&(l.splice(a,1),l.length===0&&this.fo.delete(s))}const h=t.Bt();h&&h.Wl().indexOf(t)>=0&&h.io(t),h!==null&&(h.Qa(),this.Io(h)),this.ya=null}Qe(t){return t===this.Mo?"left":t===this.xo?"right":"overlay"}Eo(){return this.Mo}Vo(){return this.xo}zo(t,e){t.eo(e)}No(t,e){t.ro(e),this.Bo()}Fo(t){t.ho()}Wo(t,e){t.lo(e)}jo(t,e){t.ao(e),this.Bo()}$o(t){t.oo()}Bo(){this.xa.forEach(t=>{t.Dn()})}fn(){let t=null;return this.Hi.F().rightPriceScale.visible&&this.xo.Wl().length!==0?t=this.xo:this.Hi.F().leftPriceScale.visible&&this.Mo.Wl().length!==0?t=this.Mo:this.xa.length!==0&&(t=this.xa[0].Bt()),t===null&&(t=this.xo),t}Je(){let t=null;return this.Hi.F().rightPriceScale.visible?t=this.xo:this.Hi.F().leftPriceScale.visible&&(t=this.Mo),t}Io(t){t!==null&&t.Va()&&this.Ho(t)}Uo(t){const e=this.bo.zs();t.Ia({Fn:!0}),e!==null&&t.co(e),this.Bo()}qo(){this.Ho(this.Mo),this.Ho(this.xo)}Yo(){this.Io(this.Mo),this.Io(this.xo),this.xa.forEach(t=>{this.Ge(t)&&this.Io(t.Bt())}),this.Bo(),this.Hi.Ch()}Ga(){return this.ya===null&&(this.ya=da(this.xa)),this.ya}Xo(){return this.mo}Zo(){return this.wo}Ho(t){const e=t.uo();if(e&&e.length>0&&!this.bo.Ni()){const s=this.bo.zs();s!==null&&t.co(s)}t.Dn()}Ao(){const t=this.Ga();if(t.length===0)return{Ko:0,Oo:0};let e=0,s=0;for(let h=0;h<t.length;h++){const l=t[h].Zi();l!==null&&(l<e&&(e=l),l>s&&(s=l))}return{Ko:e,Oo:s}}Lo(t,e,s){let h=this.Co(e);if(h===null&&(h=this.So(e,this.Hi.F().overlayPriceScales)),this.xa.push(t),!Ss(e)){const l=this.fo.get(e)||[];l.push(t),this.fo.set(e,l)}h.Ja(t),t.Gi(h),t.Ki(s),this.Io(h),this.ya=null}yo(t,e,s){e.lr!==s.lr&&this.Ho(t)}So(t,e){const s=Object.assign({visible:!0,autoScale:!0},xi(e)),h=new p_(t,s,this.Hi.F().layout,this.Hi.F().localization);return h.$a(this.It()),h}}const mu=o=>o.getUTCFullYear();function v_(o,t,e){return t.replace(/yyyy/g,(s=>Mi(mu(s),4))(o)).replace(/yy/g,(s=>Mi(mu(s)%100,2))(o)).replace(/MMMM/g,((s,h)=>new Date(s.getUTCFullYear(),s.getUTCMonth(),1).toLocaleString(h,{month:"long"}))(o,e)).replace(/MMM/g,((s,h)=>new Date(s.getUTCFullYear(),s.getUTCMonth(),1).toLocaleString(h,{month:"short"}))(o,e)).replace(/MM/g,(s=>Mi((h=>h.getUTCMonth()+1)(s),2))(o)).replace(/dd/g,(s=>Mi((h=>h.getUTCDate())(s),2))(o))}class pa{constructor(t="yyyy-MM-dd",e="default"){this.Go=t,this.Jo=e}Qo(t){return v_(t,this.Go,this.Jo)}}class m_{constructor(t){this.t_=t||"%h:%m:%s"}Qo(t){return this.t_.replace("%h",Mi(t.getUTCHours(),2)).replace("%m",Mi(t.getUTCMinutes(),2)).replace("%s",Mi(t.getUTCSeconds(),2))}}const __={i_:"yyyy-MM-dd",n_:"%h:%m:%s",s_:" ",e_:"default"};class w_{constructor(t={}){const e=Object.assign(Object.assign({},__),t);this.r_=new pa(e.i_,e.e_),this.h_=new m_(e.n_),this.l_=e.s_}Qo(t){return`${this.r_.Qo(t)}${this.l_}${this.h_.Qo(t)}`}}class b_{constructor(t,e=50){this.Le=0,this.Ie=1,this.Ee=1,this.ze=new Map,this.Ve=new Map,this.a_=t,this.Ne=e}Qo(t){const e=t._t,s=e.o_===void 0?new Date(1e3*e.__).getTime():new Date(Date.UTC(e.o_.year,e.o_.month-1,e.o_.day)).getTime(),h=this.ze.get(s);if(h!==void 0)return h.u_;if(this.Le===this.Ne){const a=this.Ve.get(this.Ee);this.Ve.delete(this.Ee),this.ze.delete(Jt(a)),this.Ee++,this.Le--}const l=this.a_(t);return this.ze.set(s,{u_:l,$e:this.Ie}),this.Ve.set(this.Ie,s),this.Le++,this.Ie++,l}}class Je{constructor(t,e){qi(t<=e,"right should be >= left"),this.c_=t,this.d_=e}Ms(){return this.c_}ci(){return this.d_}f_(){return this.d_-this.c_+1}Ir(t){return this.c_<=t&&t<=this.d_}rh(t){return this.c_===t.Ms()&&this.d_===t.ci()}}function _u(o,t){return o===null||t===null?o===t:o.rh(t)}class S_{constructor(){this.p_=new Map,this.ze=null}v_(t,e){this.m_(e),this.ze=null;for(let s=e;s<t.length;++s){const h=t[s];let l=this.p_.get(h.b_);l===void 0&&(l=[],this.p_.set(h.b_,l)),l.push({Ys:s,_t:h._t,g_:h.b_,w_:h.w_})}}M_(t,e){const s=Math.ceil(e/t);return this.ze!==null&&this.ze.S_===s||(this.ze={Gl:this.x_(s),S_:s}),this.ze.Gl}m_(t){if(t===0)return void this.p_.clear();const e=[];this.p_.forEach((s,h)=>{t<=s[0].Ys?e.push(h):s.splice(rn(s,t,l=>l.Ys<t),1/0)});for(const s of e)this.p_.delete(s)}x_(t){let e=[];for(const s of Array.from(this.p_.keys()).sort((h,l)=>l-h)){if(!this.p_.get(s))continue;const h=e;e=[];const l=h.length;let a=0;const f=Jt(this.p_.get(s)),p=f.length;let v=1/0,_=-1/0;for(let w=0;w<p;w++){const M=f[w],y=M.Ys;for(;a<l;){const V=h[a],O=V.Ys;if(!(O<y)){v=O;break}a++,e.push(V),_=O,v=1/0}v-y>=t&&y-_>=t&&(e.push(M),_=y)}for(;a<l;a++)e.push(h[a])}return e}}class me{constructor(t){this.y_=t}k_(){return this.y_===null?null:new Je(Math.floor(this.y_.Ms()),Math.ceil(this.y_.ci()))}C_(){return this.y_}static T_(){return new me(null)}}var wu,bu,Su,xu,Mu;(function(o){o[o.Year=0]="Year",o[o.Month=1]="Month",o[o.DayOfMonth=2]="DayOfMonth",o[o.Time=3]="Time",o[o.TimeWithSeconds=4]="TimeWithSeconds"})(wu||(wu={}));class x_{constructor(t,e,s){this.po=0,this.P_=null,this.R_=[],this.Ta=null,this.Ca=null,this.D_=new S_,this.B_=new Map,this.O_=me.T_(),this.A_=!0,this.L_=new xt,this.I_=new xt,this.E_=new xt,this.V_=null,this.z_=null,this.N_=[],this.un=e,this.Ba=s,this.F_=e.rightOffset,this.W_=e.barSpacing,this.Hi=t,this.j_()}F(){return this.un}H_(t){ai(this.Ba,t),this.U_(),this.j_()}kh(t,e){var s;ai(this.un,t),this.un.fixLeftEdge&&this.q_(),this.un.fixRightEdge&&this.Y_(),t.barSpacing!==void 0&&this.Hi.Kn(t.barSpacing),t.rightOffset!==void 0&&this.Hi.Gn(t.rightOffset),t.minBarSpacing!==void 0&&this.Hi.Kn((s=t.barSpacing)!==null&&s!==void 0?s:this.W_),this.U_(),this.j_(),this.E_.m()}vn(t){var e,s;return(s=(e=this.R_[t])===null||e===void 0?void 0:e._t)!==null&&s!==void 0?s:null}Ui(t){var e;return(e=this.R_[t])!==null&&e!==void 0?e:null}Nl(t,e){if(this.R_.length<1)return null;if(t.__>this.R_[this.R_.length-1]._t.__)return e?this.R_.length-1:null;const s=rn(this.R_,t.__,(h,l)=>h._t.__<l);return t.__<this.R_[s]._t.__?e?s:null:s}Ni(){return this.po===0||this.R_.length===0||this.P_===null}zs(){return this.X_(),this.O_.k_()}Z_(){return this.X_(),this.O_.C_()}K_(){const t=this.zs();if(t===null)return null;const e={from:t.Ms(),to:t.ci()};return this.G_(e)}G_(t){const e=Math.round(t.from),s=Math.round(t.to),h=A(this.J_()),l=A(this.Q_());return{from:A(this.vn(Math.max(h,e))),to:A(this.vn(Math.min(l,s)))}}tu(t){return{from:A(this.Nl(t.from,!0)),to:A(this.Nl(t.to,!0))}}$i(){return this.po}Do(t){if(!isFinite(t)||t<=0||this.po===t)return;const e=this.Z_(),s=this.po;if(this.po=t,this.A_=!0,this.un.lockVisibleTimeRangeOnResize&&s!==0){const h=this.W_*t/s;this.W_=h}if(this.un.fixLeftEdge&&e!==null&&e.Ms()<=0){const h=s-t;this.F_-=Math.round(h/this.W_)+1,this.A_=!0}this.iu(),this.nu()}Et(t){if(this.Ni()||!Qe(t))return 0;const e=this.su()+this.F_-t;return this.po-(e+.5)*this.W_-1}js(t,e){const s=this.su(),h=e===void 0?0:e.from,l=e===void 0?t.length:e.to;for(let a=h;a<l;a++){const f=t[a]._t,p=s+this.F_-f,v=this.po-(p+.5)*this.W_-1;t[a].st=v}}eu(t){return Math.ceil(this.ru(t))}Gn(t){this.A_=!0,this.F_=t,this.nu(),this.Hi.hu(),this.Hi.Ch()}Ks(){return this.W_}Kn(t){this.lu(t),this.nu(),this.Hi.hu(),this.Hi.Ch()}au(){return this.F_}Gl(){if(this.Ni())return null;if(this.z_!==null)return this.z_;const t=this.W_,e=5*(this.Hi.F().layout.fontSize+4),s=Math.round(e/t),h=A(this.zs()),l=Math.max(h.Ms(),h.Ms()-s),a=Math.max(h.ci(),h.ci()-s),f=this.D_.M_(t,e),p=this.J_()+s,v=this.Q_()-s,_=this.ou(),w=this.un.fixLeftEdge||_,M=this.un.fixRightEdge||_;let y=0;for(const V of f){if(!(l<=V.Ys&&V.Ys<=a))continue;let O;y<this.N_.length?(O=this.N_[y],O.ql=this.Et(V.Ys),O._a=this._u(V),O.g_=V.g_):(O={uu:!1,ql:this.Et(V.Ys),_a:this._u(V),g_:V.g_},this.N_.push(O)),this.W_>e/2&&!_?O.uu=!1:O.uu=w&&V.Ys<=p||M&&V.Ys>=v,y++}return this.N_.length=y,this.z_=this.N_,this.N_}cu(){this.A_=!0,this.Kn(this.un.barSpacing),this.Gn(this.un.rightOffset)}du(t){this.A_=!0,this.P_=t,this.nu(),this.q_()}fu(t,e){const s=this.ru(t),h=this.Ks(),l=h+e*(h/10);this.Kn(l),this.un.rightBarStaysOnScroll||this.Gn(this.au()+(s-this.ru(t)))}eo(t){this.Ta&&this.oo(),this.Ca===null&&this.V_===null&&(this.Ni()||(this.Ca=t,this.pu()))}ro(t){if(this.V_===null)return;const e=gs(this.po-t,0,this.po),s=gs(this.po-A(this.Ca),0,this.po);e!==0&&s!==0&&this.Kn(this.V_.Ks*e/s)}ho(){this.Ca!==null&&(this.Ca=null,this.vu())}lo(t){this.Ta===null&&this.V_===null&&(this.Ni()||(this.Ta=t,this.pu()))}ao(t){if(this.Ta===null)return;const e=(this.Ta-t)/this.Ks();this.F_=A(this.V_).au+e,this.A_=!0,this.nu()}oo(){this.Ta!==null&&(this.Ta=null,this.vu())}mu(){this.bu(this.un.rightOffset)}bu(t,e=400){if(!isFinite(t))throw new RangeError("offset is required and must be finite number");if(!isFinite(e)||e<=0)throw new RangeError("animationDuration (optional) must be finite positive number");const s=this.F_,h=performance.now();this.Hi.Yn({gu:l=>(l-h)/e>=1,wu:l=>{const a=(l-h)/e;return a>=1?t:s+(t-s)*a}})}gt(t,e){this.A_=!0,this.R_=t,this.D_.v_(t,e),this.nu()}Mu(){return this.L_}Su(){return this.I_}xu(){return this.E_}su(){return this.P_||0}yu(t){const e=t.f_();this.lu(this.po/e),this.F_=t.ci()-this.su(),this.nu(),this.A_=!0,this.Hi.hu(),this.Hi.Ch()}ku(){const t=this.J_(),e=this.Q_();t!==null&&e!==null&&this.yu(new Je(t,e+this.un.rightOffset))}Cu(t){const e=new Je(t.from,t.to);this.yu(e)}qi(t){return this.Ba.timeFormatter!==void 0?this.Ba.timeFormatter(t.w_):this.Tu.Qo(new Date(1e3*t._t.__))}ou(){const{handleScroll:t,handleScale:e}=this.Hi.F();return!(t.horzTouchDrag||t.mouseWheel||t.pressedMouseMove||t.vertTouchDrag||e.axisDoubleClickReset.time||e.axisPressedMouseMove.time||e.mouseWheel||e.pinch)}J_(){return this.R_.length===0?null:0}Q_(){return this.R_.length===0?null:this.R_.length-1}Pu(t){return(this.po-1-t)/this.W_}ru(t){const e=this.Pu(t),s=this.su()+this.F_-e;return Math.round(1e6*s)/1e6}lu(t){const e=this.W_;this.W_=t,this.iu(),e!==this.W_&&(this.A_=!0,this.Ru())}X_(){if(!this.A_)return;if(this.A_=!1,this.Ni())return void this.Du(me.T_());const t=this.su(),e=this.po/this.W_,s=this.F_+t,h=new Je(s-e+1,s);this.Du(new me(h))}iu(){const t=this.Bu();if(this.W_<t&&(this.W_=t,this.A_=!0),this.po!==0){const e=.5*this.po;this.W_>e&&(this.W_=e,this.A_=!0)}}Bu(){return this.un.fixLeftEdge&&this.un.fixRightEdge&&this.R_.length!==0?this.po/this.R_.length:this.un.minBarSpacing}nu(){const t=this.Ou();this.F_>t&&(this.F_=t,this.A_=!0);const e=this.Au();e!==null&&this.F_<e&&(this.F_=e,this.A_=!0)}Au(){const t=this.J_(),e=this.P_;return t===null||e===null?null:t-e-1+(this.un.fixLeftEdge?this.po/this.W_:Math.min(2,this.R_.length))}Ou(){return this.un.fixRightEdge?0:this.po/this.W_-Math.min(2,this.R_.length)}pu(){this.V_={Ks:this.Ks(),au:this.au()}}vu(){this.V_=null}_u(t){let e=this.B_.get(t.g_);return e===void 0&&(e=new b_(s=>this.Lu(s)),this.B_.set(t.g_,e)),e.Qo(t)}Lu(t){const e=function(s,h,l){switch(s){case 0:case 10:return h?l?4:3:2;case 20:case 21:case 22:case 30:case 31:case 32:case 33:return h?3:2;case 50:return 2;case 60:return 1;case 70:return 0}}(t.g_,this.un.timeVisible,this.un.secondsVisible);if(this.un.tickMarkFormatter!==void 0){const s=this.un.tickMarkFormatter(t.w_,e,this.Ba.locale);if(s!==null)return s}return function(s,h,l){const a={};switch(h){case 0:a.year="numeric";break;case 1:a.month="short";break;case 2:a.day="numeric";break;case 3:a.hour12=!1,a.hour="2-digit",a.minute="2-digit";break;case 4:a.hour12=!1,a.hour="2-digit",a.minute="2-digit",a.second="2-digit"}const f=s.o_===void 0?new Date(1e3*s.__):new Date(Date.UTC(s.o_.year,s.o_.month-1,s.o_.day));return new Date(f.getUTCFullYear(),f.getUTCMonth(),f.getUTCDate(),f.getUTCHours(),f.getUTCMinutes(),f.getUTCSeconds(),f.getUTCMilliseconds()).toLocaleString(l,a)}(t._t,e,this.Ba.locale)}Du(t){const e=this.O_;this.O_=t,_u(e.k_(),this.O_.k_())||this.L_.m(),_u(e.C_(),this.O_.C_())||this.I_.m(),this.Ru()}Ru(){this.z_=null}U_(){this.Ru(),this.B_.clear()}j_(){const t=this.Ba.dateFormat;this.un.timeVisible?this.Tu=new w_({i_:t,n_:this.un.secondsVisible?"%h:%m:%s":"%h:%m",s_:"   ",e_:this.Ba.locale}):this.Tu=new pa(t,this.Ba.locale)}q_(){if(!this.un.fixLeftEdge)return;const t=this.J_();if(t===null)return;const e=this.zs();if(e===null)return;const s=e.Ms()-t;if(s<0){const h=this.F_-s-1;this.Gn(h)}this.iu()}Y_(){this.nu(),this.iu()}}class M_ extends sn{constructor(t){super(),this.Iu=new Map,this.Vt=t}Z(t){}G(t){if(!this.Vt.Ct)return;const{context:e,mediaSize:s}=t;let h=0;for(const a of this.Vt.Eu){if(a.Gt.length===0)continue;e.font=a.P;const f=this.Vu(e,a.Gt);f>s.width?a.fu=s.width/f:a.fu=1,h+=a.zu*a.fu}let l=0;switch(this.Vt.Nu){case"top":l=0;break;case"center":l=Math.max((s.height-h)/2,0);break;case"bottom":l=Math.max(s.height-h,0)}e.fillStyle=this.Vt.D;for(const a of this.Vt.Eu){e.save();let f=0;switch(this.Vt.Fu){case"left":e.textAlign="left",f=a.zu/2;break;case"center":e.textAlign="center",f=s.width/2;break;case"right":e.textAlign="right",f=s.width-1-a.zu/2}e.translate(f,l),e.textBaseline="top",e.font=a.P,e.scale(a.fu,a.fu),e.fillText(a.Gt,0,a.Wu),e.restore(),l+=a.zu*a.fu}}Vu(t,e){const s=this.ju(t.font);let h=s.get(e);return h===void 0&&(h=t.measureText(e).width,s.set(e,h)),h}ju(t){let e=this.Iu.get(t);return e===void 0&&(e=new Map,this.Iu.set(t,e)),e}}class C_{constructor(t){this.vt=!0,this.Wt={Ct:!1,D:"",Eu:[],Nu:"center",Fu:"center"},this.jt=new M_(this.Wt),this.$t=t}gt(){this.vt=!0}Mt(){return this.vt&&(this.St(),this.vt=!1),this.jt}St(){const t=this.$t.F(),e=this.Wt;e.Ct=t.visible,e.Ct&&(e.D=t.color,e.Fu=t.horzAlign,e.Nu=t.vertAlign,e.Eu=[{Gt:t.text,P:_e(t.fontSize,t.fontFamily,t.fontStyle),zu:1.2*t.fontSize,Wu:0,fu:0}])}}class y_ extends gh{constructor(t,e){super(),this.un=e,this.bn=new C_(this)}Pn(){return[]}Tn(){return[this.bn]}F(){return this.un}Dn(){this.bn.gt()}}(function(o){o[o.OnTouchEnd=0]="OnTouchEnd",o[o.OnNextTap=1]="OnNextTap"})(bu||(bu={}));class T_{constructor(t,e){this.$u=[],this.Hu=[],this.po=0,this.Uu=null,this.qu=new xt,this.Yu=new xt,this.Xu=null,this.Zu=t,this.un=e,this.Ku=new um(this),this.bo=new x_(this,e.timeScale,this.un.localization),this.bt=new Sm(this,e.crosshair),this.Gu=new l_(e.crosshair),this.Ju=new y_(this,e.watermark),this.Qu(),this.$u[0].Ro(2e3),this.tc=this.ic(0),this.nc=this.ic(1)}dl(){this.sc(St.ss())}Ch(){this.sc(St.ns())}Cl(){this.sc(new St(1))}fl(t){const e=this.ec(t);this.sc(e)}rc(){return this.Uu}hc(t){const e=this.Uu;this.Uu=t,e!==null&&this.fl(e.lc),t!==null&&this.fl(t.lc)}F(){return this.un}kh(t){ai(this.un,t),this.$u.forEach(e=>e.ko(t)),t.timeScale!==void 0&&this.bo.kh(t.timeScale),t.localization!==void 0&&this.bo.H_(t.localization),(t.leftPriceScale||t.rightPriceScale)&&this.qu.m(),this.tc=this.ic(0),this.nc=this.ic(1),this.dl()}ac(t,e){if(t==="left")return void this.kh({leftPriceScale:e});if(t==="right")return void this.kh({rightPriceScale:e});const s=this.oc(t);s!==null&&(s.Bt.kh(e),this.qu.m())}oc(t){for(const e of this.$u){const s=e.Co(t);if(s!==null)return{Ht:e,Bt:s}}return null}yt(){return this.bo}_c(){return this.$u}uc(){return this.Ju}cc(){return this.bt}dc(){return this.Yu}fc(t,e){t.$a(e),this.hu()}Do(t){this.po=t,this.bo.Do(this.po),this.$u.forEach(e=>e.Do(t)),this.hu()}Qu(t){const e=new g_(this.bo,this);t!==void 0?this.$u.splice(t,0,e):this.$u.push(e);const s=t===void 0?this.$u.length-1:t,h=St.ss();return h.zn(s,{Nn:0,Fn:!0}),this.sc(h),e}zo(t,e,s){t.zo(e,s)}No(t,e,s){t.No(e,s),this.pl(),this.sc(this.vc(t,2))}Fo(t,e){t.Fo(e),this.sc(this.vc(t,2))}Wo(t,e,s){e.Va()||t.Wo(e,s)}jo(t,e,s){e.Va()||(t.jo(e,s),this.pl(),this.sc(this.vc(t,2)))}$o(t,e){e.Va()||(t.$o(e),this.sc(this.vc(t,2)))}Uo(t,e){t.Uo(e),this.sc(this.vc(t,2))}mc(t){this.bo.eo(t)}bc(t,e){const s=this.yt();if(s.Ni()||e===0)return;const h=s.$i();t=Math.max(1,Math.min(t,h)),s.fu(t,e),this.hu()}gc(t){this.wc(0),this.Mc(t),this.Sc()}xc(t){this.bo.ro(t),this.hu()}yc(){this.bo.ho(),this.Ch()}wc(t){this.bo.lo(t)}Mc(t){this.bo.ao(t),this.hu()}Sc(){this.bo.oo(),this.Ch()}wt(){return this.Hu}kc(t,e,s,h){this.bt.gn(t,e);let l=NaN,a=this.bo.eu(t);const f=this.bo.zs();f!==null&&(a=Math.min(Math.max(f.Ms(),a),f.ci()));const p=h.fn(),v=p.Tt();v!==null&&(l=p.pn(e,v)),l=this.Gu.Fl(l,a,h),this.bt.xn(a,l,h),this.Cl(),this.Yu.m(this.bt.xt(),{x:t,y:e},s)}Cc(){this.cc().kn(),this.Cl(),this.Yu.m(null,null,null)}pl(){const t=this.bt.Ht();if(t!==null){const e=this.bt.Mn(),s=this.bt.Sn();this.kc(e,s,null,t)}this.bt.Dn()}Tc(t,e,s){const h=this.bo.vn(0);e!==void 0&&s!==void 0&&this.bo.gt(e,s);const l=this.bo.vn(0),a=this.bo.su(),f=this.bo.zs();if(f!==null&&h!==null&&l!==null){const p=f.Ir(a),v=h.__>l.__,_=t!==null&&t>a&&!v,w=p&&this.bo.F().shiftVisibleRangeOnNewBar;if(_&&!w){const M=t-a;this.bo.Gn(this.bo.au()-M)}}this.bo.du(t)}bl(t){t!==null&&t.Yo()}Ke(t){const e=this.$u.find(s=>s.Ga().includes(t));return e===void 0?null:e}hu(){this.Ju.Dn(),this.$u.forEach(t=>t.Yo()),this.pl()}M(){this.$u.forEach(t=>t.M()),this.$u.length=0,this.un.localization.priceFormatter=void 0,this.un.localization.timeFormatter=void 0}Pc(){return this.Ku}tr(){return this.Ku.F()}To(){return this.qu}Rc(t,e){const s=this.$u[0],h=this.Dc(e,t,s);return this.Hu.push(h),this.Hu.length===1?this.dl():this.Ch(),h}Bc(t){const e=this.Ke(t),s=this.Hu.indexOf(t);qi(s!==-1,"Series not found"),this.Hu.splice(s,1),A(e).io(t),t.M&&t.M()}cl(t,e){const s=A(this.Ke(t));s.io(t);const h=this.oc(e);if(h===null){const l=t.Zi();s.Ja(t,e,l)}else{const l=h.Ht===s?t.Zi():void 0;h.Ht.Ja(t,e,l)}}ku(){const t=St.ns();t.$n(),this.sc(t)}Oc(t){const e=St.ns();e.qn(t),this.sc(e)}Zn(){const t=St.ns();t.Zn(),this.sc(t)}Kn(t){const e=St.ns();e.Kn(t),this.sc(e)}Gn(t){const e=St.ns();e.Gn(t),this.sc(e)}Yn(t){const e=St.ns();e.Yn(t),this.sc(e)}Hn(){const t=St.ns();t.Hn(),this.sc(t)}Ac(){return this.un.rightPriceScale.visible?"right":"left"}Lc(){return this.nc}U(){return this.tc}Lt(t){const e=this.nc,s=this.tc;if(e===s)return e;if(t=Math.max(0,Math.min(100,Math.round(100*t))),this.Xu===null||this.Xu.bs!==s||this.Xu.gs!==e)this.Xu={bs:s,gs:e,Ic:new Map};else{const l=this.Xu.Ic.get(t);if(l!==void 0)return l}const h=function(l,a,f){const[p,v,_,w]=ds(l),[M,y,V,O]=ds(a),R=[Zt(p+f*(M-p)),Zt(v+f*(y-v)),Zt(_+f*(V-_)),Ju(w+f*(O-w))];return`rgba(${R[0]}, ${R[1]}, ${R[2]}, ${R[3]})`}(s,e,t/100);return this.Xu.Ic.set(t,h),h}vc(t,e){const s=new St(e);if(t!==null){const h=this.$u.indexOf(t);s.zn(h,{Nn:e})}return s}ec(t,e){return e===void 0&&(e=2),this.vc(this.Ke(t),e)}sc(t){this.Zu&&this.Zu(t),this.$u.forEach(e=>e.Zo().Th().gt())}Dc(t,e,s){const h=new mh(this,t,e),l=t.priceScaleId!==void 0?t.priceScaleId:this.Ac();return s.Ja(h,l),Ss(l)||h.kh(t),h}ic(t){const e=this.un.layout;return e.background.type==="gradient"?t===0?e.background.topColor:e.background.bottomColor:e.background.color}}function _h(o){return!ui(o)&&!ch(o)}function ga(o){return ui(o)}(function(o){o[o.Disabled=0]="Disabled",o[o.Continuous=1]="Continuous",o[o.OnDataUpdate=2]="OnDataUpdate"})(Su||(Su={})),function(o){o[o.LastBar=0]="LastBar",o[o.LastVisible=1]="LastVisible"}(xu||(xu={})),function(o){o.Solid="solid",o.VerticalGradient="gradient"}(Mu||(Mu={}));const we=typeof window<"u";function Cu(){return!!we&&window.navigator.userAgent.toLowerCase().indexOf("firefox")>-1}function Jr(){return!!we&&/iPhone|iPad|iPod/.test(window.navigator.platform)}function lh(o){return o+o%2}function Qr(o,t){return o.Ec-t.Ec}function jr(o,t,e){const s=(o.Ec-t.Ec)/(o._t-t._t);return Math.sign(s)*Math.min(Math.abs(s),e)}class E_{constructor(t,e,s,h){this.Vc=null,this.zc=null,this.Nc=null,this.Fc=null,this.Wc=null,this.jc=0,this.$c=0,this.Hc=t,this.Uc=e,this.qc=s,this.es=h}Yc(t,e){if(this.Vc!==null){if(this.Vc._t===e)return void(this.Vc.Ec=t);if(Math.abs(this.Vc.Ec-t)<this.es)return}this.Fc=this.Nc,this.Nc=this.zc,this.zc=this.Vc,this.Vc={_t:e,Ec:t}}pr(t,e){if(this.Vc===null||this.zc===null||e-this.Vc._t>50)return;let s=0;const h=jr(this.Vc,this.zc,this.Uc),l=Qr(this.Vc,this.zc),a=[h],f=[l];if(s+=l,this.Nc!==null){const v=jr(this.zc,this.Nc,this.Uc);if(Math.sign(v)===Math.sign(h)){const _=Qr(this.zc,this.Nc);if(a.push(v),f.push(_),s+=_,this.Fc!==null){const w=jr(this.Nc,this.Fc,this.Uc);if(Math.sign(w)===Math.sign(h)){const M=Qr(this.Nc,this.Fc);a.push(w),f.push(M),s+=M}}}}let p=0;for(let v=0;v<a.length;++v)p+=f[v]/s*a[v];Math.abs(p)<this.Hc||(this.Wc={Ec:t,_t:e},this.$c=p,this.jc=function(v,_){const w=Math.log(_);return Math.log(1*w/-v)/w}(Math.abs(p),this.qc))}wu(t){const e=A(this.Wc),s=t-e._t;return e.Ec+this.$c*(Math.pow(this.qc,s)-1)/Math.log(this.qc)}gu(t){return this.Wc===null||this.Xc(t)===this.jc}Xc(t){const e=t-A(this.Wc)._t;return Math.min(e,this.jc)}}function Ki(o,t){const e=A(o.ownerDocument).createElement("canvas");o.appendChild(e);const s=tm(e,{type:"device-pixel-content-box",options:{allowResizeObserver:!1},transform:(h,l)=>({width:Math.max(h.width,l.width),height:Math.max(h.height,l.height)})});return s.resizeCanvasElement(t),s}function L_(o){we&&window.chrome!==void 0&&o.addEventListener("mousedown",t=>{if(t.button===1)return t.preventDefault(),!1})}class wh{constructor(t,e,s){this.Zc=0,this.Kc=null,this.Gc={st:Number.NEGATIVE_INFINITY,et:Number.POSITIVE_INFINITY},this.Jc=0,this.Qc=null,this.td={st:Number.NEGATIVE_INFINITY,et:Number.POSITIVE_INFINITY},this.nd=null,this.sd=!1,this.ed=null,this.rd=null,this.hd=!1,this.ld=!1,this.ad=!1,this.od=null,this._d=null,this.ud=null,this.dd=null,this.fd=null,this.pd=null,this.vd=null,this.md=0,this.bd=!1,this.gd=!1,this.wd=!1,this.Md=0,this.Sd=null,this.xd=!Jr(),this.yd=h=>{this.kd(h)},this.Cd=h=>{if(this.Td(h)){const l=this.Pd(h);if(++this.Jc,this.Qc&&this.Jc>1){const{Rd:a}=this.Dd(li(h),this.td);a<30&&!this.ad&&this.Bd(l,this.Ad.Od),this.Ld()}}else{const l=this.Pd(h);if(++this.Zc,this.Kc&&this.Zc>1){const{Rd:a}=this.Dd(li(h),this.Gc);a<5&&!this.ld&&this.Id(l,this.Ad.Ed),this.Vd()}}},this.zd=t,this.Ad=e,this.un=s,this.Nd()}M(){this.od!==null&&(this.od(),this.od=null),this._d!==null&&(this._d(),this._d=null),this.dd!==null&&(this.dd(),this.dd=null),this.fd!==null&&(this.fd(),this.fd=null),this.pd!==null&&(this.pd(),this.pd=null),this.ud!==null&&(this.ud(),this.ud=null),this.Fd(),this.Vd()}Wd(t){this.dd&&this.dd();const e=this.jd.bind(this);if(this.dd=()=>{this.zd.removeEventListener("mousemove",e)},this.zd.addEventListener("mousemove",e),this.Td(t))return;const s=this.Pd(t);this.Id(s,this.Ad.$d),this.xd=!0}Vd(){this.Kc!==null&&clearTimeout(this.Kc),this.Zc=0,this.Kc=null,this.Gc={st:Number.NEGATIVE_INFINITY,et:Number.POSITIVE_INFINITY}}Ld(){this.Qc!==null&&clearTimeout(this.Qc),this.Jc=0,this.Qc=null,this.td={st:Number.NEGATIVE_INFINITY,et:Number.POSITIVE_INFINITY}}jd(t){if(this.wd||this.rd!==null||this.Td(t))return;const e=this.Pd(t);this.Id(e,this.Ad.Hd),this.xd=!0}Ud(t){const e=th(t.changedTouches,A(this.Sd));if(e===null||(this.Md=os(t),this.vd!==null)||this.gd)return;this.bd=!0;const s=this.Dd(li(e),A(this.rd)),{qd:h,Yd:l,Rd:a}=s;if(this.hd||!(a<5)){if(!this.hd){const f=.5*h,p=l>=f&&!this.un.Xd(),v=f>l&&!this.un.Zd();p||v||(this.gd=!0),this.hd=!0,this.ad=!0,this.Fd(),this.Ld()}if(!this.gd){const f=this.Pd(t,e);this.Bd(f,this.Ad.Kd),pe(t)}}}Gd(t){if(t.button!==0)return;const e=this.Dd(li(t),A(this.ed)),{Rd:s}=e;if(s>=5&&(this.ld=!0,this.Vd()),this.ld){const h=this.Pd(t);this.Id(h,this.Ad.Jd)}}Dd(t,e){const s=Math.abs(e.st-t.st),h=Math.abs(e.et-t.et);return{qd:s,Yd:h,Rd:s+h}}Qd(t){let e=th(t.changedTouches,A(this.Sd));if(e===null&&t.touches.length===0&&(e=t.changedTouches[0]),e===null)return;this.Sd=null,this.Md=os(t),this.Fd(),this.rd=null,this.pd&&(this.pd(),this.pd=null);const s=this.Pd(t,e);if(this.Bd(s,this.Ad.tf),++this.Jc,this.Qc&&this.Jc>1){const{Rd:h}=this.Dd(li(e),this.td);h<30&&!this.ad&&this.Bd(s,this.Ad.Od),this.Ld()}else this.ad||(this.Bd(s,this.Ad.if),this.Ad.if&&pe(t));this.Jc===0&&pe(t),t.touches.length===0&&this.sd&&(this.sd=!1,pe(t))}kd(t){if(t.button!==0)return;const e=this.Pd(t);if(this.ed=null,this.wd=!1,this.fd&&(this.fd(),this.fd=null),Cu()&&this.zd.ownerDocument.documentElement.removeEventListener("mouseleave",this.yd),!this.Td(t))if(this.Id(e,this.Ad.nf),++this.Zc,this.Kc&&this.Zc>1){const{Rd:s}=this.Dd(li(t),this.Gc);s<5&&!this.ld&&this.Id(e,this.Ad.Ed),this.Vd()}else this.ld||this.Id(e,this.Ad.sf)}Fd(){this.nd!==null&&(clearTimeout(this.nd),this.nd=null)}ef(t){if(this.Sd!==null)return;const e=t.changedTouches[0];this.Sd=e.identifier,this.Md=os(t);const s=this.zd.ownerDocument.documentElement;this.ad=!1,this.hd=!1,this.gd=!1,this.rd=li(e),this.pd&&(this.pd(),this.pd=null);{const l=this.Ud.bind(this),a=this.Qd.bind(this);this.pd=()=>{s.removeEventListener("touchmove",l),s.removeEventListener("touchend",a)},s.addEventListener("touchmove",l,{passive:!1}),s.addEventListener("touchend",a,{passive:!1}),this.Fd(),this.nd=setTimeout(this.rf.bind(this,t),240)}const h=this.Pd(t,e);this.Bd(h,this.Ad.hf),this.Qc||(this.Jc=0,this.Qc=setTimeout(this.Ld.bind(this),500),this.td=li(e))}lf(t){if(t.button!==0)return;const e=this.zd.ownerDocument.documentElement;Cu()&&e.addEventListener("mouseleave",this.yd),this.ld=!1,this.ed=li(t),this.fd&&(this.fd(),this.fd=null);{const h=this.Gd.bind(this),l=this.kd.bind(this);this.fd=()=>{e.removeEventListener("mousemove",h),e.removeEventListener("mouseup",l)},e.addEventListener("mousemove",h),e.addEventListener("mouseup",l)}if(this.wd=!0,this.Td(t))return;const s=this.Pd(t);this.Id(s,this.Ad.af),this.Kc||(this.Zc=0,this.Kc=setTimeout(this.Vd.bind(this),500),this.Gc=li(t))}Nd(){this.zd.addEventListener("mouseenter",this.Wd.bind(this)),this.zd.addEventListener("touchcancel",this.Fd.bind(this));{const t=this.zd.ownerDocument,e=s=>{this.Ad._f&&(s.composed&&this.zd.contains(s.composedPath()[0])||s.target&&this.zd.contains(s.target)||this.Ad._f())};this._d=()=>{t.removeEventListener("touchstart",e)},this.od=()=>{t.removeEventListener("mousedown",e)},t.addEventListener("mousedown",e),t.addEventListener("touchstart",e,{passive:!0})}Jr()&&(this.ud=()=>{this.zd.removeEventListener("dblclick",this.Cd)},this.zd.addEventListener("dblclick",this.Cd)),this.zd.addEventListener("mouseleave",this.uf.bind(this)),this.zd.addEventListener("touchstart",this.ef.bind(this),{passive:!0}),L_(this.zd),this.zd.addEventListener("mousedown",this.lf.bind(this)),this.cf(),this.zd.addEventListener("touchmove",()=>{},{passive:!1})}cf(){this.Ad.df===void 0&&this.Ad.ff===void 0&&this.Ad.pf===void 0||(this.zd.addEventListener("touchstart",t=>this.vf(t.touches),{passive:!0}),this.zd.addEventListener("touchmove",t=>{if(t.touches.length===2&&this.vd!==null&&this.Ad.ff!==void 0){const e=yu(t.touches[0],t.touches[1])/this.md;this.Ad.ff(this.vd,e),pe(t)}},{passive:!1}),this.zd.addEventListener("touchend",t=>{this.vf(t.touches)}))}vf(t){t.length===1&&(this.bd=!1),t.length!==2||this.bd||this.sd?this.mf():this.bf(t)}bf(t){const e=this.zd.getBoundingClientRect()||{left:0,top:0};this.vd={st:(t[0].clientX-e.left+(t[1].clientX-e.left))/2,et:(t[0].clientY-e.top+(t[1].clientY-e.top))/2},this.md=yu(t[0],t[1]),this.Ad.df!==void 0&&this.Ad.df(),this.Fd()}mf(){this.vd!==null&&(this.vd=null,this.Ad.pf!==void 0&&this.Ad.pf())}uf(t){if(this.dd&&this.dd(),this.Td(t)||!this.xd)return;const e=this.Pd(t);this.Id(e,this.Ad.gf),this.xd=!Jr()}rf(t){const e=th(t.touches,A(this.Sd));if(e===null)return;const s=this.Pd(t,e);this.Bd(s,this.Ad.wf),this.ad=!0,this.sd=!0}Td(t){return t.sourceCapabilities&&t.sourceCapabilities.firesTouchEvents!==void 0?t.sourceCapabilities.firesTouchEvents:os(t)<this.Md+500}Bd(t,e){e&&e.call(this.Ad,t)}Id(t,e){e&&e.call(this.Ad,t)}Pd(t,e){const s=e||t,h=this.zd.getBoundingClientRect()||{left:0,top:0};return{clientX:s.clientX,clientY:s.clientY,pageX:s.pageX,pageY:s.pageY,screenX:s.screenX,screenY:s.screenY,localX:s.clientX-h.left,localY:s.clientY-h.top,ctrlKey:t.ctrlKey,altKey:t.altKey,shiftKey:t.shiftKey,metaKey:t.metaKey,Mf:!t.type.startsWith("mouse")&&t.type!=="contextmenu"&&t.type!=="click",Sf:t.type,xf:s.target,yf:t.view,kf:()=>{t.type!=="touchstart"&&pe(t)}}}}function yu(o,t){const e=o.clientX-t.clientX,s=o.clientY-t.clientY;return Math.sqrt(e*e+s*s)}function pe(o){o.cancelable&&o.preventDefault()}function li(o){return{st:o.pageX,et:o.pageY}}function os(o){return o.timeStamp||performance.now()}function th(o,t){for(let e=0;e<o.length;++e)if(o[e].identifier===t)return o[e];return null}class Tu{constructor(t,e,s,h){this.Vi=null,this.Cf=null,this.Tf=!1,this.Pf=new je(200),this.Vr=null,this.Rf=0,this.Df=!1,this.Bf=()=>{this.Df||this.tn.Of().Ut().Ch()},this.Af=()=>{this.Df||this.tn.Of().Ut().Ch()},this.tn=t,this.un=e,this.Da=e.layout,this.Ku=s,this.Lf=h==="left",this.If=document.createElement("div"),this.If.style.height="100%",this.If.style.overflow="hidden",this.If.style.width="25px",this.If.style.left="0",this.If.style.position="relative",this.Ef=Ki(this.If,rt({width:16,height:16})),this.Ef.subscribeSuggestedBitmapSizeChanged(this.Bf);const l=this.Ef.canvasElement;l.style.position="absolute",l.style.zIndex="1",l.style.left="0",l.style.top="0",this.Vf=Ki(this.If,rt({width:16,height:16})),this.Vf.subscribeSuggestedBitmapSizeChanged(this.Af);const a=this.Vf.canvasElement;a.style.position="absolute",a.style.zIndex="2",a.style.left="0",a.style.top="0";const f={af:this.zf.bind(this),hf:this.zf.bind(this),Jd:this.Nf.bind(this),Kd:this.Nf.bind(this),_f:this.Ff.bind(this),nf:this.Wf.bind(this),tf:this.Wf.bind(this),Ed:this.jf.bind(this),Od:this.jf.bind(this),$d:this.$f.bind(this),gf:this.Hf.bind(this)};this.Uf=new wh(this.Vf.canvasElement,f,{Xd:()=>!1,Zd:()=>!0})}M(){this.Uf.M(),this.Vf.unsubscribeSuggestedBitmapSizeChanged(this.Af),this.Vf.dispose(),this.Ef.unsubscribeSuggestedBitmapSizeChanged(this.Bf),this.Ef.dispose(),this.Vi!==null&&this.Vi.so().v(this),this.Vi=null}qf(){return this.If}T(){return this.Da.fontSize}Yf(){const t=this.Ku.F();return this.Vr!==t.P&&(this.Pf.Fe(),this.Vr=t.P),t}Xf(){if(this.Vi===null)return 0;let t=0;const e=this.Yf(),s=A(this.Ef.canvasElement.getContext("2d"));s.save();const h=this.Vi.Gl();s.font=this.Zf(),h.length>0&&(t=Math.max(this.Pf.Si(s,h[0]._a),this.Pf.Si(s,h[h.length-1]._a)));const l=this.Kf();for(let p=l.length;p--;){const v=this.Pf.Si(s,l[p].Gt());v>t&&(t=v)}const a=this.Vi.Tt();if(a!==null&&this.Cf!==null){const p=this.Vi.pn(1,a),v=this.Vi.pn(this.Cf.height-2,a);t=Math.max(t,this.Pf.Si(s,this.Vi.Fi(Math.floor(Math.min(p,v))+.11111111111111,a)),this.Pf.Si(s,this.Vi.Fi(Math.ceil(Math.max(p,v))-.11111111111111,a)))}s.restore();const f=t||34;return lh(Math.ceil(e.k+e.C+e.A+e.L+5+f))}Gf(t){this.Cf!==null&&Gi(this.Cf,t)||(this.Cf=t,this.Df=!0,this.Ef.resizeCanvasElement(t),this.Vf.resizeCanvasElement(t),this.Df=!1,this.If.style.width=`${t.width}px`,this.If.style.height=`${t.height}px`)}Jf(){return A(this.Cf).width}Gi(t){this.Vi!==t&&(this.Vi!==null&&this.Vi.so().v(this),this.Vi=t,t.so().l(this.Ma.bind(this),this))}Bt(){return this.Vi}Fe(){const t=this.tn.Qf();this.tn.Of().Ut().Uo(t,A(this.Bt()))}tp(t){if(this.Cf===null)return;if(t!==1){this.ip(),this.Ef.applySuggestedBitmapSize();const s=Hi(this.Ef);s!==null&&(s.useBitmapCoordinateSpace(h=>{this.np(h),this.ye(h)}),this.sp(s),this.ep(s))}this.Vf.applySuggestedBitmapSize();const e=Hi(this.Vf);e!==null&&(e.useBitmapCoordinateSpace(({context:s,bitmapSize:h})=>{s.clearRect(0,0,h.width,h.height)}),this.rp(e))}hp(){return this.Ef.bitmapSize}lp(t,e,s){const h=this.hp();h.width>0&&h.height>0&&t.drawImage(this.Ef.canvasElement,e,s)}gt(){var t;(t=this.Vi)===null||t===void 0||t.Gl()}zf(t){if(this.Vi===null||this.Vi.Ni()||!this.un.handleScale.axisPressedMouseMove.price)return;const e=this.tn.Of().Ut(),s=this.tn.Qf();this.Tf=!0,e.zo(s,this.Vi,t.localY)}Nf(t){if(this.Vi===null||!this.un.handleScale.axisPressedMouseMove.price)return;const e=this.tn.Of().Ut(),s=this.tn.Qf(),h=this.Vi;e.No(s,h,t.localY)}Ff(){if(this.Vi===null||!this.un.handleScale.axisPressedMouseMove.price)return;const t=this.tn.Of().Ut(),e=this.tn.Qf(),s=this.Vi;this.Tf&&(this.Tf=!1,t.Fo(e,s))}Wf(t){if(this.Vi===null||!this.un.handleScale.axisPressedMouseMove.price)return;const e=this.tn.Of().Ut(),s=this.tn.Qf();this.Tf=!1,e.Fo(s,this.Vi)}jf(t){this.un.handleScale.axisDoubleClickReset.price&&this.Fe()}$f(t){this.Vi!==null&&(!this.tn.Of().Ut().F().handleScale.axisPressedMouseMove.price||this.Vi.th()||this.Vi.za()||this.ap(1))}Hf(t){this.ap(0)}Kf(){const t=[],e=this.Vi===null?void 0:this.Vi;return(s=>{for(let h=0;h<s.length;++h){const l=s[h].Pn(this.tn.Qf(),e);for(let a=0;a<l.length;a++)t.push(l[a])}})(this.tn.Qf().Ga()),t}np({context:t,bitmapSize:e}){const{width:s,height:h}=e,l=this.tn.Qf().Ut(),a=l.U(),f=l.Lc();a===f?bs(t,0,0,s,h,a):Qu(t,0,0,s,h,a,f)}ye({context:t,bitmapSize:e,horizontalPixelRatio:s}){if(this.Cf===null||this.Vi===null||!this.Vi.F().borderVisible)return;t.fillStyle=this.Vi.F().borderColor;const h=Math.max(1,Math.floor(this.Yf().k*s));let l;l=this.Lf?e.width-h:0,t.fillRect(l,0,h,e.height)}sp(t){if(this.Cf===null||this.Vi===null)return;const e=this.Vi.Gl(),s=this.Vi.F(),h=this.Yf(),l=this.Lf?this.Cf.width-h.C:0;s.borderVisible&&s.ticksVisible&&t.useBitmapCoordinateSpace(({context:a,horizontalPixelRatio:f,verticalPixelRatio:p})=>{a.fillStyle=s.borderColor;const v=Math.max(1,Math.floor(p)),_=Math.floor(.5*p),w=Math.round(h.C*f);a.beginPath();for(const M of e)a.rect(Math.floor(l*f),Math.round(M.ql*p)-_,w,v);a.fill()}),t.useMediaCoordinateSpace(({context:a})=>{var f;a.font=this.Zf(),a.fillStyle=(f=s.textColor)!==null&&f!==void 0?f:this.Da.textColor,a.textAlign=this.Lf?"right":"left",a.textBaseline="middle";const p=this.Lf?Math.round(l-h.A):Math.round(l+h.C+h.A),v=e.map(_=>this.Pf.Mi(a,_._a));for(let _=e.length;_--;){const w=e[_];a.fillText(w._a,p,w.ql+v[_])}})}ip(){if(this.Cf===null||this.Vi===null)return;let t=this.Cf.height/2;const e=[],s=this.Vi.Ga().slice(),h=this.tn.Qf(),l=this.Yf();this.Vi===h.Je()&&this.tn.Qf().Ga().forEach(p=>{h.Ge(p)&&s.push(p)});const a=this.Vi.Wl()[0],f=this.Vi;s.forEach(p=>{const v=p.Pn(h,f);v.forEach(_=>{_.Oi(null),_.Ai()&&e.push(_)}),a===p&&v.length>0&&(t=v[0].yi())}),e.forEach(p=>p.Oi(p.yi())),this.Vi.F().alignLabels&&this.op(e,l,t)}op(t,e,s){if(this.Cf===null)return;const h=t.filter(a=>a.yi()<=s),l=t.filter(a=>a.yi()>s);h.sort((a,f)=>f.yi()-a.yi()),h.length&&l.length&&l.push(h[0]),l.sort((a,f)=>a.yi()-f.yi());for(const a of t){const f=Math.floor(a.It(e)/2),p=a.yi();p>-f&&p<f&&a.Oi(f),p>this.Cf.height-f&&p<this.Cf.height+f&&a.Oi(this.Cf.height-f)}for(let a=1;a<h.length;a++){const f=h[a],p=h[a-1],v=p.It(e,!1),_=f.yi(),w=p.Bi();_>w-v&&f.Oi(w-v)}for(let a=1;a<l.length;a++){const f=l[a],p=l[a-1],v=p.It(e,!0),_=f.yi(),w=p.Bi();_<w+v&&f.Oi(w+v)}}ep(t){if(this.Cf===null)return;const e=this.Kf(),s=this.Yf(),h=this.Lf?"right":"left";e.forEach(l=>{l.Li()&&l.Mt(A(this.Vi)).X(t,s,this.Pf,h)})}rp(t){if(this.Cf===null||this.Vi===null)return;const e=this.tn.Of().Ut(),s=[],h=this.tn.Qf(),l=e.cc().Pn(h,this.Vi);l.length&&s.push(l);const a=this.Yf(),f=this.Lf?"right":"left";s.forEach(p=>{p.forEach(v=>{v.Mt(A(this.Vi)).X(t,a,this.Pf,f)})})}ap(t){this.If.style.cursor=t===1?"ns-resize":"default"}Ma(){const t=this.Xf();this.Rf<t&&this.tn.Of().Ut().dl(),this.Rf=t}Zf(){return _e(this.Da.fontSize,this.Da.fontFamily)}}function Eu(o,t,e,s){o.K&&o.K(t,e,s)}function ih(o,t,e,s){o.X(t,e,s)}function ls(o,t){return o.Tn(t)}function V_(o,t){return o.Ji(t)}function I_(o,t){return o.kl!==void 0?o.kl(t):[]}class bh{constructor(t,e){this.Cf=rt({width:0,height:0}),this._p=null,this.up=null,this.cp=null,this.dp=!1,this.fp=new xt,this.pp=0,this.vp=!1,this.mp=null,this.bp=!1,this.gp=null,this.wp=null,this.Df=!1,this.Bf=()=>{this.Df||this.Mp===null||this.Hi().Ch()},this.Af=()=>{this.Df||this.Mp===null||this.Hi().Ch()},this.Sp=t,this.Mp=e,this.Mp.Xo().l(this.xp.bind(this),this,!0),this.yp=document.createElement("td"),this.yp.style.padding="0",this.yp.style.position="relative";const s=document.createElement("div");s.style.width="100%",s.style.height="100%",s.style.position="relative",s.style.overflow="hidden",this.kp=document.createElement("td"),this.kp.style.padding="0",this.Cp=document.createElement("td"),this.Cp.style.padding="0",this.yp.appendChild(s),this.Ef=Ki(s,rt({width:16,height:16})),this.Ef.subscribeSuggestedBitmapSizeChanged(this.Bf);const h=this.Ef.canvasElement;h.style.position="absolute",h.style.zIndex="1",h.style.left="0",h.style.top="0",this.Vf=Ki(s,rt({width:16,height:16})),this.Vf.subscribeSuggestedBitmapSizeChanged(this.Af);const l=this.Vf.canvasElement;l.style.position="absolute",l.style.zIndex="2",l.style.left="0",l.style.top="0",this.Tp=document.createElement("tr"),this.Tp.appendChild(this.kp),this.Tp.appendChild(this.yp),this.Tp.appendChild(this.Cp),this.Pp(),this.Uf=new wh(this.Vf.canvasElement,this,{Xd:()=>this.mp===null&&!this.Sp.F().handleScroll.vertTouchDrag,Zd:()=>this.mp===null&&!this.Sp.F().handleScroll.horzTouchDrag})}M(){this._p!==null&&this._p.M(),this.up!==null&&this.up.M(),this.Vf.unsubscribeSuggestedBitmapSizeChanged(this.Af),this.Vf.dispose(),this.Ef.unsubscribeSuggestedBitmapSizeChanged(this.Bf),this.Ef.dispose(),this.Mp!==null&&this.Mp.Xo().v(this),this.Uf.M()}Qf(){return A(this.Mp)}Rp(t){this.Mp!==null&&this.Mp.Xo().v(this),this.Mp=t,this.Mp!==null&&this.Mp.Xo().l(bh.prototype.xp.bind(this),this,!0),this.Pp()}Of(){return this.Sp}qf(){return this.Tp}Pp(){if(this.Mp!==null&&(this.Dp(),this.Hi().wt().length!==0)){if(this._p!==null){const t=this.Mp.Eo();this._p.Gi(A(t))}if(this.up!==null){const t=this.Mp.Vo();this.up.Gi(A(t))}}}Bp(){this._p!==null&&this._p.gt(),this.up!==null&&this.up.gt()}Po(){return this.Mp!==null?this.Mp.Po():0}Ro(t){this.Mp&&this.Mp.Ro(t)}$d(t){if(!this.Mp)return;this.Op();const e=t.localX,s=t.localY;this.Ap(e,s,t)}af(t){this.Op(),this.Lp(),this.Ap(t.localX,t.localY,t)}Hd(t){if(!this.Mp)return;this.Op();const e=t.localX,s=t.localY;this.Ap(e,s,t);const h=this.ir(e,s);this.Hi().hc(h&&{lc:h.lc,Ip:h.Ip})}sf(t){this.Mp!==null&&(this.Op(),this.Ep(t))}Jd(t){this.Op(),this.Vp(t),this.Ap(t.localX,t.localY,t)}nf(t){this.Mp!==null&&(this.Op(),this.vp=!1,this.zp(t))}if(t){this.Mp!==null&&this.Ep(t)}wf(t){if(this.vp=!0,this.mp===null){const e={x:t.localX,y:t.localY};this.Np(e,e,t)}}gf(t){this.Mp!==null&&(this.Op(),this.Mp.Ut().hc(null),this.Fp())}Wp(){return this.fp}df(){this.pp=1,this.Hi().Hn()}ff(t,e){if(!this.Sp.F().handleScale.pinch)return;const s=5*(e-this.pp);this.pp=e,this.Hi().bc(t.st,s)}hf(t){if(this.vp=!1,this.bp=this.mp!==null,this.Lp(),this.mp!==null){const e=this.Hi().cc();this.gp={x:e.Xt(),y:e.Zt()},this.mp={x:t.localX,y:t.localY}}}Kd(t){if(this.Mp===null)return;const e=t.localX,s=t.localY;if(this.mp===null)this.Vp(t);else{this.bp=!1;const h=A(this.gp),l=h.x+(e-this.mp.x),a=h.y+(s-this.mp.y);this.Ap(l,a,t)}}tf(t){this.Of().F().trackingMode.exitMode===0&&(this.bp=!0),this.jp(),this.zp(t)}ir(t,e){const s=this.Mp;if(s===null)return null;const h=s.Ga();for(const l of h){const a=this.$p(l.Tn(s),t,e);if(a!==null)return{lc:l,yf:a.yf,Ip:a.Ip}}return null}Hp(t,e){A(e==="left"?this._p:this.up).Gf(rt({width:t,height:this.Cf.height}))}Up(){return this.Cf}Gf(t){Gi(this.Cf,t)||(this.Cf=t,this.Df=!0,this.Ef.resizeCanvasElement(t),this.Vf.resizeCanvasElement(t),this.Df=!1,this.yp.style.width=t.width+"px",this.yp.style.height=t.height+"px")}qp(){const t=A(this.Mp);t.Io(t.Eo()),t.Io(t.Vo());for(const e of t.Wl())if(t.Ge(e)){const s=e.Bt();s!==null&&t.Io(s),e.Dn()}}hp(){return this.Ef.bitmapSize}lp(t,e,s){const h=this.hp();h.width>0&&h.height>0&&t.drawImage(this.Ef.canvasElement,e,s)}tp(t){if(t===0||this.Mp===null)return;if(t>1&&this.qp(),this._p!==null&&this._p.tp(t),this.up!==null&&this.up.tp(t),t!==1){this.Ef.applySuggestedBitmapSize();const s=Hi(this.Ef);s!==null&&(s.useBitmapCoordinateSpace(h=>{this.np(h)}),this.Mp&&(this.Yp(s),this.Xp(s),this.Zp(s,ls),this.Zp(s,V_)))}this.Vf.applySuggestedBitmapSize();const e=Hi(this.Vf);e!==null&&(e.useBitmapCoordinateSpace(({context:s,bitmapSize:h})=>{s.clearRect(0,0,h.width,h.height)}),this.Zp(e,I_),this.Kp(e))}Gp(){return this._p}Jp(){return this.up}xp(){this.Mp!==null&&this.Mp.Xo().v(this),this.Mp=null}Ep(t){const e=t.localX,s=t.localY;this.fp.g()&&this.fp.m(this.Hi().yt().eu(e),{x:e,y:s},t)}np({context:t,bitmapSize:e}){const{width:s,height:h}=e,l=this.Hi(),a=l.U(),f=l.Lc();a===f?bs(t,0,0,s,h,f):Qu(t,0,0,s,h,a,f)}Yp(t){const e=A(this.Mp).Zo().Th().Mt();e!==null&&e.X(t,!1)}Xp(t){const e=this.Hi().uc();this.Qp(t,ls,Eu,e),this.Qp(t,ls,ih,e)}Kp(t){this.Qp(t,ls,ih,this.Hi().cc())}Zp(t,e){const s=A(this.Mp).Ga();for(const h of s)this.Qp(t,e,Eu,h);for(const h of s)this.Qp(t,e,ih,h)}Qp(t,e,s,h){const l=A(this.Mp),a=e(h,l),f=l.Ut().rc(),p=f!==null&&f.lc===h,v=f!==null&&p&&f.Ip!==void 0?f.Ip.sr:void 0;for(const _ of a){const w=_.Mt();w!==null&&s(w,t,p,v)}}$p(t,e,s){for(const h of t){const l=h.Mt();if(l!==null&&l.ir){const a=l.ir(e,s);if(a!==null)return{yf:h,Ip:a}}}return null}Dp(){if(this.Mp===null)return;const t=this.Sp,e=this.Mp.Eo().F().visible,s=this.Mp.Vo().F().visible;e||this._p===null||(this.kp.removeChild(this._p.qf()),this._p.M(),this._p=null),s||this.up===null||(this.Cp.removeChild(this.up.qf()),this.up.M(),this.up=null);const h=t.Ut().Pc();e&&this._p===null&&(this._p=new Tu(this,t.F(),h,"left"),this.kp.appendChild(this._p.qf())),s&&this.up===null&&(this.up=new Tu(this,t.F(),h,"right"),this.Cp.appendChild(this.up.qf()))}tv(t){return t.Mf&&this.vp||this.mp!==null}iv(t){return Math.max(0,Math.min(t,this.Cf.width-1))}nv(t){return Math.max(0,Math.min(t,this.Cf.height-1))}Ap(t,e,s){this.Hi().kc(this.iv(t),this.nv(e),s,A(this.Mp))}Fp(){this.Hi().Cc()}jp(){this.bp&&(this.mp=null,this.Fp())}Np(t,e,s){this.mp=t,this.bp=!1,this.Ap(e.x,e.y,s);const h=this.Hi().cc();this.gp={x:h.Xt(),y:h.Zt()}}Hi(){return this.Sp.Ut()}zp(t){if(!this.dp)return;const e=this.Hi(),s=this.Qf();if(e.$o(s,s.fn()),this.cp=null,this.dp=!1,e.Sc(),this.wp!==null){const h=performance.now(),l=e.yt();this.wp.pr(l.au(),h),this.wp.gu(h)||e.Yn(this.wp)}}Op(){this.mp=null}Lp(){if(this.Mp){if(this.Hi().Hn(),document.activeElement!==document.body&&document.activeElement!==document.documentElement)A(document.activeElement).blur();else{const t=document.getSelection();t!==null&&t.removeAllRanges()}!this.Mp.fn().Ni()&&this.Hi().yt().Ni()}}Vp(t){if(this.Mp===null)return;const e=this.Hi(),s=e.yt();if(s.Ni())return;const h=this.Sp.F(),l=h.handleScroll,a=h.kineticScroll;if((!l.pressedMouseMove||t.Mf)&&(!l.horzTouchDrag&&!l.vertTouchDrag||!t.Mf))return;const f=this.Mp.fn(),p=performance.now();if(this.cp!==null||this.tv(t)||(this.cp={x:t.clientX,y:t.clientY,__:p,sv:t.localX,ev:t.localY}),this.cp!==null&&!this.dp&&(this.cp.x!==t.clientX||this.cp.y!==t.clientY)){if(t.Mf&&a.touch||!t.Mf&&a.mouse){const v=s.Ks();this.wp=new E_(.2/v,7/v,.997,15/v),this.wp.Yc(s.au(),this.cp.__)}else this.wp=null;f.Ni()||e.Wo(this.Mp,f,t.localY),e.wc(t.localX),this.dp=!0}this.dp&&(f.Ni()||e.jo(this.Mp,f,t.localY),e.Mc(t.localX),this.wp!==null&&this.wp.Yc(s.au(),p))}}class Lu{constructor(t,e,s,h,l){this.vt=!0,this.Cf=rt({width:0,height:0}),this.Bf=()=>this.tp(3),this.Lf=t==="left",this.Ku=s.Pc,this.un=e,this.rv=h,this.hv=l,this.If=document.createElement("div"),this.If.style.width="25px",this.If.style.height="100%",this.If.style.overflow="hidden",this.Ef=Ki(this.If,rt({width:16,height:16})),this.Ef.subscribeSuggestedBitmapSizeChanged(this.Bf)}M(){this.Ef.unsubscribeSuggestedBitmapSizeChanged(this.Bf),this.Ef.dispose()}qf(){return this.If}Up(){return this.Cf}Gf(t){Gi(this.Cf,t)||(this.Cf=t,this.Ef.resizeCanvasElement(t),this.If.style.width=`${t.width}px`,this.If.style.height=`${t.height}px`,this.vt=!0)}tp(t){if(t<3&&!this.vt||this.Cf.width===0||this.Cf.height===0)return;this.vt=!1,this.Ef.applySuggestedBitmapSize();const e=Hi(this.Ef);e!==null&&e.useBitmapCoordinateSpace(s=>{this.np(s),this.ye(s)})}hp(){return this.Ef.bitmapSize}lp(t,e,s){const h=this.hp();h.width>0&&h.height>0&&t.drawImage(this.Ef.canvasElement,e,s)}ye({context:t,bitmapSize:e,horizontalPixelRatio:s,verticalPixelRatio:h}){if(!this.rv())return;t.fillStyle=this.un.timeScale.borderColor;const l=Math.floor(this.Ku.F().k*s),a=Math.floor(this.Ku.F().k*h),f=this.Lf?e.width-l:0;t.fillRect(f,0,l,a)}np({context:t,bitmapSize:e}){bs(t,0,0,e.width,e.height,this.hv())}}function A_(o,t){return o.g_>t.g_?o:t}class O_{constructor(t){this.lv=null,this.av=null,this.S=null,this.ov=!1,this.Cf=rt({width:0,height:0}),this._v=new xt,this.Pf=new je(5),this.Df=!1,this.Bf=()=>{this.Df||this.Sp.Ut().Ch()},this.Af=()=>{this.Df||this.Sp.Ut().Ch()},this.Sp=t,this.un=t.F().layout,this.uv=document.createElement("tr"),this.cv=document.createElement("td"),this.cv.style.padding="0",this.dv=document.createElement("td"),this.dv.style.padding="0",this.If=document.createElement("td"),this.If.style.height="25px",this.If.style.padding="0",this.fv=document.createElement("div"),this.fv.style.width="100%",this.fv.style.height="100%",this.fv.style.position="relative",this.fv.style.overflow="hidden",this.If.appendChild(this.fv),this.Ef=Ki(this.fv,rt({width:16,height:16})),this.Ef.subscribeSuggestedBitmapSizeChanged(this.Bf);const e=this.Ef.canvasElement;e.style.position="absolute",e.style.zIndex="1",e.style.left="0",e.style.top="0",this.Vf=Ki(this.fv,rt({width:16,height:16})),this.Vf.subscribeSuggestedBitmapSizeChanged(this.Af);const s=this.Vf.canvasElement;s.style.position="absolute",s.style.zIndex="2",s.style.left="0",s.style.top="0",this.uv.appendChild(this.cv),this.uv.appendChild(this.If),this.uv.appendChild(this.dv),this.pv(),this.Sp.Ut().To().l(this.pv.bind(this),this),this.Uf=new wh(this.Vf.canvasElement,this,{Xd:()=>!0,Zd:()=>!1})}M(){this.Uf.M(),this.lv!==null&&this.lv.M(),this.av!==null&&this.av.M(),this.Vf.unsubscribeSuggestedBitmapSizeChanged(this.Af),this.Vf.dispose(),this.Ef.unsubscribeSuggestedBitmapSizeChanged(this.Bf),this.Ef.dispose()}qf(){return this.uv}vv(){return this.lv}mv(){return this.av}af(t){if(this.ov)return;this.ov=!0;const e=this.Sp.Ut();!e.yt().Ni()&&this.Sp.F().handleScale.axisPressedMouseMove.time&&e.mc(t.localX)}hf(t){this.af(t)}_f(){const t=this.Sp.Ut();!t.yt().Ni()&&this.ov&&(this.ov=!1,this.Sp.F().handleScale.axisPressedMouseMove.time&&t.yc())}Jd(t){const e=this.Sp.Ut();!e.yt().Ni()&&this.Sp.F().handleScale.axisPressedMouseMove.time&&e.xc(t.localX)}Kd(t){this.Jd(t)}nf(){this.ov=!1;const t=this.Sp.Ut();t.yt().Ni()&&!this.Sp.F().handleScale.axisPressedMouseMove.time||t.yc()}tf(){this.nf()}Ed(){this.Sp.F().handleScale.axisDoubleClickReset.time&&this.Sp.Ut().Zn()}Od(){this.Ed()}$d(){this.Sp.Ut().F().handleScale.axisPressedMouseMove.time&&this.ap(1)}gf(){this.ap(0)}Up(){return this.Cf}bv(){return this._v}gv(t,e,s){Gi(this.Cf,t)||(this.Cf=t,this.Df=!0,this.Ef.resizeCanvasElement(t),this.Vf.resizeCanvasElement(t),this.Df=!1,this.If.style.width=`${t.width}px`,this.If.style.height=`${t.height}px`,this._v.m(t)),this.lv!==null&&this.lv.Gf(rt({width:e,height:t.height})),this.av!==null&&this.av.Gf(rt({width:s,height:t.height}))}wv(){const t=this.Mv();return Math.ceil(t.k+t.C+t.T+t.I+t.O+t.Sv)}gt(){this.Sp.Ut().yt().Gl()}hp(){return this.Ef.bitmapSize}lp(t,e,s){const h=this.hp();h.width>0&&h.height>0&&t.drawImage(this.Ef.canvasElement,e,s)}tp(t){if(t===0)return;if(t!==1){this.Ef.applySuggestedBitmapSize();const s=Hi(this.Ef);s!==null&&(s.useBitmapCoordinateSpace(h=>{this.np(h),this.ye(h)}),this.sp(s)),this.lv!==null&&this.lv.tp(t),this.av!==null&&this.av.tp(t)}this.Vf.applySuggestedBitmapSize();const e=Hi(this.Vf);e!==null&&(e.useBitmapCoordinateSpace(({context:s,bitmapSize:h})=>{s.clearRect(0,0,h.width,h.height)}),this.xv([this.Sp.Ut().cc()],e))}np({context:t,bitmapSize:e}){bs(t,0,0,e.width,e.height,this.Sp.Ut().Lc())}ye({context:t,bitmapSize:e,verticalPixelRatio:s}){if(this.Sp.F().timeScale.borderVisible){t.fillStyle=this.yv();const h=Math.max(1,Math.floor(this.Mv().k*s));t.fillRect(0,0,e.width,h)}}sp(t){const e=this.Sp.Ut().yt(),s=e.Gl();if(!s||s.length===0)return;let h=s.reduce(A_,s[0]).g_;h>30&&h<50&&(h=30);const l=this.Mv(),a=e.F();a.borderVisible&&a.ticksVisible&&t.useBitmapCoordinateSpace(({context:f,horizontalPixelRatio:p,verticalPixelRatio:v})=>{f.strokeStyle=this.yv(),f.fillStyle=this.yv();const _=Math.max(1,Math.floor(p)),w=Math.floor(.5*p);f.beginPath();const M=Math.round(l.C*v);for(let y=s.length;y--;){const V=Math.round(s[y].ql*p);f.rect(V-w,0,_,M)}f.fill()}),t.useMediaCoordinateSpace(({context:f})=>{const p=l.k+l.C+l.I+l.T/2;f.textAlign="center",f.textBaseline="middle",f.fillStyle=this.$(),f.font=this.Zf();for(const v of s)if(v.g_<h){const _=v.uu?this.kv(f,v.ql,v._a):v.ql;f.fillText(v._a,_,p)}f.font=this.Cv();for(const v of s)if(v.g_>=h){const _=v.uu?this.kv(f,v.ql,v._a):v.ql;f.fillText(v._a,_,p)}})}kv(t,e,s){const h=this.Pf.Si(t,s),l=h/2,a=Math.floor(e-l)+.5;return a<0?e+=Math.abs(0-a):a+h>this.Cf.width&&(e-=Math.abs(this.Cf.width-(a+h))),e}xv(t,e){const s=this.Mv();for(const h of t)for(const l of h.Qi())l.Mt().X(e,s)}yv(){return this.Sp.F().timeScale.borderColor}$(){return this.un.textColor}W(){return this.un.fontSize}Zf(){return _e(this.W(),this.un.fontFamily)}Cv(){return _e(this.W(),this.un.fontFamily,"bold")}Mv(){this.S===null&&(this.S={k:1,V:NaN,I:NaN,O:NaN,ji:NaN,C:5,T:NaN,P:"",Wi:new je,Sv:0});const t=this.S,e=this.Zf();if(t.P!==e){const s=this.W();t.T=s,t.P=e,t.I=3*s/12,t.O=3*s/12,t.ji=9*s/12,t.V=0,t.Sv=4*s/12,t.Wi.Fe()}return this.S}ap(t){this.If.style.cursor=t===1?"ew-resize":"default"}pv(){const t=this.Sp.Ut(),e=t.F();e.leftPriceScale.visible||this.lv===null||(this.cv.removeChild(this.lv.qf()),this.lv.M(),this.lv=null),e.rightPriceScale.visible||this.av===null||(this.dv.removeChild(this.av.qf()),this.av.M(),this.av=null);const s={Pc:this.Sp.Ut().Pc()},h=()=>e.leftPriceScale.borderVisible&&t.yt().F().borderVisible,l=()=>t.Lc();e.leftPriceScale.visible&&this.lv===null&&(this.lv=new Lu("left",e,s,h,l),this.cv.appendChild(this.lv.qf())),e.rightPriceScale.visible&&this.av===null&&(this.av=new Lu("right",e,s,h,l),this.dv.appendChild(this.av.qf()))}}const F_=!!we&&!!navigator.userAgentData&&navigator.userAgentData.brands.some(o=>o.brand.includes("Chromium"))&&!!we&&(!((eh=navigator?.userAgentData)===null||eh===void 0)&&eh.platform?navigator.userAgentData.platform==="Windows":navigator.userAgent.toLowerCase().indexOf("win")>=0);var eh;class z_{constructor(t,e){var s;this.Tv=[],this.Pv=0,this.da=0,this.po=0,this.Rv=0,this.Dv=0,this.Bv=null,this.Ov=!1,this.fp=new xt,this.Yu=new xt,this.Av=null,this.Lv=t,this.un=e,this.uv=document.createElement("div"),this.uv.classList.add("tv-lightweight-charts"),this.uv.style.overflow="hidden",this.uv.style.width="100%",this.uv.style.height="100%",(s=this.uv).style.userSelect="none",s.style.webkitUserSelect="none",s.style.msUserSelect="none",s.style.MozUserSelect="none",s.style.webkitTapHighlightColor="transparent",this.Iv=document.createElement("table"),this.Iv.setAttribute("cellspacing","0"),this.uv.appendChild(this.Iv),this.Ev=this.Vv.bind(this),nh(this.un)&&this.zv(!0),this.Hi=new T_(this.Zu.bind(this),this.un),this.Ut().dc().l(this.Nv.bind(this),this),this.Fv=new O_(this),this.Iv.appendChild(this.Fv.qf());const h=e.autoSize&&this.Wv();let l=this.un.width,a=this.un.height;if(h||l===0||a===0){const f=t.getBoundingClientRect();l=l||f.width,a=a||f.height}h||this.jv(l,a),this.$v(),t.appendChild(this.uv),this.Hv(),this.Hi.yt().xu().l(this.Hi.dl.bind(this.Hi),this),this.Hi.To().l(this.Hi.dl.bind(this.Hi),this)}Ut(){return this.Hi}F(){return this.un}Uv(){return this.Tv}qv(){return this.Fv}M(){this.zv(!1),this.Pv!==0&&window.cancelAnimationFrame(this.Pv),this.Hi.dc().v(this),this.Hi.yt().xu().v(this),this.Hi.To().v(this),this.Hi.M();for(const t of this.Tv)this.Iv.removeChild(t.qf()),t.Wp().v(this),t.M();this.Tv=[],A(this.Fv).M(),this.uv.parentElement!==null&&this.uv.parentElement.removeChild(this.uv),this.Yu.M(),this.fp.M(),this.Yv()}jv(t,e,s=!1){if(this.da===e&&this.po===t)return;const h=function(f){const p=Math.floor(f.width),v=Math.floor(f.height);return rt({width:p-p%2,height:v-v%2})}(rt({width:t,height:e}));this.da=h.height,this.po=h.width;const l=this.da+"px",a=this.po+"px";A(this.uv).style.height=l,A(this.uv).style.width=a,this.Iv.style.height=l,this.Iv.style.width=a,s?this.Xv(St.ss(),performance.now()):this.Hi.dl()}tp(t){t===void 0&&(t=St.ss());for(let e=0;e<this.Tv.length;e++)this.Tv[e].tp(t.jn(e).Nn);this.un.timeScale.visible&&this.Fv.tp(t.Wn())}kh(t){const e=nh(this.un);this.Hi.kh(t);const s=nh(this.un);s!==e&&this.zv(s),this.Hv(),this.Zv(t)}Wp(){return this.fp}dc(){return this.Yu}Kv(){this.Bv!==null&&(this.Xv(this.Bv,performance.now()),this.Bv=null);const t=this.Gv(null),e=document.createElement("canvas");e.width=t.width,e.height=t.height;const s=A(e.getContext("2d"));return this.Gv(s),e}Jv(t){return t==="left"&&!this.Qv()||t==="right"&&!this.tm()||this.Tv.length===0?0:A(t==="left"?this.Tv[0].Gp():this.Tv[0].Jp()).Jf()}Zv(t){(t.autoSize!==void 0||!this.Av||t.width===void 0&&t.height===void 0)&&(t.autoSize&&!this.Av&&this.Wv(),t.autoSize===!1&&this.Av!==null&&this.Yv(),t.autoSize||t.width===void 0&&t.height===void 0||this.jv(t.width||this.po,t.height||this.da))}Gv(t){let e=0,s=0;const h=this.Tv[0],l=(f,p)=>{let v=0;for(let _=0;_<this.Tv.length;_++){const w=this.Tv[_],M=A(f==="left"?w.Gp():w.Jp()),y=M.hp();t!==null&&M.lp(t,p,v),v+=y.height}};this.Qv()&&(l("left",0),e+=A(h.Gp()).hp().width);for(let f=0;f<this.Tv.length;f++){const p=this.Tv[f],v=p.hp();t!==null&&p.lp(t,e,s),s+=v.height}e+=h.hp().width,this.tm()&&(l("right",e),e+=A(h.Jp()).hp().width);const a=(f,p,v)=>{A(f==="left"?this.Fv.vv():this.Fv.mv()).lp(A(t),p,v)};if(this.un.timeScale.visible){const f=this.Fv.hp();if(t!==null){let p=0;this.Qv()&&(a("left",p,s),p=A(h.Gp()).hp().width),this.Fv.lp(t,p,s),p+=f.width,this.tm()&&a("right",p,s)}s+=f.height}return rt({width:e,height:s})}im(){let t=0,e=0,s=0;for(const V of this.Tv)this.Qv()&&(e=Math.max(e,A(V.Gp()).Xf())),this.tm()&&(s=Math.max(s,A(V.Jp()).Xf())),t+=V.Po();e=lh(e),s=lh(s);const h=this.po,l=this.da,a=Math.max(h-e-s,0),f=this.un.timeScale.visible;let p=f?this.Fv.wv():0;var v;p=(v=p)+v%2;const _=0+p,w=l<_?0:l-_,M=w/t;let y=0;for(let V=0;V<this.Tv.length;++V){const O=this.Tv[V];O.Rp(this.Hi._c()[V]);let R=0,k=0;k=V===this.Tv.length-1?w-y:Math.round(O.Po()*M),R=Math.max(k,2),y+=R,O.Gf(rt({width:a,height:R})),this.Qv()&&O.Hp(e,"left"),this.tm()&&O.Hp(s,"right"),O.Qf()&&this.Hi.fc(O.Qf(),R)}this.Fv.gv(rt({width:f?a:0,height:p}),f?e:0,f?s:0),this.Hi.Do(a),this.Rv!==e&&(this.Rv=e),this.Dv!==s&&(this.Dv=s)}zv(t){t?this.uv.addEventListener("wheel",this.Ev,{passive:!1}):this.uv.removeEventListener("wheel",this.Ev)}nm(t){switch(t.deltaMode){case t.DOM_DELTA_PAGE:return 120;case t.DOM_DELTA_LINE:return 32}return F_?1/window.devicePixelRatio:1}Vv(t){if(!(t.deltaX!==0&&this.un.handleScroll.mouseWheel||t.deltaY!==0&&this.un.handleScale.mouseWheel))return;const e=this.nm(t),s=e*t.deltaX/100,h=-e*t.deltaY/100;if(t.cancelable&&t.preventDefault(),h!==0&&this.un.handleScale.mouseWheel){const l=Math.sign(h)*Math.min(1,Math.abs(h)),a=t.clientX-this.uv.getBoundingClientRect().left;this.Ut().bc(a,l)}s!==0&&this.un.handleScroll.mouseWheel&&this.Ut().gc(-80*s)}Xv(t,e){var s;const h=t.Wn();h===3&&this.sm(),h!==3&&h!==2||(this.rm(t),this.hm(t,e),this.Fv.gt(),this.Tv.forEach(l=>{l.Bp()}),((s=this.Bv)===null||s===void 0?void 0:s.Wn())===3&&(this.Bv.Qn(t),this.sm(),this.rm(this.Bv),this.hm(this.Bv,e),t=this.Bv,this.Bv=null)),this.tp(t)}hm(t,e){for(const s of t.Jn())this.ts(s,e)}rm(t){const e=this.Hi._c();for(let s=0;s<e.length;s++)t.jn(s).Fn&&e[s].qo()}ts(t,e){const s=this.Hi.yt();switch(t.Un){case 0:s.ku();break;case 1:s.Cu(t.Ot);break;case 2:s.Kn(t.Ot);break;case 3:s.Gn(t.Ot);break;case 4:s.cu();break;case 5:t.Ot.gu(e)||s.Gn(t.Ot.wu(e))}}Zu(t){this.Bv!==null?this.Bv.Qn(t):this.Bv=t,this.Ov||(this.Ov=!0,this.Pv=window.requestAnimationFrame(e=>{if(this.Ov=!1,this.Pv=0,this.Bv!==null){const s=this.Bv;this.Bv=null,this.Xv(s,e);for(const h of s.Jn())if(h.Un===5&&!h.Ot.gu(e)){this.Ut().Yn(h.Ot);break}}}))}sm(){this.$v()}$v(){const t=this.Hi._c(),e=t.length,s=this.Tv.length;for(let h=e;h<s;h++){const l=Jt(this.Tv.pop());this.Iv.removeChild(l.qf()),l.Wp().v(this),l.M()}for(let h=s;h<e;h++){const l=new bh(this,t[h]);l.Wp().l(this.lm.bind(this),this),this.Tv.push(l),this.Iv.insertBefore(l.qf(),this.Fv.qf())}for(let h=0;h<e;h++){const l=t[h],a=this.Tv[h];a.Qf()!==l?a.Rp(l):a.Pp()}this.Hv(),this.im()}am(t,e,s){var h;const l=new Map;t!==null&&this.Hi.wt().forEach(_=>{const w=_.Ln().jh(t);w!==null&&l.set(_,w)});let a;if(t!==null){const _=(h=this.Hi.yt().Ui(t))===null||h===void 0?void 0:h.w_;_!==void 0&&(a=_)}const f=this.Ut().rc(),p=f!==null&&f.lc instanceof mh?f.lc:void 0,v=f!==null&&f.Ip!==void 0?f.Ip.nr:void 0;return{_t:a,Ys:t??void 0,om:e??void 0,_m:p,um:l,dm:v,fm:s??void 0}}lm(t,e,s){this.fp.m(()=>this.am(t,e,s))}Nv(t,e,s){this.Yu.m(()=>this.am(t,e,s))}Hv(){const t=this.un.timeScale.visible?"":"none";this.Fv.qf().style.display=t}Qv(){return this.Tv[0].Qf().Eo().F().visible}tm(){return this.Tv[0].Qf().Vo().F().visible}Wv(){return"ResizeObserver"in window&&(this.Av=new ResizeObserver(t=>{const e=t.find(s=>s.target===this.Lv);e&&this.jv(e.contentRect.width,e.contentRect.height)}),this.Av.observe(this.Lv,{box:"border-box"}),!0)}Yv(){this.Av!==null&&this.Av.disconnect()}}function nh(o){return Boolean(o.handleScroll.mouseWheel||o.handleScale.mouseWheel)}function Vu(o,t,e,s){const h=e.value,l={Ys:t,_t:o,Ot:[h,h,h,h],w_:s};return e.color!==void 0&&(l.D=e.color),l}function us(o){return o.Ot!==void 0}function ge(o){return(t,e,s,h)=>{return(l=s).open===void 0&&l.value===void 0?{_t:t,Ys:e,w_:h}:o(t,e,s,h);var l}}const B_={Candlestick:ge(function(o,t,e,s){const h={Ys:t,_t:o,Ot:[e.open,e.high,e.low,e.close],w_:s};return e.color!==void 0&&(h.D=e.color),e.borderColor!==void 0&&(h.At=e.borderColor),e.wickColor!==void 0&&(h.Dh=e.wickColor),h}),Bar:ge(function(o,t,e,s){const h={Ys:t,_t:o,Ot:[e.open,e.high,e.low,e.close],w_:s};return e.color!==void 0&&(h.D=e.color),h}),Area:ge(function(o,t,e,s){const h=e.value,l={Ys:t,_t:o,Ot:[h,h,h,h],w_:s};return e.lineColor!==void 0&&(l.ot=e.lineColor),e.topColor!==void 0&&(l.bs=e.topColor),e.bottomColor!==void 0&&(l.gs=e.bottomColor),l}),Baseline:ge(function(o,t,e,s){const h=e.value,l={Ys:t,_t:o,Ot:[h,h,h,h],w_:s};return e.topLineColor!==void 0&&(l.be=e.topLineColor),e.bottomLineColor!==void 0&&(l.ge=e.bottomLineColor),e.topFillColor1!==void 0&&(l.de=e.topFillColor1),e.topFillColor2!==void 0&&(l.fe=e.topFillColor2),e.bottomFillColor1!==void 0&&(l.pe=e.bottomFillColor1),e.bottomFillColor2!==void 0&&(l.ve=e.bottomFillColor2),l}),Histogram:ge(Vu),Line:ge(Vu)};function Iu(o){return B_[o]}function as(o){return 60*o*60*1e3}function sh(o){return 60*o*1e3}const cs=[{pm:(Au=1,1e3*Au),g_:10},{pm:sh(1),g_:20},{pm:sh(5),g_:21},{pm:sh(30),g_:22},{pm:as(1),g_:30},{pm:as(3),g_:31},{pm:as(6),g_:32},{pm:as(12),g_:33}];var Au;function Ou(o,t){if(o.getUTCFullYear()!==t.getUTCFullYear())return 70;if(o.getUTCMonth()!==t.getUTCMonth())return 60;if(o.getUTCDate()!==t.getUTCDate())return 50;for(let e=cs.length-1;e>=0;--e)if(Math.floor(t.getTime()/cs[e].pm)!==Math.floor(o.getTime()/cs[e].pm))return cs[e].g_;return 0}function Fu(o,t=0){if(o.length===0)return;let e=t===0?null:o[t-1]._t.__,s=e!==null?new Date(1e3*e):null,h=0;for(let l=t;l<o.length;++l){const a=o[l],f=new Date(1e3*a._t.__);s!==null&&(a.b_=Ou(f,s)),h+=a._t.__-(e||a._t.__),e=a._t.__,s=f}if(t===0&&o.length>1){const l=Math.ceil(h/(o.length-1)),a=new Date(1e3*(o[0]._t.__-l));o[0].b_=Ou(new Date(1e3*o[0]._t.__),a)}}function uh(o){if(!_h(o))throw new Error("time must be of type BusinessDay");const t=new Date(Date.UTC(o.year,o.month-1,o.day,0,0,0,0));return{__:Math.round(t.getTime()/1e3),o_:o}}function va(o){if(!ga(o))throw new Error("time must be of type isUTCTimestamp");return{__:o}}function zu(o){return o.length===0?null:_h(o[0].time)?uh:va}function fs(o){return ga(o)?va(o):_h(o)?uh(o):uh(ma(o))}function ma(o){const t=new Date(o);if(isNaN(t.getTime()))throw new Error(`Invalid date string=${o}, expected format=yyyy-mm-dd`);return{day:t.getUTCDate(),month:t.getUTCMonth()+1,year:t.getUTCFullYear()}}function Bu(o){ch(o.time)&&(o.time=ma(o.time))}function Nu(o){return{Ys:0,vm:new Map,yl:o}}function Ru(o){if(o!==void 0&&o.length!==0)return{bm:o[0]._t.__,gm:o[o.length-1]._t.__}}function Pu(o){let t;return o.forEach(e=>{t===void 0&&(t=e.w_)}),Jt(t)}function Du(o){o.w_===void 0&&(o.w_=o.time)}class N_{constructor(){this.wm=new Map,this.Mm=new Map,this.Sm=new Map,this.xm=[]}M(){this.wm.clear(),this.Mm.clear(),this.Sm.clear(),this.xm=[]}ym(t,e){let s=this.wm.size!==0,h=!1;const l=this.Mm.get(t);if(l!==void 0)if(this.Mm.size===1)s=!1,h=!0,this.wm.clear();else for(const p of this.xm)p.pointData.vm.delete(t)&&(h=!0);let a=[];if(e.length!==0){const p=e;p.forEach(w=>Du(w)),function(w){w.forEach(Bu)}(e);const v=A(zu(e)),_=Iu(t.Lh());a=p.map(w=>{const M=v(w.time);let y=this.wm.get(M.__);y===void 0&&(y=Nu(M),this.wm.set(M.__,y),h=!0);const V=_(M,y.Ys,w,w.w_);return y.vm.set(t,V),V})}s&&this.km(),this.Cm(t,a);let f=-1;if(h){const p=[];this.wm.forEach(v=>{p.push({b_:0,_t:v.yl,pointData:v,w_:Pu(v.vm)})}),p.sort((v,_)=>v._t.__-_._t.__),f=this.Tm(p)}return this.Pm(t,f,function(p,v){const _=Ru(p),w=Ru(v);if(_!==void 0&&w!==void 0)return{ml:_.gm>=w.gm&&_.bm>=w.bm}}(this.Mm.get(t),l))}Bc(t){return this.ym(t,[])}Rm(t,e){const s=e;Du(s),Bu(e);const h=A(zu([e]))(e.time),l=this.Sm.get(t);if(l!==void 0&&h.__<l.__)throw new Error(`Cannot update oldest data, last time=${l.__}, new time=${h.__}`);let a=this.wm.get(h.__);const f=a===void 0;a===void 0&&(a=Nu(h),this.wm.set(h.__,a));const p=Iu(t.Lh())(h,a.Ys,e,s.w_);a.vm.set(t,p),this.Dm(t,p);const v={ml:us(p)};if(!f)return this.Pm(t,-1,v);const _={b_:0,_t:a.yl,pointData:a,w_:Pu(a.vm)},w=rn(this.xm,_._t.__,(M,y)=>M._t.__<y);this.xm.splice(w,0,_);for(let M=w;M<this.xm.length;++M)rh(this.xm[M].pointData,M);return Fu(this.xm,w),this.Pm(t,w,v)}Dm(t,e){let s=this.Mm.get(t);s===void 0&&(s=[],this.Mm.set(t,s));const h=s.length!==0?s[s.length-1]:null;h===null||e._t.__>h._t.__?us(e)&&s.push(e):us(e)?s[s.length-1]=e:s.splice(-1,1),this.Sm.set(t,e._t)}Cm(t,e){e.length!==0?(this.Mm.set(t,e.filter(us)),this.Sm.set(t,e[e.length-1]._t)):(this.Mm.delete(t),this.Sm.delete(t))}km(){for(const t of this.xm)t.pointData.vm.size===0&&this.wm.delete(t._t.__)}Tm(t){let e=-1;for(let s=0;s<this.xm.length&&s<t.length;++s){const h=this.xm[s],l=t[s];if(h._t.__!==l._t.__){e=s;break}l.b_=h.b_,rh(l.pointData,s)}if(e===-1&&this.xm.length!==t.length&&(e=Math.min(this.xm.length,t.length)),e===-1)return-1;for(let s=e;s<t.length;++s)rh(t[s].pointData,s);return Fu(t,e),this.xm=t,e}Bm(){if(this.Mm.size===0)return null;let t=0;return this.Mm.forEach(e=>{e.length!==0&&(t=Math.max(t,e[e.length-1].Ys))}),t}Pm(t,e,s){const h={Om:new Map,yt:{su:this.Bm()}};if(e!==-1)this.Mm.forEach((l,a)=>{h.Om.set(a,{ar:l,Am:a===t?s:void 0})}),this.Mm.has(t)||h.Om.set(t,{ar:[],Am:s}),h.yt.Lm=this.xm,h.yt.Im=e;else{const l=this.Mm.get(t);h.Om.set(t,{ar:l||[],Am:s})}return h}}function rh(o,t){o.Ys=t,o.vm.forEach(e=>{e.Ys=t})}function ah(o){return{value:o.Ot[3],time:o.w_}}function Uu(o){const t=ah(o);return o.D!==void 0&&(t.color=o.D),t}function ku(o){return{open:o.Ot[0],high:o.Ot[1],low:o.Ot[2],close:o.Ot[3],time:o.w_}}const R_={Area:function(o){const t=ah(o);return o.ot!==void 0&&(t.lineColor=o.ot),o.bs!==void 0&&(t.topColor=o.bs),o.gs!==void 0&&(t.bottomColor=o.gs),t},Line:Uu,Baseline:function(o){const t=ah(o);return o.be!==void 0&&(t.topLineColor=o.be),o.ge!==void 0&&(t.bottomLineColor=o.ge),o.de!==void 0&&(t.topFillColor1=o.de),o.fe!==void 0&&(t.topFillColor2=o.fe),o.pe!==void 0&&(t.bottomFillColor1=o.pe),o.ve!==void 0&&(t.bottomFillColor2=o.ve),t},Histogram:Uu,Bar:function(o){const t=ku(o);return o.D!==void 0&&(t.color=o.D),t},Candlestick:function(o){const t=ku(o),{D:e,At:s,Dh:h}=o;return e!==void 0&&(t.color=e),s!==void 0&&(t.borderColor=s),h!==void 0&&(t.wickColor=h),t}};function _a(o){return R_[o]}const hh={autoScale:!0,mode:0,invertScale:!1,alignLabels:!0,borderVisible:!0,borderColor:"#2B2B43",entireTextOnly:!1,visible:!1,ticksVisible:!1,scaleMargins:{bottom:.1,top:.2}},P_={color:"rgba(0, 0, 0, 0)",visible:!1,fontSize:48,fontFamily:fh,fontStyle:"",text:"",horzAlign:"center",vertAlign:"center"},Wu={width:0,height:0,autoSize:!1,layout:{background:{type:"solid",color:"#FFFFFF"},textColor:"#191919",fontSize:12,fontFamily:fh},crosshair:{vertLine:{color:"#9598A1",width:1,style:3,visible:!0,labelVisible:!0,labelBackgroundColor:"#131722"},horzLine:{color:"#9598A1",width:1,style:3,visible:!0,labelVisible:!0,labelBackgroundColor:"#131722"},mode:1},grid:{vertLines:{color:"#D6DCDE",style:0,visible:!0},horzLines:{color:"#D6DCDE",style:0,visible:!0}},overlayPriceScales:Object.assign({},hh),leftPriceScale:Object.assign(Object.assign({},hh),{visible:!1}),rightPriceScale:Object.assign(Object.assign({},hh),{visible:!0}),timeScale:{rightOffset:0,barSpacing:6,minBarSpacing:.5,fixLeftEdge:!1,fixRightEdge:!1,lockVisibleTimeRangeOnResize:!1,rightBarStaysOnScroll:!1,borderVisible:!0,borderColor:"#2B2B43",visible:!0,timeVisible:!1,secondsVisible:!0,shiftVisibleRangeOnNewBar:!0,ticksVisible:!1},watermark:P_,localization:{locale:we?navigator.language:"",dateFormat:"dd MMM 'yy"},handleScroll:{mouseWheel:!0,pressedMouseMove:!0,horzTouchDrag:!0,vertTouchDrag:!0},handleScale:{axisPressedMouseMove:{time:!0,price:!0},axisDoubleClickReset:{time:!0,price:!0},mouseWheel:!0,pinch:!0},kineticScroll:{mouse:!1,touch:!0},trackingMode:{exitMode:1}},D_={upColor:"#26a69a",downColor:"#ef5350",wickVisible:!0,borderVisible:!0,borderColor:"#378658",borderUpColor:"#26a69a",borderDownColor:"#ef5350",wickColor:"#737375",wickUpColor:"#26a69a",wickDownColor:"#ef5350"},U_={upColor:"#26a69a",downColor:"#ef5350",openVisible:!0,thinBars:!0},k_={color:"#2196f3",lineStyle:0,lineWidth:3,lineType:0,crosshairMarkerVisible:!0,crosshairMarkerRadius:4,crosshairMarkerBorderColor:"",crosshairMarkerBorderWidth:2,crosshairMarkerBackgroundColor:"",lastPriceAnimation:0},W_={topColor:"rgba( 46, 220, 135, 0.4)",bottomColor:"rgba( 40, 221, 100, 0)",invertFilledArea:!1,lineColor:"#33D778",lineStyle:0,lineWidth:3,lineType:0,crosshairMarkerVisible:!0,crosshairMarkerRadius:4,crosshairMarkerBorderColor:"",crosshairMarkerBorderWidth:2,crosshairMarkerBackgroundColor:"",lastPriceAnimation:0},$_={baseValue:{type:"price",price:0},topFillColor1:"rgba(38, 166, 154, 0.28)",topFillColor2:"rgba(38, 166, 154, 0.05)",topLineColor:"rgba(38, 166, 154, 1)",bottomFillColor1:"rgba(239, 83, 80, 0.05)",bottomFillColor2:"rgba(239, 83, 80, 0.28)",bottomLineColor:"rgba(239, 83, 80, 1)",lineWidth:3,lineStyle:0,lineType:0,crosshairMarkerVisible:!0,crosshairMarkerRadius:4,crosshairMarkerBorderColor:"",crosshairMarkerBorderWidth:2,crosshairMarkerBackgroundColor:"",lastPriceAnimation:0},G_={color:"#26a69a",base:0},H_={title:"",visible:!0,lastValueVisible:!0,priceLineVisible:!0,priceLineSource:0,priceLineWidth:1,priceLineColor:"",priceLineStyle:2,baseLineVisible:!0,baseLineWidth:1,baseLineColor:"#B2B5BE",baseLineStyle:0,priceFormat:{type:"price",precision:2,minMove:.01}};class Y_{constructor(t,e){this.Em=t,this.Vm=e}applyOptions(t){this.Em.Ut().ac(this.Vm,t)}options(){return this.Vi().F()}width(){return Ss(this.Vm)?this.Em.Jv(this.Vm):0}Vi(){return A(this.Em.Ut().oc(this.Vm)).Bt}}const K_={color:"#FF0000",price:0,lineStyle:2,lineWidth:1,lineVisible:!0,axisLabelVisible:!0,title:""};class q_{constructor(t){this.wh=t}applyOptions(t){this.wh.kh(t)}options(){return this.wh.F()}zm(){return this.wh}}class X_{constructor(t,e,s){this.Ts=t,this.Nm=e,this.Fm=s}priceFormatter(){return this.Ts.Bl()}priceToCoordinate(t){const e=this.Ts.Tt();return e===null?null:this.Ts.Bt().Dt(t,e.Ot)}coordinateToPrice(t){const e=this.Ts.Tt();return e===null?null:this.Ts.Bt().pn(t,e.Ot)}barsInLogicalRange(t){if(t===null)return null;const e=new me(new Je(t.from,t.to)).k_(),s=this.Ts.Ln();if(s.Ni())return null;const h=s.jh(e.Ms(),1),l=s.jh(e.ci(),-1),a=A(s.Nh()),f=A(s.An());if(h!==null&&l!==null&&h.Ys>l.Ys)return{barsBefore:t.from-a,barsAfter:f-t.to};const p={barsBefore:h===null||h.Ys===a?t.from-a:h.Ys-a,barsAfter:l===null||l.Ys===f?f-t.to:f-l.Ys};return h!==null&&l!==null&&(p.from=h._t.o_||h._t.__,p.to=l._t.o_||l._t.__),p}setData(t){this.Ts.Lh(),this.Nm.Wm(this.Ts,t)}update(t){this.Ts.Lh(),this.Nm.jm(this.Ts,t)}dataByIndex(t,e){const s=this.Ts.Ln().jh(t,e);return s===null?null:_a(this.seriesType())(s)}setMarkers(t){const e=t.map(s=>Object.assign(Object.assign({},s),{originalTime:s.time,time:fs(s.time)}));this.Ts.gl(e)}markers(){return this.Ts.wl().map(t=>{const{originalTime:e,time:s}=t,h=function(l,a){var f={};for(var p in l)Object.prototype.hasOwnProperty.call(l,p)&&a.indexOf(p)<0&&(f[p]=l[p]);if(l!=null&&typeof Object.getOwnPropertySymbols=="function"){var v=0;for(p=Object.getOwnPropertySymbols(l);v<p.length;v++)a.indexOf(p[v])<0&&Object.prototype.propertyIsEnumerable.call(l,p[v])&&(f[p[v]]=l[p[v]])}return f}(t,["originalTime","time"]);return Object.assign({time:e},h)})}applyOptions(t){this.Ts.kh(t)}options(){return xi(this.Ts.F())}priceScale(){return this.Fm.priceScale(this.Ts.Bt().Vl())}createPriceLine(t){const e=ai(xi(K_),t),s=this.Ts.Ml(e);return new q_(s)}removePriceLine(t){this.Ts.Sl(t.zm())}seriesType(){return this.Ts.Lh()}}class Z_{constructor(t,e){this.$m=new xt,this.I_=new xt,this._v=new xt,this.Hi=t,this.bo=t.yt(),this.Fv=e,this.bo.Mu().l(this.Hm.bind(this)),this.bo.Su().l(this.Um.bind(this)),this.Fv.bv().l(this.qm.bind(this))}M(){this.bo.Mu().v(this),this.bo.Su().v(this),this.Fv.bv().v(this),this.$m.M(),this.I_.M(),this._v.M()}scrollPosition(){return this.bo.au()}scrollToPosition(t,e){e?this.bo.bu(t,1e3):this.Hi.Gn(t)}scrollToRealTime(){this.bo.mu()}getVisibleRange(){var t,e;const s=this.bo.K_();return s===null?null:{from:(t=s.from.o_)!==null&&t!==void 0?t:s.from.__,to:(e=s.to.o_)!==null&&e!==void 0?e:s.to.__}}setVisibleRange(t){const e={from:fs(t.from),to:fs(t.to)},s=this.bo.tu(e);this.Hi.Oc(s)}getVisibleLogicalRange(){const t=this.bo.Z_();return t===null?null:{from:t.Ms(),to:t.ci()}}setVisibleLogicalRange(t){qi(t.from<=t.to,"The from index cannot be after the to index."),this.Hi.Oc(t)}resetTimeScale(){this.Hi.Zn()}fitContent(){this.Hi.ku()}logicalToCoordinate(t){const e=this.Hi.yt();return e.Ni()?null:e.Et(t)}coordinateToLogical(t){return this.bo.Ni()?null:this.bo.eu(t)}timeToCoordinate(t){const e=fs(t),s=this.bo.Nl(e,!1);return s===null?null:this.bo.Et(s)}coordinateToTime(t){var e;const s=this.Hi.yt(),h=s.eu(t),l=s.vn(h);return l===null?null:(e=l.o_)!==null&&e!==void 0?e:l.__}width(){return this.Fv.Up().width}height(){return this.Fv.Up().height}subscribeVisibleTimeRangeChange(t){this.$m.l(t)}unsubscribeVisibleTimeRangeChange(t){this.$m.p(t)}subscribeVisibleLogicalRangeChange(t){this.I_.l(t)}unsubscribeVisibleLogicalRangeChange(t){this.I_.p(t)}subscribeSizeChange(t){this._v.l(t)}unsubscribeSizeChange(t){this._v.p(t)}applyOptions(t){this.bo.kh(t)}options(){return xi(this.bo.F())}Hm(){this.$m.g()&&this.$m.m(this.getVisibleRange())}Um(){this.I_.g()&&this.I_.m(this.getVisibleLogicalRange())}qm(t){this._v.m(t.width,t.height)}}function J_(o){if(o===void 0||o.type==="custom")return;const t=o;t.minMove!==void 0&&t.precision===void 0&&(t.precision=function(e){if(e>=1)return 0;let s=0;for(;s<8;s++){const h=Math.round(e);if(Math.abs(h-e)<1e-8)return s;e*=10}return s}(t.minMove))}function $u(o){return function(t){if(ns(t.handleScale)){const s=t.handleScale;t.handleScale={axisDoubleClickReset:{time:s,price:s},axisPressedMouseMove:{time:s,price:s},mouseWheel:s,pinch:s}}else if(t.handleScale!==void 0){const{axisPressedMouseMove:s,axisDoubleClickReset:h}=t.handleScale;ns(s)&&(t.handleScale.axisPressedMouseMove={time:s,price:s}),ns(h)&&(t.handleScale.axisDoubleClickReset={time:h,price:h})}const e=t.handleScroll;ns(e)&&(t.handleScroll={horzTouchDrag:e,vertTouchDrag:e,mouseWheel:e,pressedMouseMove:e})}(o),o}class Q_{constructor(t,e){this.Ym=new N_,this.Xm=new Map,this.Zm=new Map,this.Km=new xt,this.Gm=new xt;const s=e===void 0?xi(Wu):ai(xi(Wu),$u(e));this.Em=new z_(t,s),this.Em.Wp().l(l=>{this.Km.g()&&this.Km.m(this.Jm(l()))},this),this.Em.dc().l(l=>{this.Gm.g()&&this.Gm.m(this.Jm(l()))},this);const h=this.Em.Ut();this.Qm=new Z_(h,this.Em.qv())}remove(){this.Em.Wp().v(this),this.Em.dc().v(this),this.Qm.M(),this.Em.M(),this.Xm.clear(),this.Zm.clear(),this.Km.M(),this.Gm.M(),this.Ym.M()}resize(t,e,s){this.Em.jv(t,e,s)}addAreaSeries(t){return this.tb("Area",W_,t)}addBaselineSeries(t){return this.tb("Baseline",$_,t)}addBarSeries(t){return this.tb("Bar",U_,t)}addCandlestickSeries(t={}){return function(e){e.borderColor!==void 0&&(e.borderUpColor=e.borderColor,e.borderDownColor=e.borderColor),e.wickColor!==void 0&&(e.wickUpColor=e.wickColor,e.wickDownColor=e.wickColor)}(t),this.tb("Candlestick",D_,t)}addHistogramSeries(t){return this.tb("Histogram",G_,t)}addLineSeries(t){return this.tb("Line",k_,t)}removeSeries(t){const e=Jt(this.Xm.get(t)),s=this.Ym.Bc(e);this.Em.Ut().Bc(e),this.ib(s),this.Xm.delete(t),this.Zm.delete(e)}Wm(t,e){this.ib(this.Ym.ym(t,e))}jm(t,e){this.ib(this.Ym.Rm(t,e))}subscribeClick(t){this.Km.l(t)}unsubscribeClick(t){this.Km.p(t)}subscribeCrosshairMove(t){this.Gm.l(t)}unsubscribeCrosshairMove(t){this.Gm.p(t)}priceScale(t){return new Y_(this.Em,t)}timeScale(){return this.Qm}applyOptions(t){this.Em.kh($u(t))}options(){return this.Em.F()}takeScreenshot(){return this.Em.Kv()}tb(t,e,s={}){J_(s.priceFormat);const h=ai(xi(H_),xi(e),s),l=this.Em.Ut().Rc(t,h),a=new X_(l,this,this);return this.Xm.set(a,l),this.Zm.set(l,a),a}ib(t){const e=this.Em.Ut();e.Tc(t.yt.su,t.yt.Lm,t.yt.Im),t.Om.forEach((s,h)=>h.tt(s.ar,s.Am)),e.hu()}nb(t){return Jt(this.Zm.get(t))}Jm(t){const e=new Map;t.um.forEach((h,l)=>{const a=_a(l.Lh())(h);qi(function(f){return f.open!==void 0||f.value!==void 0}(a)),e.set(this.nb(l),a)});const s=t._m===void 0?void 0:this.nb(t._m);return{time:t._t,logical:t.Ys,point:t.om,hoveredSeries:s,hoveredObjectId:t.dm,seriesData:e,sourceEvent:t.fm}}}function j_(o,t){let e;if(ch(o)){const s=document.getElementById(o);qi(s!==null,`Cannot find element in DOM with id=${o}`),e=s}else e=o;return new Q_(e,t)}var tw=at({defaultClassName:"tz06xt2",variantClassNames:{},defaultVariants:{},compoundVariants:[]}),iw=at({defaultClassName:"tz06xt1",variantClassNames:{},defaultVariants:{},compoundVariants:[]}),ew=at({defaultClassName:"tz06xt0",variantClassNames:{},defaultVariants:{},compoundVariants:[]});function nw(o){return be({a:{viewBox:"0 0 512 512"},c:'<path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="M256 112v288M400 256H112"/>'},o)}var en={},sw={get exports(){return en},set exports(o){en=o}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(o,t){(function(){var e,s="4.17.21",h=200,l="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",a="Expected a function",f="Invalid `variable` option passed into `_.template`",p="__lodash_hash_undefined__",v=500,_="__lodash_placeholder__",w=1,M=2,y=4,V=1,O=2,R=1,k=2,lt=4,j=8,Z=16,it=32,yt=64,dt=128,vt=256,ci=512,Se=30,hn="...",Cs=800,on=16,Zi=1,ln=2,Ji=3,si=1/0,Vt=9007199254740991,xe=17976931348623157e292,Ci=0/0,It=4294967295,wa=It-1,ba=It>>>1,Sa=[["ary",dt],["bind",R],["bindKey",k],["curry",j],["curryRight",Z],["flip",ci],["partial",it],["partialRight",yt],["rearg",vt]],Qi="[object Arguments]",un="[object Array]",xa="[object AsyncFunction]",Me="[object Boolean]",Ce="[object Date]",Ma="[object DOMException]",an="[object Error]",cn="[object Function]",Sh="[object GeneratorFunction]",Qt="[object Map]",ye="[object Number]",Ca="[object Null]",fi="[object Object]",xh="[object Promise]",ya="[object Proxy]",Te="[object RegExp]",jt="[object Set]",Ee="[object String]",fn="[object Symbol]",Ta="[object Undefined]",Le="[object WeakMap]",Ea="[object WeakSet]",Ve="[object ArrayBuffer]",ji="[object DataView]",ys="[object Float32Array]",Ts="[object Float64Array]",Es="[object Int8Array]",Ls="[object Int16Array]",Vs="[object Int32Array]",Is="[object Uint8Array]",As="[object Uint8ClampedArray]",Os="[object Uint16Array]",Fs="[object Uint32Array]",La=/\b__p \+= '';/g,Va=/\b(__p \+=) '' \+/g,Ia=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Mh=/&(?:amp|lt|gt|quot|#39);/g,Ch=/[&<>"']/g,Aa=RegExp(Mh.source),Oa=RegExp(Ch.source),Fa=/<%-([\s\S]+?)%>/g,za=/<%([\s\S]+?)%>/g,yh=/<%=([\s\S]+?)%>/g,Ba=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Na=/^\w*$/,Ra=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,zs=/[\\^$.*+?()[\]{}|]/g,Pa=RegExp(zs.source),Bs=/^\s+/,Da=/\s/,Ua=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,ka=/\{\n\/\* \[wrapped with (.+)\] \*/,Wa=/,? & /,$a=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Ga=/[()=,{}\[\]\/\s]/,Ha=/\\(\\)?/g,Ya=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Th=/\w*$/,Ka=/^[-+]0x[0-9a-f]+$/i,qa=/^0b[01]+$/i,Xa=/^\[object .+?Constructor\]$/,Za=/^0o[0-7]+$/i,Ja=/^(?:0|[1-9]\d*)$/,Qa=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,dn=/($^)/,ja=/['\n\r\u2028\u2029\\]/g,pn="\\ud800-\\udfff",tc="\\u0300-\\u036f",ic="\\ufe20-\\ufe2f",ec="\\u20d0-\\u20ff",Eh=tc+ic+ec,Lh="\\u2700-\\u27bf",Vh="a-z\\xdf-\\xf6\\xf8-\\xff",nc="\\xac\\xb1\\xd7\\xf7",sc="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",rc="\\u2000-\\u206f",hc=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Ih="A-Z\\xc0-\\xd6\\xd8-\\xde",Ah="\\ufe0e\\ufe0f",Oh=nc+sc+rc+hc,Ns="['’]",oc="["+pn+"]",Fh="["+Oh+"]",gn="["+Eh+"]",zh="\\d+",lc="["+Lh+"]",Bh="["+Vh+"]",Nh="[^"+pn+Oh+zh+Lh+Vh+Ih+"]",Rs="\\ud83c[\\udffb-\\udfff]",uc="(?:"+gn+"|"+Rs+")",Rh="[^"+pn+"]",Ps="(?:\\ud83c[\\udde6-\\uddff]){2}",Ds="[\\ud800-\\udbff][\\udc00-\\udfff]",te="["+Ih+"]",Ph="\\u200d",Dh="(?:"+Bh+"|"+Nh+")",ac="(?:"+te+"|"+Nh+")",Uh="(?:"+Ns+"(?:d|ll|m|re|s|t|ve))?",kh="(?:"+Ns+"(?:D|LL|M|RE|S|T|VE))?",Wh=uc+"?",$h="["+Ah+"]?",cc="(?:"+Ph+"(?:"+[Rh,Ps,Ds].join("|")+")"+$h+Wh+")*",fc="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",dc="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Gh=$h+Wh+cc,pc="(?:"+[lc,Ps,Ds].join("|")+")"+Gh,gc="(?:"+[Rh+gn+"?",gn,Ps,Ds,oc].join("|")+")",vc=RegExp(Ns,"g"),mc=RegExp(gn,"g"),Us=RegExp(Rs+"(?="+Rs+")|"+gc+Gh,"g"),_c=RegExp([te+"?"+Bh+"+"+Uh+"(?="+[Fh,te,"$"].join("|")+")",ac+"+"+kh+"(?="+[Fh,te+Dh,"$"].join("|")+")",te+"?"+Dh+"+"+Uh,te+"+"+kh,dc,fc,zh,pc].join("|"),"g"),wc=RegExp("["+Ph+pn+Eh+Ah+"]"),bc=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Sc=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],xc=-1,st={};st[ys]=st[Ts]=st[Es]=st[Ls]=st[Vs]=st[Is]=st[As]=st[Os]=st[Fs]=!0,st[Qi]=st[un]=st[Ve]=st[Me]=st[ji]=st[Ce]=st[an]=st[cn]=st[Qt]=st[ye]=st[fi]=st[Te]=st[jt]=st[Ee]=st[Le]=!1;var nt={};nt[Qi]=nt[un]=nt[Ve]=nt[ji]=nt[Me]=nt[Ce]=nt[ys]=nt[Ts]=nt[Es]=nt[Ls]=nt[Vs]=nt[Qt]=nt[ye]=nt[fi]=nt[Te]=nt[jt]=nt[Ee]=nt[fn]=nt[Is]=nt[As]=nt[Os]=nt[Fs]=!0,nt[an]=nt[cn]=nt[Le]=!1;var Mc={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},Cc={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},yc={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Tc={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Ec=parseFloat,Lc=parseInt,Hh=typeof He=="object"&&He&&He.Object===Object&&He,Vc=typeof self=="object"&&self&&self.Object===Object&&self,wt=Hh||Vc||Function("return this")(),ks=t&&!t.nodeType&&t,Bi=ks&&!0&&o&&!o.nodeType&&o,Yh=Bi&&Bi.exports===ks,Ws=Yh&&Hh.process,Wt=function(){try{var S=Bi&&Bi.require&&Bi.require("util").types;return S||Ws&&Ws.binding&&Ws.binding("util")}catch{}}(),Kh=Wt&&Wt.isArrayBuffer,qh=Wt&&Wt.isDate,Xh=Wt&&Wt.isMap,Zh=Wt&&Wt.isRegExp,Jh=Wt&&Wt.isSet,Qh=Wt&&Wt.isTypedArray;function Bt(S,T,C){switch(C.length){case 0:return S.call(T);case 1:return S.call(T,C[0]);case 2:return S.call(T,C[0],C[1]);case 3:return S.call(T,C[0],C[1],C[2])}return S.apply(T,C)}function Ic(S,T,C,z){for(var W=-1,J=S==null?0:S.length;++W<J;){var pt=S[W];T(z,pt,C(pt),S)}return z}function $t(S,T){for(var C=-1,z=S==null?0:S.length;++C<z&&T(S[C],C,S)!==!1;);return S}function Ac(S,T){for(var C=S==null?0:S.length;C--&&T(S[C],C,S)!==!1;);return S}function jh(S,T){for(var C=-1,z=S==null?0:S.length;++C<z;)if(!T(S[C],C,S))return!1;return!0}function yi(S,T){for(var C=-1,z=S==null?0:S.length,W=0,J=[];++C<z;){var pt=S[C];T(pt,C,S)&&(J[W++]=pt)}return J}function vn(S,T){var C=S==null?0:S.length;return!!C&&ie(S,T,0)>-1}function $s(S,T,C){for(var z=-1,W=S==null?0:S.length;++z<W;)if(C(T,S[z]))return!0;return!1}function ht(S,T){for(var C=-1,z=S==null?0:S.length,W=Array(z);++C<z;)W[C]=T(S[C],C,S);return W}function Ti(S,T){for(var C=-1,z=T.length,W=S.length;++C<z;)S[W+C]=T[C];return S}function Gs(S,T,C,z){var W=-1,J=S==null?0:S.length;for(z&&J&&(C=S[++W]);++W<J;)C=T(C,S[W],W,S);return C}function Oc(S,T,C,z){var W=S==null?0:S.length;for(z&&W&&(C=S[--W]);W--;)C=T(C,S[W],W,S);return C}function Hs(S,T){for(var C=-1,z=S==null?0:S.length;++C<z;)if(T(S[C],C,S))return!0;return!1}var Fc=Ys("length");function zc(S){return S.split("")}function Bc(S){return S.match($a)||[]}function to(S,T,C){var z;return C(S,function(W,J,pt){if(T(W,J,pt))return z=J,!1}),z}function mn(S,T,C,z){for(var W=S.length,J=C+(z?1:-1);z?J--:++J<W;)if(T(S[J],J,S))return J;return-1}function ie(S,T,C){return T===T?Kc(S,T,C):mn(S,io,C)}function Nc(S,T,C,z){for(var W=C-1,J=S.length;++W<J;)if(z(S[W],T))return W;return-1}function io(S){return S!==S}function eo(S,T){var C=S==null?0:S.length;return C?qs(S,T)/C:Ci}function Ys(S){return function(T){return T==null?e:T[S]}}function Ks(S){return function(T){return S==null?e:S[T]}}function no(S,T,C,z,W){return W(S,function(J,pt,et){C=z?(z=!1,J):T(C,J,pt,et)}),C}function Rc(S,T){var C=S.length;for(S.sort(T);C--;)S[C]=S[C].value;return S}function qs(S,T){for(var C,z=-1,W=S.length;++z<W;){var J=T(S[z]);J!==e&&(C=C===e?J:C+J)}return C}function Xs(S,T){for(var C=-1,z=Array(S);++C<S;)z[C]=T(C);return z}function Pc(S,T){return ht(T,function(C){return[C,S[C]]})}function so(S){return S&&S.slice(0,lo(S)+1).replace(Bs,"")}function Nt(S){return function(T){return S(T)}}function Zs(S,T){return ht(T,function(C){return S[C]})}function Ie(S,T){return S.has(T)}function ro(S,T){for(var C=-1,z=S.length;++C<z&&ie(T,S[C],0)>-1;);return C}function ho(S,T){for(var C=S.length;C--&&ie(T,S[C],0)>-1;);return C}function Dc(S,T){for(var C=S.length,z=0;C--;)S[C]===T&&++z;return z}var Uc=Ks(Mc),kc=Ks(Cc);function Wc(S){return"\\"+Tc[S]}function $c(S,T){return S==null?e:S[T]}function ee(S){return wc.test(S)}function Gc(S){return bc.test(S)}function Hc(S){for(var T,C=[];!(T=S.next()).done;)C.push(T.value);return C}function Js(S){var T=-1,C=Array(S.size);return S.forEach(function(z,W){C[++T]=[W,z]}),C}function oo(S,T){return function(C){return S(T(C))}}function Ei(S,T){for(var C=-1,z=S.length,W=0,J=[];++C<z;){var pt=S[C];(pt===T||pt===_)&&(S[C]=_,J[W++]=C)}return J}function _n(S){var T=-1,C=Array(S.size);return S.forEach(function(z){C[++T]=z}),C}function Yc(S){var T=-1,C=Array(S.size);return S.forEach(function(z){C[++T]=[z,z]}),C}function Kc(S,T,C){for(var z=C-1,W=S.length;++z<W;)if(S[z]===T)return z;return-1}function qc(S,T,C){for(var z=C+1;z--;)if(S[z]===T)return z;return z}function ne(S){return ee(S)?Zc(S):Fc(S)}function ti(S){return ee(S)?Jc(S):zc(S)}function lo(S){for(var T=S.length;T--&&Da.test(S.charAt(T)););return T}var Xc=Ks(yc);function Zc(S){for(var T=Us.lastIndex=0;Us.test(S);)++T;return T}function Jc(S){return S.match(Us)||[]}function Qc(S){return S.match(_c)||[]}var jc=function S(T){T=T==null?wt:se.defaults(wt.Object(),T,se.pick(wt,Sc));var C=T.Array,z=T.Date,W=T.Error,J=T.Function,pt=T.Math,et=T.Object,Qs=T.RegExp,tf=T.String,Gt=T.TypeError,wn=C.prototype,ef=J.prototype,re=et.prototype,bn=T["__core-js_shared__"],Sn=ef.toString,tt=re.hasOwnProperty,nf=0,uo=function(){var i=/[^.]+$/.exec(bn&&bn.keys&&bn.keys.IE_PROTO||"");return i?"Symbol(src)_1."+i:""}(),xn=re.toString,sf=Sn.call(et),rf=wt._,hf=Qs("^"+Sn.call(tt).replace(zs,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Mn=Yh?T.Buffer:e,Li=T.Symbol,Cn=T.Uint8Array,ao=Mn?Mn.allocUnsafe:e,yn=oo(et.getPrototypeOf,et),co=et.create,fo=re.propertyIsEnumerable,Tn=wn.splice,po=Li?Li.isConcatSpreadable:e,Ae=Li?Li.iterator:e,Ni=Li?Li.toStringTag:e,En=function(){try{var i=ki(et,"defineProperty");return i({},"",{}),i}catch{}}(),of=T.clearTimeout!==wt.clearTimeout&&T.clearTimeout,lf=z&&z.now!==wt.Date.now&&z.now,uf=T.setTimeout!==wt.setTimeout&&T.setTimeout,Ln=pt.ceil,Vn=pt.floor,js=et.getOwnPropertySymbols,af=Mn?Mn.isBuffer:e,go=T.isFinite,cf=wn.join,ff=oo(et.keys,et),gt=pt.max,Mt=pt.min,df=z.now,pf=T.parseInt,vo=pt.random,gf=wn.reverse,tr=ki(T,"DataView"),Oe=ki(T,"Map"),ir=ki(T,"Promise"),he=ki(T,"Set"),Fe=ki(T,"WeakMap"),ze=ki(et,"create"),In=Fe&&new Fe,oe={},vf=Wi(tr),mf=Wi(Oe),_f=Wi(ir),wf=Wi(he),bf=Wi(Fe),An=Li?Li.prototype:e,Be=An?An.valueOf:e,mo=An?An.toString:e;function d(i){if(ut(i)&&!$(i)&&!(i instanceof q)){if(i instanceof Ht)return i;if(tt.call(i,"__wrapped__"))return _l(i)}return new Ht(i)}var le=function(){function i(){}return function(n){if(!ot(n))return{};if(co)return co(n);i.prototype=n;var r=new i;return i.prototype=e,r}}();function On(){}function Ht(i,n){this.__wrapped__=i,this.__actions__=[],this.__chain__=!!n,this.__index__=0,this.__values__=e}d.templateSettings={escape:Fa,evaluate:za,interpolate:yh,variable:"",imports:{_:d}},d.prototype=On.prototype,d.prototype.constructor=d,Ht.prototype=le(On.prototype),Ht.prototype.constructor=Ht;function q(i){this.__wrapped__=i,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=It,this.__views__=[]}function Sf(){var i=new q(this.__wrapped__);return i.__actions__=At(this.__actions__),i.__dir__=this.__dir__,i.__filtered__=this.__filtered__,i.__iteratees__=At(this.__iteratees__),i.__takeCount__=this.__takeCount__,i.__views__=At(this.__views__),i}function xf(){if(this.__filtered__){var i=new q(this);i.__dir__=-1,i.__filtered__=!0}else i=this.clone(),i.__dir__*=-1;return i}function Mf(){var i=this.__wrapped__.value(),n=this.__dir__,r=$(i),u=n<0,c=r?i.length:0,g=Bd(0,c,this.__views__),m=g.start,b=g.end,x=b-m,E=u?b:m-1,L=this.__iteratees__,I=L.length,F=0,B=Mt(x,this.__takeCount__);if(!r||!u&&c==x&&B==x)return ko(i,this.__actions__);var D=[];t:for(;x--&&F<B;){E+=n;for(var H=-1,U=i[E];++H<I;){var K=L[H],X=K.iteratee,Dt=K.type,Lt=X(U);if(Dt==ln)U=Lt;else if(!Lt){if(Dt==Zi)continue t;break t}}D[F++]=U}return D}q.prototype=le(On.prototype),q.prototype.constructor=q;function Ri(i){var n=-1,r=i==null?0:i.length;for(this.clear();++n<r;){var u=i[n];this.set(u[0],u[1])}}function Cf(){this.__data__=ze?ze(null):{},this.size=0}function yf(i){var n=this.has(i)&&delete this.__data__[i];return this.size-=n?1:0,n}function Tf(i){var n=this.__data__;if(ze){var r=n[i];return r===p?e:r}return tt.call(n,i)?n[i]:e}function Ef(i){var n=this.__data__;return ze?n[i]!==e:tt.call(n,i)}function Lf(i,n){var r=this.__data__;return this.size+=this.has(i)?0:1,r[i]=ze&&n===e?p:n,this}Ri.prototype.clear=Cf,Ri.prototype.delete=yf,Ri.prototype.get=Tf,Ri.prototype.has=Ef,Ri.prototype.set=Lf;function di(i){var n=-1,r=i==null?0:i.length;for(this.clear();++n<r;){var u=i[n];this.set(u[0],u[1])}}function Vf(){this.__data__=[],this.size=0}function If(i){var n=this.__data__,r=Fn(n,i);if(r<0)return!1;var u=n.length-1;return r==u?n.pop():Tn.call(n,r,1),--this.size,!0}function Af(i){var n=this.__data__,r=Fn(n,i);return r<0?e:n[r][1]}function Of(i){return Fn(this.__data__,i)>-1}function Ff(i,n){var r=this.__data__,u=Fn(r,i);return u<0?(++this.size,r.push([i,n])):r[u][1]=n,this}di.prototype.clear=Vf,di.prototype.delete=If,di.prototype.get=Af,di.prototype.has=Of,di.prototype.set=Ff;function pi(i){var n=-1,r=i==null?0:i.length;for(this.clear();++n<r;){var u=i[n];this.set(u[0],u[1])}}function zf(){this.size=0,this.__data__={hash:new Ri,map:new(Oe||di),string:new Ri}}function Bf(i){var n=Hn(this,i).delete(i);return this.size-=n?1:0,n}function Nf(i){return Hn(this,i).get(i)}function Rf(i){return Hn(this,i).has(i)}function Pf(i,n){var r=Hn(this,i),u=r.size;return r.set(i,n),this.size+=r.size==u?0:1,this}pi.prototype.clear=zf,pi.prototype.delete=Bf,pi.prototype.get=Nf,pi.prototype.has=Rf,pi.prototype.set=Pf;function Pi(i){var n=-1,r=i==null?0:i.length;for(this.__data__=new pi;++n<r;)this.add(i[n])}function Df(i){return this.__data__.set(i,p),this}function Uf(i){return this.__data__.has(i)}Pi.prototype.add=Pi.prototype.push=Df,Pi.prototype.has=Uf;function ii(i){var n=this.__data__=new di(i);this.size=n.size}function kf(){this.__data__=new di,this.size=0}function Wf(i){var n=this.__data__,r=n.delete(i);return this.size=n.size,r}function $f(i){return this.__data__.get(i)}function Gf(i){return this.__data__.has(i)}function Hf(i,n){var r=this.__data__;if(r instanceof di){var u=r.__data__;if(!Oe||u.length<h-1)return u.push([i,n]),this.size=++r.size,this;r=this.__data__=new pi(u)}return r.set(i,n),this.size=r.size,this}ii.prototype.clear=kf,ii.prototype.delete=Wf,ii.prototype.get=$f,ii.prototype.has=Gf,ii.prototype.set=Hf;function _o(i,n){var r=$(i),u=!r&&$i(i),c=!r&&!u&&Fi(i),g=!r&&!u&&!c&&fe(i),m=r||u||c||g,b=m?Xs(i.length,tf):[],x=b.length;for(var E in i)(n||tt.call(i,E))&&!(m&&(E=="length"||c&&(E=="offset"||E=="parent")||g&&(E=="buffer"||E=="byteLength"||E=="byteOffset")||_i(E,x)))&&b.push(E);return b}function wo(i){var n=i.length;return n?i[fr(0,n-1)]:e}function Yf(i,n){return Yn(At(i),Di(n,0,i.length))}function Kf(i){return Yn(At(i))}function er(i,n,r){(r!==e&&!ei(i[n],r)||r===e&&!(n in i))&&gi(i,n,r)}function Ne(i,n,r){var u=i[n];(!(tt.call(i,n)&&ei(u,r))||r===e&&!(n in i))&&gi(i,n,r)}function Fn(i,n){for(var r=i.length;r--;)if(ei(i[r][0],n))return r;return-1}function qf(i,n,r,u){return Vi(i,function(c,g,m){n(u,c,r(c),m)}),u}function bo(i,n){return i&&hi(n,mt(n),i)}function Xf(i,n){return i&&hi(n,Ft(n),i)}function gi(i,n,r){n=="__proto__"&&En?En(i,n,{configurable:!0,enumerable:!0,value:r,writable:!0}):i[n]=r}function nr(i,n){for(var r=-1,u=n.length,c=C(u),g=i==null;++r<u;)c[r]=g?e:Rr(i,n[r]);return c}function Di(i,n,r){return i===i&&(r!==e&&(i=i<=r?i:r),n!==e&&(i=i>=n?i:n)),i}function Yt(i,n,r,u,c,g){var m,b=n&w,x=n&M,E=n&y;if(r&&(m=c?r(i,u,c,g):r(i)),m!==e)return m;if(!ot(i))return i;var L=$(i);if(L){if(m=Rd(i),!b)return At(i,m)}else{var I=Ct(i),F=I==cn||I==Sh;if(Fi(i))return Go(i,b);if(I==fi||I==Qi||F&&!c){if(m=x||F?{}:ul(i),!b)return x?Td(i,Xf(m,i)):yd(i,bo(m,i))}else{if(!nt[I])return c?i:{};m=Pd(i,I,b)}}g||(g=new ii);var B=g.get(i);if(B)return B;g.set(i,m),Pl(i)?i.forEach(function(U){m.add(Yt(U,n,r,U,i,g))}):Nl(i)&&i.forEach(function(U,K){m.set(K,Yt(U,n,r,K,i,g))});var D=E?x?Mr:xr:x?Ft:mt,H=L?e:D(i);return $t(H||i,function(U,K){H&&(K=U,U=i[K]),Ne(m,K,Yt(U,n,r,K,i,g))}),m}function Zf(i){var n=mt(i);return function(r){return So(r,i,n)}}function So(i,n,r){var u=r.length;if(i==null)return!u;for(i=et(i);u--;){var c=r[u],g=n[c],m=i[c];if(m===e&&!(c in i)||!g(m))return!1}return!0}function xo(i,n,r){if(typeof i!="function")throw new Gt(a);return $e(function(){i.apply(e,r)},n)}function Re(i,n,r,u){var c=-1,g=vn,m=!0,b=i.length,x=[],E=n.length;if(!b)return x;r&&(n=ht(n,Nt(r))),u?(g=$s,m=!1):n.length>=h&&(g=Ie,m=!1,n=new Pi(n));t:for(;++c<b;){var L=i[c],I=r==null?L:r(L);if(L=u||L!==0?L:0,m&&I===I){for(var F=E;F--;)if(n[F]===I)continue t;x.push(L)}else g(n,I,u)||x.push(L)}return x}var Vi=Xo(ri),Mo=Xo(rr,!0);function Jf(i,n){var r=!0;return Vi(i,function(u,c,g){return r=!!n(u,c,g),r}),r}function zn(i,n,r){for(var u=-1,c=i.length;++u<c;){var g=i[u],m=n(g);if(m!=null&&(b===e?m===m&&!Pt(m):r(m,b)))var b=m,x=g}return x}function Qf(i,n,r,u){var c=i.length;for(r=G(r),r<0&&(r=-r>c?0:c+r),u=u===e||u>c?c:G(u),u<0&&(u+=c),u=r>u?0:Ul(u);r<u;)i[r++]=n;return i}function Co(i,n){var r=[];return Vi(i,function(u,c,g){n(u,c,g)&&r.push(u)}),r}function bt(i,n,r,u,c){var g=-1,m=i.length;for(r||(r=Ud),c||(c=[]);++g<m;){var b=i[g];n>0&&r(b)?n>1?bt(b,n-1,r,u,c):Ti(c,b):u||(c[c.length]=b)}return c}var sr=Zo(),yo=Zo(!0);function ri(i,n){return i&&sr(i,n,mt)}function rr(i,n){return i&&yo(i,n,mt)}function Bn(i,n){return yi(n,function(r){return wi(i[r])})}function Ui(i,n){n=Ai(n,i);for(var r=0,u=n.length;i!=null&&r<u;)i=i[oi(n[r++])];return r&&r==u?i:e}function To(i,n,r){var u=n(i);return $(i)?u:Ti(u,r(i))}function Tt(i){return i==null?i===e?Ta:Ca:Ni&&Ni in et(i)?zd(i):Kd(i)}function hr(i,n){return i>n}function jf(i,n){return i!=null&&tt.call(i,n)}function td(i,n){return i!=null&&n in et(i)}function id(i,n,r){return i>=Mt(n,r)&&i<gt(n,r)}function or(i,n,r){for(var u=r?$s:vn,c=i[0].length,g=i.length,m=g,b=C(g),x=1/0,E=[];m--;){var L=i[m];m&&n&&(L=ht(L,Nt(n))),x=Mt(L.length,x),b[m]=!r&&(n||c>=120&&L.length>=120)?new Pi(m&&L):e}L=i[0];var I=-1,F=b[0];t:for(;++I<c&&E.length<x;){var B=L[I],D=n?n(B):B;if(B=r||B!==0?B:0,!(F?Ie(F,D):u(E,D,r))){for(m=g;--m;){var H=b[m];if(!(H?Ie(H,D):u(i[m],D,r)))continue t}F&&F.push(D),E.push(B)}}return E}function ed(i,n,r,u){return ri(i,function(c,g,m){n(u,r(c),g,m)}),u}function Pe(i,n,r){n=Ai(n,i),i=dl(i,n);var u=i==null?i:i[oi(qt(n))];return u==null?e:Bt(u,i,r)}function Eo(i){return ut(i)&&Tt(i)==Qi}function nd(i){return ut(i)&&Tt(i)==Ve}function sd(i){return ut(i)&&Tt(i)==Ce}function De(i,n,r,u,c){return i===n?!0:i==null||n==null||!ut(i)&&!ut(n)?i!==i&&n!==n:rd(i,n,r,u,De,c)}function rd(i,n,r,u,c,g){var m=$(i),b=$(n),x=m?un:Ct(i),E=b?un:Ct(n);x=x==Qi?fi:x,E=E==Qi?fi:E;var L=x==fi,I=E==fi,F=x==E;if(F&&Fi(i)){if(!Fi(n))return!1;m=!0,L=!1}if(F&&!L)return g||(g=new ii),m||fe(i)?hl(i,n,r,u,c,g):Od(i,n,x,r,u,c,g);if(!(r&V)){var B=L&&tt.call(i,"__wrapped__"),D=I&&tt.call(n,"__wrapped__");if(B||D){var H=B?i.value():i,U=D?n.value():n;return g||(g=new ii),c(H,U,r,u,g)}}return F?(g||(g=new ii),Fd(i,n,r,u,c,g)):!1}function hd(i){return ut(i)&&Ct(i)==Qt}function lr(i,n,r,u){var c=r.length,g=c,m=!u;if(i==null)return!g;for(i=et(i);c--;){var b=r[c];if(m&&b[2]?b[1]!==i[b[0]]:!(b[0]in i))return!1}for(;++c<g;){b=r[c];var x=b[0],E=i[x],L=b[1];if(m&&b[2]){if(E===e&&!(x in i))return!1}else{var I=new ii;if(u)var F=u(E,L,x,i,n,I);if(!(F===e?De(L,E,V|O,u,I):F))return!1}}return!0}function Lo(i){if(!ot(i)||Wd(i))return!1;var n=wi(i)?hf:Xa;return n.test(Wi(i))}function od(i){return ut(i)&&Tt(i)==Te}function ld(i){return ut(i)&&Ct(i)==jt}function ud(i){return ut(i)&&Qn(i.length)&&!!st[Tt(i)]}function Vo(i){return typeof i=="function"?i:i==null?zt:typeof i=="object"?$(i)?Oo(i[0],i[1]):Ao(i):Jl(i)}function ur(i){if(!We(i))return ff(i);var n=[];for(var r in et(i))tt.call(i,r)&&r!="constructor"&&n.push(r);return n}function ad(i){if(!ot(i))return Yd(i);var n=We(i),r=[];for(var u in i)u=="constructor"&&(n||!tt.call(i,u))||r.push(u);return r}function ar(i,n){return i<n}function Io(i,n){var r=-1,u=Ot(i)?C(i.length):[];return Vi(i,function(c,g,m){u[++r]=n(c,g,m)}),u}function Ao(i){var n=yr(i);return n.length==1&&n[0][2]?cl(n[0][0],n[0][1]):function(r){return r===i||lr(r,i,n)}}function Oo(i,n){return Er(i)&&al(n)?cl(oi(i),n):function(r){var u=Rr(r,i);return u===e&&u===n?Pr(r,i):De(n,u,V|O)}}function Nn(i,n,r,u,c){i!==n&&sr(n,function(g,m){if(c||(c=new ii),ot(g))cd(i,n,m,r,Nn,u,c);else{var b=u?u(Vr(i,m),g,m+"",i,n,c):e;b===e&&(b=g),er(i,m,b)}},Ft)}function cd(i,n,r,u,c,g,m){var b=Vr(i,r),x=Vr(n,r),E=m.get(x);if(E){er(i,r,E);return}var L=g?g(b,x,r+"",i,n,m):e,I=L===e;if(I){var F=$(x),B=!F&&Fi(x),D=!F&&!B&&fe(x);L=x,F||B||D?$(b)?L=b:ct(b)?L=At(b):B?(I=!1,L=Go(x,!0)):D?(I=!1,L=Ho(x,!0)):L=[]:Ge(x)||$i(x)?(L=b,$i(b)?L=kl(b):(!ot(b)||wi(b))&&(L=ul(x))):I=!1}I&&(m.set(x,L),c(L,x,u,g,m),m.delete(x)),er(i,r,L)}function Fo(i,n){var r=i.length;if(r)return n+=n<0?r:0,_i(n,r)?i[n]:e}function zo(i,n,r){n.length?n=ht(n,function(g){return $(g)?function(m){return Ui(m,g.length===1?g[0]:g)}:g}):n=[zt];var u=-1;n=ht(n,Nt(P()));var c=Io(i,function(g,m,b){var x=ht(n,function(E){return E(g)});return{criteria:x,index:++u,value:g}});return Rc(c,function(g,m){return Cd(g,m,r)})}function fd(i,n){return Bo(i,n,function(r,u){return Pr(i,u)})}function Bo(i,n,r){for(var u=-1,c=n.length,g={};++u<c;){var m=n[u],b=Ui(i,m);r(b,m)&&Ue(g,Ai(m,i),b)}return g}function dd(i){return function(n){return Ui(n,i)}}function cr(i,n,r,u){var c=u?Nc:ie,g=-1,m=n.length,b=i;for(i===n&&(n=At(n)),r&&(b=ht(i,Nt(r)));++g<m;)for(var x=0,E=n[g],L=r?r(E):E;(x=c(b,L,x,u))>-1;)b!==i&&Tn.call(b,x,1),Tn.call(i,x,1);return i}function No(i,n){for(var r=i?n.length:0,u=r-1;r--;){var c=n[r];if(r==u||c!==g){var g=c;_i(c)?Tn.call(i,c,1):gr(i,c)}}return i}function fr(i,n){return i+Vn(vo()*(n-i+1))}function pd(i,n,r,u){for(var c=-1,g=gt(Ln((n-i)/(r||1)),0),m=C(g);g--;)m[u?g:++c]=i,i+=r;return m}function dr(i,n){var r="";if(!i||n<1||n>Vt)return r;do n%2&&(r+=i),n=Vn(n/2),n&&(i+=i);while(n);return r}function Y(i,n){return Ir(fl(i,n,zt),i+"")}function gd(i){return wo(de(i))}function vd(i,n){var r=de(i);return Yn(r,Di(n,0,r.length))}function Ue(i,n,r,u){if(!ot(i))return i;n=Ai(n,i);for(var c=-1,g=n.length,m=g-1,b=i;b!=null&&++c<g;){var x=oi(n[c]),E=r;if(x==="__proto__"||x==="constructor"||x==="prototype")return i;if(c!=m){var L=b[x];E=u?u(L,x,b):e,E===e&&(E=ot(L)?L:_i(n[c+1])?[]:{})}Ne(b,x,E),b=b[x]}return i}var Ro=In?function(i,n){return In.set(i,n),i}:zt,md=En?function(i,n){return En(i,"toString",{configurable:!0,enumerable:!1,value:Ur(n),writable:!0})}:zt;function _d(i){return Yn(de(i))}function Kt(i,n,r){var u=-1,c=i.length;n<0&&(n=-n>c?0:c+n),r=r>c?c:r,r<0&&(r+=c),c=n>r?0:r-n>>>0,n>>>=0;for(var g=C(c);++u<c;)g[u]=i[u+n];return g}function wd(i,n){var r;return Vi(i,function(u,c,g){return r=n(u,c,g),!r}),!!r}function Rn(i,n,r){var u=0,c=i==null?u:i.length;if(typeof n=="number"&&n===n&&c<=ba){for(;u<c;){var g=u+c>>>1,m=i[g];m!==null&&!Pt(m)&&(r?m<=n:m<n)?u=g+1:c=g}return c}return pr(i,n,zt,r)}function pr(i,n,r,u){var c=0,g=i==null?0:i.length;if(g===0)return 0;n=r(n);for(var m=n!==n,b=n===null,x=Pt(n),E=n===e;c<g;){var L=Vn((c+g)/2),I=r(i[L]),F=I!==e,B=I===null,D=I===I,H=Pt(I);if(m)var U=u||D;else E?U=D&&(u||F):b?U=D&&F&&(u||!B):x?U=D&&F&&!B&&(u||!H):B||H?U=!1:U=u?I<=n:I<n;U?c=L+1:g=L}return Mt(g,wa)}function Po(i,n){for(var r=-1,u=i.length,c=0,g=[];++r<u;){var m=i[r],b=n?n(m):m;if(!r||!ei(b,x)){var x=b;g[c++]=m===0?0:m}}return g}function Do(i){return typeof i=="number"?i:Pt(i)?Ci:+i}function Rt(i){if(typeof i=="string")return i;if($(i))return ht(i,Rt)+"";if(Pt(i))return mo?mo.call(i):"";var n=i+"";return n=="0"&&1/i==-si?"-0":n}function Ii(i,n,r){var u=-1,c=vn,g=i.length,m=!0,b=[],x=b;if(r)m=!1,c=$s;else if(g>=h){var E=n?null:Id(i);if(E)return _n(E);m=!1,c=Ie,x=new Pi}else x=n?[]:b;t:for(;++u<g;){var L=i[u],I=n?n(L):L;if(L=r||L!==0?L:0,m&&I===I){for(var F=x.length;F--;)if(x[F]===I)continue t;n&&x.push(I),b.push(L)}else c(x,I,r)||(x!==b&&x.push(I),b.push(L))}return b}function gr(i,n){return n=Ai(n,i),i=dl(i,n),i==null||delete i[oi(qt(n))]}function Uo(i,n,r,u){return Ue(i,n,r(Ui(i,n)),u)}function Pn(i,n,r,u){for(var c=i.length,g=u?c:-1;(u?g--:++g<c)&&n(i[g],g,i););return r?Kt(i,u?0:g,u?g+1:c):Kt(i,u?g+1:0,u?c:g)}function ko(i,n){var r=i;return r instanceof q&&(r=r.value()),Gs(n,function(u,c){return c.func.apply(c.thisArg,Ti([u],c.args))},r)}function vr(i,n,r){var u=i.length;if(u<2)return u?Ii(i[0]):[];for(var c=-1,g=C(u);++c<u;)for(var m=i[c],b=-1;++b<u;)b!=c&&(g[c]=Re(g[c]||m,i[b],n,r));return Ii(bt(g,1),n,r)}function Wo(i,n,r){for(var u=-1,c=i.length,g=n.length,m={};++u<c;){var b=u<g?n[u]:e;r(m,i[u],b)}return m}function mr(i){return ct(i)?i:[]}function _r(i){return typeof i=="function"?i:zt}function Ai(i,n){return $(i)?i:Er(i,n)?[i]:ml(Q(i))}var bd=Y;function Oi(i,n,r){var u=i.length;return r=r===e?u:r,!n&&r>=u?i:Kt(i,n,r)}var $o=of||function(i){return wt.clearTimeout(i)};function Go(i,n){if(n)return i.slice();var r=i.length,u=ao?ao(r):new i.constructor(r);return i.copy(u),u}function wr(i){var n=new i.constructor(i.byteLength);return new Cn(n).set(new Cn(i)),n}function Sd(i,n){var r=n?wr(i.buffer):i.buffer;return new i.constructor(r,i.byteOffset,i.byteLength)}function xd(i){var n=new i.constructor(i.source,Th.exec(i));return n.lastIndex=i.lastIndex,n}function Md(i){return Be?et(Be.call(i)):{}}function Ho(i,n){var r=n?wr(i.buffer):i.buffer;return new i.constructor(r,i.byteOffset,i.length)}function Yo(i,n){if(i!==n){var r=i!==e,u=i===null,c=i===i,g=Pt(i),m=n!==e,b=n===null,x=n===n,E=Pt(n);if(!b&&!E&&!g&&i>n||g&&m&&x&&!b&&!E||u&&m&&x||!r&&x||!c)return 1;if(!u&&!g&&!E&&i<n||E&&r&&c&&!u&&!g||b&&r&&c||!m&&c||!x)return-1}return 0}function Cd(i,n,r){for(var u=-1,c=i.criteria,g=n.criteria,m=c.length,b=r.length;++u<m;){var x=Yo(c[u],g[u]);if(x){if(u>=b)return x;var E=r[u];return x*(E=="desc"?-1:1)}}return i.index-n.index}function Ko(i,n,r,u){for(var c=-1,g=i.length,m=r.length,b=-1,x=n.length,E=gt(g-m,0),L=C(x+E),I=!u;++b<x;)L[b]=n[b];for(;++c<m;)(I||c<g)&&(L[r[c]]=i[c]);for(;E--;)L[b++]=i[c++];return L}function qo(i,n,r,u){for(var c=-1,g=i.length,m=-1,b=r.length,x=-1,E=n.length,L=gt(g-b,0),I=C(L+E),F=!u;++c<L;)I[c]=i[c];for(var B=c;++x<E;)I[B+x]=n[x];for(;++m<b;)(F||c<g)&&(I[B+r[m]]=i[c++]);return I}function At(i,n){var r=-1,u=i.length;for(n||(n=C(u));++r<u;)n[r]=i[r];return n}function hi(i,n,r,u){var c=!r;r||(r={});for(var g=-1,m=n.length;++g<m;){var b=n[g],x=u?u(r[b],i[b],b,r,i):e;x===e&&(x=i[b]),c?gi(r,b,x):Ne(r,b,x)}return r}function yd(i,n){return hi(i,Tr(i),n)}function Td(i,n){return hi(i,ol(i),n)}function Dn(i,n){return function(r,u){var c=$(r)?Ic:qf,g=n?n():{};return c(r,i,P(u,2),g)}}function ue(i){return Y(function(n,r){var u=-1,c=r.length,g=c>1?r[c-1]:e,m=c>2?r[2]:e;for(g=i.length>3&&typeof g=="function"?(c--,g):e,m&&Et(r[0],r[1],m)&&(g=c<3?e:g,c=1),n=et(n);++u<c;){var b=r[u];b&&i(n,b,u,g)}return n})}function Xo(i,n){return function(r,u){if(r==null)return r;if(!Ot(r))return i(r,u);for(var c=r.length,g=n?c:-1,m=et(r);(n?g--:++g<c)&&u(m[g],g,m)!==!1;);return r}}function Zo(i){return function(n,r,u){for(var c=-1,g=et(n),m=u(n),b=m.length;b--;){var x=m[i?b:++c];if(r(g[x],x,g)===!1)break}return n}}function Ed(i,n,r){var u=n&R,c=ke(i);function g(){var m=this&&this!==wt&&this instanceof g?c:i;return m.apply(u?r:this,arguments)}return g}function Jo(i){return function(n){n=Q(n);var r=ee(n)?ti(n):e,u=r?r[0]:n.charAt(0),c=r?Oi(r,1).join(""):n.slice(1);return u[i]()+c}}function ae(i){return function(n){return Gs(Xl(ql(n).replace(vc,"")),i,"")}}function ke(i){return function(){var n=arguments;switch(n.length){case 0:return new i;case 1:return new i(n[0]);case 2:return new i(n[0],n[1]);case 3:return new i(n[0],n[1],n[2]);case 4:return new i(n[0],n[1],n[2],n[3]);case 5:return new i(n[0],n[1],n[2],n[3],n[4]);case 6:return new i(n[0],n[1],n[2],n[3],n[4],n[5]);case 7:return new i(n[0],n[1],n[2],n[3],n[4],n[5],n[6])}var r=le(i.prototype),u=i.apply(r,n);return ot(u)?u:r}}function Ld(i,n,r){var u=ke(i);function c(){for(var g=arguments.length,m=C(g),b=g,x=ce(c);b--;)m[b]=arguments[b];var E=g<3&&m[0]!==x&&m[g-1]!==x?[]:Ei(m,x);if(g-=E.length,g<r)return el(i,n,Un,c.placeholder,e,m,E,e,e,r-g);var L=this&&this!==wt&&this instanceof c?u:i;return Bt(L,this,m)}return c}function Qo(i){return function(n,r,u){var c=et(n);if(!Ot(n)){var g=P(r,3);n=mt(n),r=function(b){return g(c[b],b,c)}}var m=i(n,r,u);return m>-1?c[g?n[m]:m]:e}}function jo(i){return mi(function(n){var r=n.length,u=r,c=Ht.prototype.thru;for(i&&n.reverse();u--;){var g=n[u];if(typeof g!="function")throw new Gt(a);if(c&&!m&&Gn(g)=="wrapper")var m=new Ht([],!0)}for(u=m?u:r;++u<r;){g=n[u];var b=Gn(g),x=b=="wrapper"?Cr(g):e;x&&Lr(x[0])&&x[1]==(dt|j|it|vt)&&!x[4].length&&x[9]==1?m=m[Gn(x[0])].apply(m,x[3]):m=g.length==1&&Lr(g)?m[b]():m.thru(g)}return function(){var E=arguments,L=E[0];if(m&&E.length==1&&$(L))return m.plant(L).value();for(var I=0,F=r?n[I].apply(this,E):L;++I<r;)F=n[I].call(this,F);return F}})}function Un(i,n,r,u,c,g,m,b,x,E){var L=n&dt,I=n&R,F=n&k,B=n&(j|Z),D=n&ci,H=F?e:ke(i);function U(){for(var K=arguments.length,X=C(K),Dt=K;Dt--;)X[Dt]=arguments[Dt];if(B)var Lt=ce(U),Ut=Dc(X,Lt);if(u&&(X=Ko(X,u,c,B)),g&&(X=qo(X,g,m,B)),K-=Ut,B&&K<E){var ft=Ei(X,Lt);return el(i,n,Un,U.placeholder,r,X,ft,b,x,E-K)}var ni=I?r:this,Si=F?ni[i]:i;return K=X.length,b?X=qd(X,b):D&&K>1&&X.reverse(),L&&x<K&&(X.length=x),this&&this!==wt&&this instanceof U&&(Si=H||ke(Si)),Si.apply(ni,X)}return U}function tl(i,n){return function(r,u){return ed(r,i,n(u),{})}}function kn(i,n){return function(r,u){var c;if(r===e&&u===e)return n;if(r!==e&&(c=r),u!==e){if(c===e)return u;typeof r=="string"||typeof u=="string"?(r=Rt(r),u=Rt(u)):(r=Do(r),u=Do(u)),c=i(r,u)}return c}}function br(i){return mi(function(n){return n=ht(n,Nt(P())),Y(function(r){var u=this;return i(n,function(c){return Bt(c,u,r)})})})}function Wn(i,n){n=n===e?" ":Rt(n);var r=n.length;if(r<2)return r?dr(n,i):n;var u=dr(n,Ln(i/ne(n)));return ee(n)?Oi(ti(u),0,i).join(""):u.slice(0,i)}function Vd(i,n,r,u){var c=n&R,g=ke(i);function m(){for(var b=-1,x=arguments.length,E=-1,L=u.length,I=C(L+x),F=this&&this!==wt&&this instanceof m?g:i;++E<L;)I[E]=u[E];for(;x--;)I[E++]=arguments[++b];return Bt(F,c?r:this,I)}return m}function il(i){return function(n,r,u){return u&&typeof u!="number"&&Et(n,r,u)&&(r=u=e),n=bi(n),r===e?(r=n,n=0):r=bi(r),u=u===e?n<r?1:-1:bi(u),pd(n,r,u,i)}}function $n(i){return function(n,r){return typeof n=="string"&&typeof r=="string"||(n=Xt(n),r=Xt(r)),i(n,r)}}function el(i,n,r,u,c,g,m,b,x,E){var L=n&j,I=L?m:e,F=L?e:m,B=L?g:e,D=L?e:g;n|=L?it:yt,n&=~(L?yt:it),n&lt||(n&=~(R|k));var H=[i,n,c,B,I,D,F,b,x,E],U=r.apply(e,H);return Lr(i)&&pl(U,H),U.placeholder=u,gl(U,i,n)}function Sr(i){var n=pt[i];return function(r,u){if(r=Xt(r),u=u==null?0:Mt(G(u),292),u&&go(r)){var c=(Q(r)+"e").split("e"),g=n(c[0]+"e"+(+c[1]+u));return c=(Q(g)+"e").split("e"),+(c[0]+"e"+(+c[1]-u))}return n(r)}}var Id=he&&1/_n(new he([,-0]))[1]==si?function(i){return new he(i)}:$r;function nl(i){return function(n){var r=Ct(n);return r==Qt?Js(n):r==jt?Yc(n):Pc(n,i(n))}}function vi(i,n,r,u,c,g,m,b){var x=n&k;if(!x&&typeof i!="function")throw new Gt(a);var E=u?u.length:0;if(E||(n&=~(it|yt),u=c=e),m=m===e?m:gt(G(m),0),b=b===e?b:G(b),E-=c?c.length:0,n&yt){var L=u,I=c;u=c=e}var F=x?e:Cr(i),B=[i,n,r,u,c,L,I,g,m,b];if(F&&Hd(B,F),i=B[0],n=B[1],r=B[2],u=B[3],c=B[4],b=B[9]=B[9]===e?x?0:i.length:gt(B[9]-E,0),!b&&n&(j|Z)&&(n&=~(j|Z)),!n||n==R)var D=Ed(i,n,r);else n==j||n==Z?D=Ld(i,n,b):(n==it||n==(R|it))&&!c.length?D=Vd(i,n,r,u):D=Un.apply(e,B);var H=F?Ro:pl;return gl(H(D,B),i,n)}function sl(i,n,r,u){return i===e||ei(i,re[r])&&!tt.call(u,r)?n:i}function rl(i,n,r,u,c,g){return ot(i)&&ot(n)&&(g.set(n,i),Nn(i,n,e,rl,g),g.delete(n)),i}function Ad(i){return Ge(i)?e:i}function hl(i,n,r,u,c,g){var m=r&V,b=i.length,x=n.length;if(b!=x&&!(m&&x>b))return!1;var E=g.get(i),L=g.get(n);if(E&&L)return E==n&&L==i;var I=-1,F=!0,B=r&O?new Pi:e;for(g.set(i,n),g.set(n,i);++I<b;){var D=i[I],H=n[I];if(u)var U=m?u(H,D,I,n,i,g):u(D,H,I,i,n,g);if(U!==e){if(U)continue;F=!1;break}if(B){if(!Hs(n,function(K,X){if(!Ie(B,X)&&(D===K||c(D,K,r,u,g)))return B.push(X)})){F=!1;break}}else if(!(D===H||c(D,H,r,u,g))){F=!1;break}}return g.delete(i),g.delete(n),F}function Od(i,n,r,u,c,g,m){switch(r){case ji:if(i.byteLength!=n.byteLength||i.byteOffset!=n.byteOffset)return!1;i=i.buffer,n=n.buffer;case Ve:return!(i.byteLength!=n.byteLength||!g(new Cn(i),new Cn(n)));case Me:case Ce:case ye:return ei(+i,+n);case an:return i.name==n.name&&i.message==n.message;case Te:case Ee:return i==n+"";case Qt:var b=Js;case jt:var x=u&V;if(b||(b=_n),i.size!=n.size&&!x)return!1;var E=m.get(i);if(E)return E==n;u|=O,m.set(i,n);var L=hl(b(i),b(n),u,c,g,m);return m.delete(i),L;case fn:if(Be)return Be.call(i)==Be.call(n)}return!1}function Fd(i,n,r,u,c,g){var m=r&V,b=xr(i),x=b.length,E=xr(n),L=E.length;if(x!=L&&!m)return!1;for(var I=x;I--;){var F=b[I];if(!(m?F in n:tt.call(n,F)))return!1}var B=g.get(i),D=g.get(n);if(B&&D)return B==n&&D==i;var H=!0;g.set(i,n),g.set(n,i);for(var U=m;++I<x;){F=b[I];var K=i[F],X=n[F];if(u)var Dt=m?u(X,K,F,n,i,g):u(K,X,F,i,n,g);if(!(Dt===e?K===X||c(K,X,r,u,g):Dt)){H=!1;break}U||(U=F=="constructor")}if(H&&!U){var Lt=i.constructor,Ut=n.constructor;Lt!=Ut&&"constructor"in i&&"constructor"in n&&!(typeof Lt=="function"&&Lt instanceof Lt&&typeof Ut=="function"&&Ut instanceof Ut)&&(H=!1)}return g.delete(i),g.delete(n),H}function mi(i){return Ir(fl(i,e,Sl),i+"")}function xr(i){return To(i,mt,Tr)}function Mr(i){return To(i,Ft,ol)}var Cr=In?function(i){return In.get(i)}:$r;function Gn(i){for(var n=i.name+"",r=oe[n],u=tt.call(oe,n)?r.length:0;u--;){var c=r[u],g=c.func;if(g==null||g==i)return c.name}return n}function ce(i){var n=tt.call(d,"placeholder")?d:i;return n.placeholder}function P(){var i=d.iteratee||kr;return i=i===kr?Vo:i,arguments.length?i(arguments[0],arguments[1]):i}function Hn(i,n){var r=i.__data__;return kd(n)?r[typeof n=="string"?"string":"hash"]:r.map}function yr(i){for(var n=mt(i),r=n.length;r--;){var u=n[r],c=i[u];n[r]=[u,c,al(c)]}return n}function ki(i,n){var r=$c(i,n);return Lo(r)?r:e}function zd(i){var n=tt.call(i,Ni),r=i[Ni];try{i[Ni]=e;var u=!0}catch{}var c=xn.call(i);return u&&(n?i[Ni]=r:delete i[Ni]),c}var Tr=js?function(i){return i==null?[]:(i=et(i),yi(js(i),function(n){return fo.call(i,n)}))}:Gr,ol=js?function(i){for(var n=[];i;)Ti(n,Tr(i)),i=yn(i);return n}:Gr,Ct=Tt;(tr&&Ct(new tr(new ArrayBuffer(1)))!=ji||Oe&&Ct(new Oe)!=Qt||ir&&Ct(ir.resolve())!=xh||he&&Ct(new he)!=jt||Fe&&Ct(new Fe)!=Le)&&(Ct=function(i){var n=Tt(i),r=n==fi?i.constructor:e,u=r?Wi(r):"";if(u)switch(u){case vf:return ji;case mf:return Qt;case _f:return xh;case wf:return jt;case bf:return Le}return n});function Bd(i,n,r){for(var u=-1,c=r.length;++u<c;){var g=r[u],m=g.size;switch(g.type){case"drop":i+=m;break;case"dropRight":n-=m;break;case"take":n=Mt(n,i+m);break;case"takeRight":i=gt(i,n-m);break}}return{start:i,end:n}}function Nd(i){var n=i.match(ka);return n?n[1].split(Wa):[]}function ll(i,n,r){n=Ai(n,i);for(var u=-1,c=n.length,g=!1;++u<c;){var m=oi(n[u]);if(!(g=i!=null&&r(i,m)))break;i=i[m]}return g||++u!=c?g:(c=i==null?0:i.length,!!c&&Qn(c)&&_i(m,c)&&($(i)||$i(i)))}function Rd(i){var n=i.length,r=new i.constructor(n);return n&&typeof i[0]=="string"&&tt.call(i,"index")&&(r.index=i.index,r.input=i.input),r}function ul(i){return typeof i.constructor=="function"&&!We(i)?le(yn(i)):{}}function Pd(i,n,r){var u=i.constructor;switch(n){case Ve:return wr(i);case Me:case Ce:return new u(+i);case ji:return Sd(i,r);case ys:case Ts:case Es:case Ls:case Vs:case Is:case As:case Os:case Fs:return Ho(i,r);case Qt:return new u;case ye:case Ee:return new u(i);case Te:return xd(i);case jt:return new u;case fn:return Md(i)}}function Dd(i,n){var r=n.length;if(!r)return i;var u=r-1;return n[u]=(r>1?"& ":"")+n[u],n=n.join(r>2?", ":" "),i.replace(Ua,`{
/* [wrapped with `+n+`] */
`)}function Ud(i){return $(i)||$i(i)||!!(po&&i&&i[po])}function _i(i,n){var r=typeof i;return n=n??Vt,!!n&&(r=="number"||r!="symbol"&&Ja.test(i))&&i>-1&&i%1==0&&i<n}function Et(i,n,r){if(!ot(r))return!1;var u=typeof n;return(u=="number"?Ot(r)&&_i(n,r.length):u=="string"&&n in r)?ei(r[n],i):!1}function Er(i,n){if($(i))return!1;var r=typeof i;return r=="number"||r=="symbol"||r=="boolean"||i==null||Pt(i)?!0:Na.test(i)||!Ba.test(i)||n!=null&&i in et(n)}function kd(i){var n=typeof i;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?i!=="__proto__":i===null}function Lr(i){var n=Gn(i),r=d[n];if(typeof r!="function"||!(n in q.prototype))return!1;if(i===r)return!0;var u=Cr(r);return!!u&&i===u[0]}function Wd(i){return!!uo&&uo in i}var $d=bn?wi:Hr;function We(i){var n=i&&i.constructor,r=typeof n=="function"&&n.prototype||re;return i===r}function al(i){return i===i&&!ot(i)}function cl(i,n){return function(r){return r==null?!1:r[i]===n&&(n!==e||i in et(r))}}function Gd(i){var n=Zn(i,function(u){return r.size===v&&r.clear(),u}),r=n.cache;return n}function Hd(i,n){var r=i[1],u=n[1],c=r|u,g=c<(R|k|dt),m=u==dt&&r==j||u==dt&&r==vt&&i[7].length<=n[8]||u==(dt|vt)&&n[7].length<=n[8]&&r==j;if(!(g||m))return i;u&R&&(i[2]=n[2],c|=r&R?0:lt);var b=n[3];if(b){var x=i[3];i[3]=x?Ko(x,b,n[4]):b,i[4]=x?Ei(i[3],_):n[4]}return b=n[5],b&&(x=i[5],i[5]=x?qo(x,b,n[6]):b,i[6]=x?Ei(i[5],_):n[6]),b=n[7],b&&(i[7]=b),u&dt&&(i[8]=i[8]==null?n[8]:Mt(i[8],n[8])),i[9]==null&&(i[9]=n[9]),i[0]=n[0],i[1]=c,i}function Yd(i){var n=[];if(i!=null)for(var r in et(i))n.push(r);return n}function Kd(i){return xn.call(i)}function fl(i,n,r){return n=gt(n===e?i.length-1:n,0),function(){for(var u=arguments,c=-1,g=gt(u.length-n,0),m=C(g);++c<g;)m[c]=u[n+c];c=-1;for(var b=C(n+1);++c<n;)b[c]=u[c];return b[n]=r(m),Bt(i,this,b)}}function dl(i,n){return n.length<2?i:Ui(i,Kt(n,0,-1))}function qd(i,n){for(var r=i.length,u=Mt(n.length,r),c=At(i);u--;){var g=n[u];i[u]=_i(g,r)?c[g]:e}return i}function Vr(i,n){if(!(n==="constructor"&&typeof i[n]=="function")&&n!="__proto__")return i[n]}var pl=vl(Ro),$e=uf||function(i,n){return wt.setTimeout(i,n)},Ir=vl(md);function gl(i,n,r){var u=n+"";return Ir(i,Dd(u,Xd(Nd(u),r)))}function vl(i){var n=0,r=0;return function(){var u=df(),c=on-(u-r);if(r=u,c>0){if(++n>=Cs)return arguments[0]}else n=0;return i.apply(e,arguments)}}function Yn(i,n){var r=-1,u=i.length,c=u-1;for(n=n===e?u:n;++r<n;){var g=fr(r,c),m=i[g];i[g]=i[r],i[r]=m}return i.length=n,i}var ml=Gd(function(i){var n=[];return i.charCodeAt(0)===46&&n.push(""),i.replace(Ra,function(r,u,c,g){n.push(c?g.replace(Ha,"$1"):u||r)}),n});function oi(i){if(typeof i=="string"||Pt(i))return i;var n=i+"";return n=="0"&&1/i==-si?"-0":n}function Wi(i){if(i!=null){try{return Sn.call(i)}catch{}try{return i+""}catch{}}return""}function Xd(i,n){return $t(Sa,function(r){var u="_."+r[0];n&r[1]&&!vn(i,u)&&i.push(u)}),i.sort()}function _l(i){if(i instanceof q)return i.clone();var n=new Ht(i.__wrapped__,i.__chain__);return n.__actions__=At(i.__actions__),n.__index__=i.__index__,n.__values__=i.__values__,n}function Zd(i,n,r){(r?Et(i,n,r):n===e)?n=1:n=gt(G(n),0);var u=i==null?0:i.length;if(!u||n<1)return[];for(var c=0,g=0,m=C(Ln(u/n));c<u;)m[g++]=Kt(i,c,c+=n);return m}function Jd(i){for(var n=-1,r=i==null?0:i.length,u=0,c=[];++n<r;){var g=i[n];g&&(c[u++]=g)}return c}function Qd(){var i=arguments.length;if(!i)return[];for(var n=C(i-1),r=arguments[0],u=i;u--;)n[u-1]=arguments[u];return Ti($(r)?At(r):[r],bt(n,1))}var jd=Y(function(i,n){return ct(i)?Re(i,bt(n,1,ct,!0)):[]}),t0=Y(function(i,n){var r=qt(n);return ct(r)&&(r=e),ct(i)?Re(i,bt(n,1,ct,!0),P(r,2)):[]}),i0=Y(function(i,n){var r=qt(n);return ct(r)&&(r=e),ct(i)?Re(i,bt(n,1,ct,!0),e,r):[]});function e0(i,n,r){var u=i==null?0:i.length;return u?(n=r||n===e?1:G(n),Kt(i,n<0?0:n,u)):[]}function n0(i,n,r){var u=i==null?0:i.length;return u?(n=r||n===e?1:G(n),n=u-n,Kt(i,0,n<0?0:n)):[]}function s0(i,n){return i&&i.length?Pn(i,P(n,3),!0,!0):[]}function r0(i,n){return i&&i.length?Pn(i,P(n,3),!0):[]}function h0(i,n,r,u){var c=i==null?0:i.length;return c?(r&&typeof r!="number"&&Et(i,n,r)&&(r=0,u=c),Qf(i,n,r,u)):[]}function wl(i,n,r){var u=i==null?0:i.length;if(!u)return-1;var c=r==null?0:G(r);return c<0&&(c=gt(u+c,0)),mn(i,P(n,3),c)}function bl(i,n,r){var u=i==null?0:i.length;if(!u)return-1;var c=u-1;return r!==e&&(c=G(r),c=r<0?gt(u+c,0):Mt(c,u-1)),mn(i,P(n,3),c,!0)}function Sl(i){var n=i==null?0:i.length;return n?bt(i,1):[]}function o0(i){var n=i==null?0:i.length;return n?bt(i,si):[]}function l0(i,n){var r=i==null?0:i.length;return r?(n=n===e?1:G(n),bt(i,n)):[]}function u0(i){for(var n=-1,r=i==null?0:i.length,u={};++n<r;){var c=i[n];u[c[0]]=c[1]}return u}function xl(i){return i&&i.length?i[0]:e}function a0(i,n,r){var u=i==null?0:i.length;if(!u)return-1;var c=r==null?0:G(r);return c<0&&(c=gt(u+c,0)),ie(i,n,c)}function c0(i){var n=i==null?0:i.length;return n?Kt(i,0,-1):[]}var f0=Y(function(i){var n=ht(i,mr);return n.length&&n[0]===i[0]?or(n):[]}),d0=Y(function(i){var n=qt(i),r=ht(i,mr);return n===qt(r)?n=e:r.pop(),r.length&&r[0]===i[0]?or(r,P(n,2)):[]}),p0=Y(function(i){var n=qt(i),r=ht(i,mr);return n=typeof n=="function"?n:e,n&&r.pop(),r.length&&r[0]===i[0]?or(r,e,n):[]});function g0(i,n){return i==null?"":cf.call(i,n)}function qt(i){var n=i==null?0:i.length;return n?i[n-1]:e}function v0(i,n,r){var u=i==null?0:i.length;if(!u)return-1;var c=u;return r!==e&&(c=G(r),c=c<0?gt(u+c,0):Mt(c,u-1)),n===n?qc(i,n,c):mn(i,io,c,!0)}function m0(i,n){return i&&i.length?Fo(i,G(n)):e}var _0=Y(Ml);function Ml(i,n){return i&&i.length&&n&&n.length?cr(i,n):i}function w0(i,n,r){return i&&i.length&&n&&n.length?cr(i,n,P(r,2)):i}function b0(i,n,r){return i&&i.length&&n&&n.length?cr(i,n,e,r):i}var S0=mi(function(i,n){var r=i==null?0:i.length,u=nr(i,n);return No(i,ht(n,function(c){return _i(c,r)?+c:c}).sort(Yo)),u});function x0(i,n){var r=[];if(!(i&&i.length))return r;var u=-1,c=[],g=i.length;for(n=P(n,3);++u<g;){var m=i[u];n(m,u,i)&&(r.push(m),c.push(u))}return No(i,c),r}function Ar(i){return i==null?i:gf.call(i)}function M0(i,n,r){var u=i==null?0:i.length;return u?(r&&typeof r!="number"&&Et(i,n,r)?(n=0,r=u):(n=n==null?0:G(n),r=r===e?u:G(r)),Kt(i,n,r)):[]}function C0(i,n){return Rn(i,n)}function y0(i,n,r){return pr(i,n,P(r,2))}function T0(i,n){var r=i==null?0:i.length;if(r){var u=Rn(i,n);if(u<r&&ei(i[u],n))return u}return-1}function E0(i,n){return Rn(i,n,!0)}function L0(i,n,r){return pr(i,n,P(r,2),!0)}function V0(i,n){var r=i==null?0:i.length;if(r){var u=Rn(i,n,!0)-1;if(ei(i[u],n))return u}return-1}function I0(i){return i&&i.length?Po(i):[]}function A0(i,n){return i&&i.length?Po(i,P(n,2)):[]}function O0(i){var n=i==null?0:i.length;return n?Kt(i,1,n):[]}function F0(i,n,r){return i&&i.length?(n=r||n===e?1:G(n),Kt(i,0,n<0?0:n)):[]}function z0(i,n,r){var u=i==null?0:i.length;return u?(n=r||n===e?1:G(n),n=u-n,Kt(i,n<0?0:n,u)):[]}function B0(i,n){return i&&i.length?Pn(i,P(n,3),!1,!0):[]}function N0(i,n){return i&&i.length?Pn(i,P(n,3)):[]}var R0=Y(function(i){return Ii(bt(i,1,ct,!0))}),P0=Y(function(i){var n=qt(i);return ct(n)&&(n=e),Ii(bt(i,1,ct,!0),P(n,2))}),D0=Y(function(i){var n=qt(i);return n=typeof n=="function"?n:e,Ii(bt(i,1,ct,!0),e,n)});function U0(i){return i&&i.length?Ii(i):[]}function k0(i,n){return i&&i.length?Ii(i,P(n,2)):[]}function W0(i,n){return n=typeof n=="function"?n:e,i&&i.length?Ii(i,e,n):[]}function Or(i){if(!(i&&i.length))return[];var n=0;return i=yi(i,function(r){if(ct(r))return n=gt(r.length,n),!0}),Xs(n,function(r){return ht(i,Ys(r))})}function Cl(i,n){if(!(i&&i.length))return[];var r=Or(i);return n==null?r:ht(r,function(u){return Bt(n,e,u)})}var $0=Y(function(i,n){return ct(i)?Re(i,n):[]}),G0=Y(function(i){return vr(yi(i,ct))}),H0=Y(function(i){var n=qt(i);return ct(n)&&(n=e),vr(yi(i,ct),P(n,2))}),Y0=Y(function(i){var n=qt(i);return n=typeof n=="function"?n:e,vr(yi(i,ct),e,n)}),K0=Y(Or);function q0(i,n){return Wo(i||[],n||[],Ne)}function X0(i,n){return Wo(i||[],n||[],Ue)}var Z0=Y(function(i){var n=i.length,r=n>1?i[n-1]:e;return r=typeof r=="function"?(i.pop(),r):e,Cl(i,r)});function yl(i){var n=d(i);return n.__chain__=!0,n}function J0(i,n){return n(i),i}function Kn(i,n){return n(i)}var Q0=mi(function(i){var n=i.length,r=n?i[0]:0,u=this.__wrapped__,c=function(g){return nr(g,i)};return n>1||this.__actions__.length||!(u instanceof q)||!_i(r)?this.thru(c):(u=u.slice(r,+r+(n?1:0)),u.__actions__.push({func:Kn,args:[c],thisArg:e}),new Ht(u,this.__chain__).thru(function(g){return n&&!g.length&&g.push(e),g}))});function j0(){return yl(this)}function t1(){return new Ht(this.value(),this.__chain__)}function i1(){this.__values__===e&&(this.__values__=Dl(this.value()));var i=this.__index__>=this.__values__.length,n=i?e:this.__values__[this.__index__++];return{done:i,value:n}}function e1(){return this}function n1(i){for(var n,r=this;r instanceof On;){var u=_l(r);u.__index__=0,u.__values__=e,n?c.__wrapped__=u:n=u;var c=u;r=r.__wrapped__}return c.__wrapped__=i,n}function s1(){var i=this.__wrapped__;if(i instanceof q){var n=i;return this.__actions__.length&&(n=new q(this)),n=n.reverse(),n.__actions__.push({func:Kn,args:[Ar],thisArg:e}),new Ht(n,this.__chain__)}return this.thru(Ar)}function r1(){return ko(this.__wrapped__,this.__actions__)}var h1=Dn(function(i,n,r){tt.call(i,r)?++i[r]:gi(i,r,1)});function o1(i,n,r){var u=$(i)?jh:Jf;return r&&Et(i,n,r)&&(n=e),u(i,P(n,3))}function l1(i,n){var r=$(i)?yi:Co;return r(i,P(n,3))}var u1=Qo(wl),a1=Qo(bl);function c1(i,n){return bt(qn(i,n),1)}function f1(i,n){return bt(qn(i,n),si)}function d1(i,n,r){return r=r===e?1:G(r),bt(qn(i,n),r)}function Tl(i,n){var r=$(i)?$t:Vi;return r(i,P(n,3))}function El(i,n){var r=$(i)?Ac:Mo;return r(i,P(n,3))}var p1=Dn(function(i,n,r){tt.call(i,r)?i[r].push(n):gi(i,r,[n])});function g1(i,n,r,u){i=Ot(i)?i:de(i),r=r&&!u?G(r):0;var c=i.length;return r<0&&(r=gt(c+r,0)),jn(i)?r<=c&&i.indexOf(n,r)>-1:!!c&&ie(i,n,r)>-1}var v1=Y(function(i,n,r){var u=-1,c=typeof n=="function",g=Ot(i)?C(i.length):[];return Vi(i,function(m){g[++u]=c?Bt(n,m,r):Pe(m,n,r)}),g}),m1=Dn(function(i,n,r){gi(i,r,n)});function qn(i,n){var r=$(i)?ht:Io;return r(i,P(n,3))}function _1(i,n,r,u){return i==null?[]:($(n)||(n=n==null?[]:[n]),r=u?e:r,$(r)||(r=r==null?[]:[r]),zo(i,n,r))}var w1=Dn(function(i,n,r){i[r?0:1].push(n)},function(){return[[],[]]});function b1(i,n,r){var u=$(i)?Gs:no,c=arguments.length<3;return u(i,P(n,4),r,c,Vi)}function S1(i,n,r){var u=$(i)?Oc:no,c=arguments.length<3;return u(i,P(n,4),r,c,Mo)}function x1(i,n){var r=$(i)?yi:Co;return r(i,Jn(P(n,3)))}function M1(i){var n=$(i)?wo:gd;return n(i)}function C1(i,n,r){(r?Et(i,n,r):n===e)?n=1:n=G(n);var u=$(i)?Yf:vd;return u(i,n)}function y1(i){var n=$(i)?Kf:_d;return n(i)}function T1(i){if(i==null)return 0;if(Ot(i))return jn(i)?ne(i):i.length;var n=Ct(i);return n==Qt||n==jt?i.size:ur(i).length}function E1(i,n,r){var u=$(i)?Hs:wd;return r&&Et(i,n,r)&&(n=e),u(i,P(n,3))}var L1=Y(function(i,n){if(i==null)return[];var r=n.length;return r>1&&Et(i,n[0],n[1])?n=[]:r>2&&Et(n[0],n[1],n[2])&&(n=[n[0]]),zo(i,bt(n,1),[])}),Xn=lf||function(){return wt.Date.now()};function V1(i,n){if(typeof n!="function")throw new Gt(a);return i=G(i),function(){if(--i<1)return n.apply(this,arguments)}}function Ll(i,n,r){return n=r?e:n,n=i&&n==null?i.length:n,vi(i,dt,e,e,e,e,n)}function Vl(i,n){var r;if(typeof n!="function")throw new Gt(a);return i=G(i),function(){return--i>0&&(r=n.apply(this,arguments)),i<=1&&(n=e),r}}var Fr=Y(function(i,n,r){var u=R;if(r.length){var c=Ei(r,ce(Fr));u|=it}return vi(i,u,n,r,c)}),Il=Y(function(i,n,r){var u=R|k;if(r.length){var c=Ei(r,ce(Il));u|=it}return vi(n,u,i,r,c)});function Al(i,n,r){n=r?e:n;var u=vi(i,j,e,e,e,e,e,n);return u.placeholder=Al.placeholder,u}function Ol(i,n,r){n=r?e:n;var u=vi(i,Z,e,e,e,e,e,n);return u.placeholder=Ol.placeholder,u}function Fl(i,n,r){var u,c,g,m,b,x,E=0,L=!1,I=!1,F=!0;if(typeof i!="function")throw new Gt(a);n=Xt(n)||0,ot(r)&&(L=!!r.leading,I="maxWait"in r,g=I?gt(Xt(r.maxWait)||0,n):g,F="trailing"in r?!!r.trailing:F);function B(ft){var ni=u,Si=c;return u=c=e,E=ft,m=i.apply(Si,ni),m}function D(ft){return E=ft,b=$e(K,n),L?B(ft):m}function H(ft){var ni=ft-x,Si=ft-E,Ql=n-ni;return I?Mt(Ql,g-Si):Ql}function U(ft){var ni=ft-x,Si=ft-E;return x===e||ni>=n||ni<0||I&&Si>=g}function K(){var ft=Xn();if(U(ft))return X(ft);b=$e(K,H(ft))}function X(ft){return b=e,F&&u?B(ft):(u=c=e,m)}function Dt(){b!==e&&$o(b),E=0,u=x=c=b=e}function Lt(){return b===e?m:X(Xn())}function Ut(){var ft=Xn(),ni=U(ft);if(u=arguments,c=this,x=ft,ni){if(b===e)return D(x);if(I)return $o(b),b=$e(K,n),B(x)}return b===e&&(b=$e(K,n)),m}return Ut.cancel=Dt,Ut.flush=Lt,Ut}var I1=Y(function(i,n){return xo(i,1,n)}),A1=Y(function(i,n,r){return xo(i,Xt(n)||0,r)});function O1(i){return vi(i,ci)}function Zn(i,n){if(typeof i!="function"||n!=null&&typeof n!="function")throw new Gt(a);var r=function(){var u=arguments,c=n?n.apply(this,u):u[0],g=r.cache;if(g.has(c))return g.get(c);var m=i.apply(this,u);return r.cache=g.set(c,m)||g,m};return r.cache=new(Zn.Cache||pi),r}Zn.Cache=pi;function Jn(i){if(typeof i!="function")throw new Gt(a);return function(){var n=arguments;switch(n.length){case 0:return!i.call(this);case 1:return!i.call(this,n[0]);case 2:return!i.call(this,n[0],n[1]);case 3:return!i.call(this,n[0],n[1],n[2])}return!i.apply(this,n)}}function F1(i){return Vl(2,i)}var z1=bd(function(i,n){n=n.length==1&&$(n[0])?ht(n[0],Nt(P())):ht(bt(n,1),Nt(P()));var r=n.length;return Y(function(u){for(var c=-1,g=Mt(u.length,r);++c<g;)u[c]=n[c].call(this,u[c]);return Bt(i,this,u)})}),zr=Y(function(i,n){var r=Ei(n,ce(zr));return vi(i,it,e,n,r)}),zl=Y(function(i,n){var r=Ei(n,ce(zl));return vi(i,yt,e,n,r)}),B1=mi(function(i,n){return vi(i,vt,e,e,e,n)});function N1(i,n){if(typeof i!="function")throw new Gt(a);return n=n===e?n:G(n),Y(i,n)}function R1(i,n){if(typeof i!="function")throw new Gt(a);return n=n==null?0:gt(G(n),0),Y(function(r){var u=r[n],c=Oi(r,0,n);return u&&Ti(c,u),Bt(i,this,c)})}function P1(i,n,r){var u=!0,c=!0;if(typeof i!="function")throw new Gt(a);return ot(r)&&(u="leading"in r?!!r.leading:u,c="trailing"in r?!!r.trailing:c),Fl(i,n,{leading:u,maxWait:n,trailing:c})}function D1(i){return Ll(i,1)}function U1(i,n){return zr(_r(n),i)}function k1(){if(!arguments.length)return[];var i=arguments[0];return $(i)?i:[i]}function W1(i){return Yt(i,y)}function $1(i,n){return n=typeof n=="function"?n:e,Yt(i,y,n)}function G1(i){return Yt(i,w|y)}function H1(i,n){return n=typeof n=="function"?n:e,Yt(i,w|y,n)}function Y1(i,n){return n==null||So(i,n,mt(n))}function ei(i,n){return i===n||i!==i&&n!==n}var K1=$n(hr),q1=$n(function(i,n){return i>=n}),$i=Eo(function(){return arguments}())?Eo:function(i){return ut(i)&&tt.call(i,"callee")&&!fo.call(i,"callee")},$=C.isArray,X1=Kh?Nt(Kh):nd;function Ot(i){return i!=null&&Qn(i.length)&&!wi(i)}function ct(i){return ut(i)&&Ot(i)}function Z1(i){return i===!0||i===!1||ut(i)&&Tt(i)==Me}var Fi=af||Hr,J1=qh?Nt(qh):sd;function Q1(i){return ut(i)&&i.nodeType===1&&!Ge(i)}function j1(i){if(i==null)return!0;if(Ot(i)&&($(i)||typeof i=="string"||typeof i.splice=="function"||Fi(i)||fe(i)||$i(i)))return!i.length;var n=Ct(i);if(n==Qt||n==jt)return!i.size;if(We(i))return!ur(i).length;for(var r in i)if(tt.call(i,r))return!1;return!0}function tp(i,n){return De(i,n)}function ip(i,n,r){r=typeof r=="function"?r:e;var u=r?r(i,n):e;return u===e?De(i,n,e,r):!!u}function Br(i){if(!ut(i))return!1;var n=Tt(i);return n==an||n==Ma||typeof i.message=="string"&&typeof i.name=="string"&&!Ge(i)}function ep(i){return typeof i=="number"&&go(i)}function wi(i){if(!ot(i))return!1;var n=Tt(i);return n==cn||n==Sh||n==xa||n==ya}function Bl(i){return typeof i=="number"&&i==G(i)}function Qn(i){return typeof i=="number"&&i>-1&&i%1==0&&i<=Vt}function ot(i){var n=typeof i;return i!=null&&(n=="object"||n=="function")}function ut(i){return i!=null&&typeof i=="object"}var Nl=Xh?Nt(Xh):hd;function np(i,n){return i===n||lr(i,n,yr(n))}function sp(i,n,r){return r=typeof r=="function"?r:e,lr(i,n,yr(n),r)}function rp(i){return Rl(i)&&i!=+i}function hp(i){if($d(i))throw new W(l);return Lo(i)}function op(i){return i===null}function lp(i){return i==null}function Rl(i){return typeof i=="number"||ut(i)&&Tt(i)==ye}function Ge(i){if(!ut(i)||Tt(i)!=fi)return!1;var n=yn(i);if(n===null)return!0;var r=tt.call(n,"constructor")&&n.constructor;return typeof r=="function"&&r instanceof r&&Sn.call(r)==sf}var Nr=Zh?Nt(Zh):od;function up(i){return Bl(i)&&i>=-Vt&&i<=Vt}var Pl=Jh?Nt(Jh):ld;function jn(i){return typeof i=="string"||!$(i)&&ut(i)&&Tt(i)==Ee}function Pt(i){return typeof i=="symbol"||ut(i)&&Tt(i)==fn}var fe=Qh?Nt(Qh):ud;function ap(i){return i===e}function cp(i){return ut(i)&&Ct(i)==Le}function fp(i){return ut(i)&&Tt(i)==Ea}var dp=$n(ar),pp=$n(function(i,n){return i<=n});function Dl(i){if(!i)return[];if(Ot(i))return jn(i)?ti(i):At(i);if(Ae&&i[Ae])return Hc(i[Ae]());var n=Ct(i),r=n==Qt?Js:n==jt?_n:de;return r(i)}function bi(i){if(!i)return i===0?i:0;if(i=Xt(i),i===si||i===-si){var n=i<0?-1:1;return n*xe}return i===i?i:0}function G(i){var n=bi(i),r=n%1;return n===n?r?n-r:n:0}function Ul(i){return i?Di(G(i),0,It):0}function Xt(i){if(typeof i=="number")return i;if(Pt(i))return Ci;if(ot(i)){var n=typeof i.valueOf=="function"?i.valueOf():i;i=ot(n)?n+"":n}if(typeof i!="string")return i===0?i:+i;i=so(i);var r=qa.test(i);return r||Za.test(i)?Lc(i.slice(2),r?2:8):Ka.test(i)?Ci:+i}function kl(i){return hi(i,Ft(i))}function gp(i){return i?Di(G(i),-Vt,Vt):i===0?i:0}function Q(i){return i==null?"":Rt(i)}var vp=ue(function(i,n){if(We(n)||Ot(n)){hi(n,mt(n),i);return}for(var r in n)tt.call(n,r)&&Ne(i,r,n[r])}),Wl=ue(function(i,n){hi(n,Ft(n),i)}),ts=ue(function(i,n,r,u){hi(n,Ft(n),i,u)}),mp=ue(function(i,n,r,u){hi(n,mt(n),i,u)}),_p=mi(nr);function wp(i,n){var r=le(i);return n==null?r:bo(r,n)}var bp=Y(function(i,n){i=et(i);var r=-1,u=n.length,c=u>2?n[2]:e;for(c&&Et(n[0],n[1],c)&&(u=1);++r<u;)for(var g=n[r],m=Ft(g),b=-1,x=m.length;++b<x;){var E=m[b],L=i[E];(L===e||ei(L,re[E])&&!tt.call(i,E))&&(i[E]=g[E])}return i}),Sp=Y(function(i){return i.push(e,rl),Bt($l,e,i)});function xp(i,n){return to(i,P(n,3),ri)}function Mp(i,n){return to(i,P(n,3),rr)}function Cp(i,n){return i==null?i:sr(i,P(n,3),Ft)}function yp(i,n){return i==null?i:yo(i,P(n,3),Ft)}function Tp(i,n){return i&&ri(i,P(n,3))}function Ep(i,n){return i&&rr(i,P(n,3))}function Lp(i){return i==null?[]:Bn(i,mt(i))}function Vp(i){return i==null?[]:Bn(i,Ft(i))}function Rr(i,n,r){var u=i==null?e:Ui(i,n);return u===e?r:u}function Ip(i,n){return i!=null&&ll(i,n,jf)}function Pr(i,n){return i!=null&&ll(i,n,td)}var Ap=tl(function(i,n,r){n!=null&&typeof n.toString!="function"&&(n=xn.call(n)),i[n]=r},Ur(zt)),Op=tl(function(i,n,r){n!=null&&typeof n.toString!="function"&&(n=xn.call(n)),tt.call(i,n)?i[n].push(r):i[n]=[r]},P),Fp=Y(Pe);function mt(i){return Ot(i)?_o(i):ur(i)}function Ft(i){return Ot(i)?_o(i,!0):ad(i)}function zp(i,n){var r={};return n=P(n,3),ri(i,function(u,c,g){gi(r,n(u,c,g),u)}),r}function Bp(i,n){var r={};return n=P(n,3),ri(i,function(u,c,g){gi(r,c,n(u,c,g))}),r}var Np=ue(function(i,n,r){Nn(i,n,r)}),$l=ue(function(i,n,r,u){Nn(i,n,r,u)}),Rp=mi(function(i,n){var r={};if(i==null)return r;var u=!1;n=ht(n,function(g){return g=Ai(g,i),u||(u=g.length>1),g}),hi(i,Mr(i),r),u&&(r=Yt(r,w|M|y,Ad));for(var c=n.length;c--;)gr(r,n[c]);return r});function Pp(i,n){return Gl(i,Jn(P(n)))}var Dp=mi(function(i,n){return i==null?{}:fd(i,n)});function Gl(i,n){if(i==null)return{};var r=ht(Mr(i),function(u){return[u]});return n=P(n),Bo(i,r,function(u,c){return n(u,c[0])})}function Up(i,n,r){n=Ai(n,i);var u=-1,c=n.length;for(c||(c=1,i=e);++u<c;){var g=i==null?e:i[oi(n[u])];g===e&&(u=c,g=r),i=wi(g)?g.call(i):g}return i}function kp(i,n,r){return i==null?i:Ue(i,n,r)}function Wp(i,n,r,u){return u=typeof u=="function"?u:e,i==null?i:Ue(i,n,r,u)}var Hl=nl(mt),Yl=nl(Ft);function $p(i,n,r){var u=$(i),c=u||Fi(i)||fe(i);if(n=P(n,4),r==null){var g=i&&i.constructor;c?r=u?new g:[]:ot(i)?r=wi(g)?le(yn(i)):{}:r={}}return(c?$t:ri)(i,function(m,b,x){return n(r,m,b,x)}),r}function Gp(i,n){return i==null?!0:gr(i,n)}function Hp(i,n,r){return i==null?i:Uo(i,n,_r(r))}function Yp(i,n,r,u){return u=typeof u=="function"?u:e,i==null?i:Uo(i,n,_r(r),u)}function de(i){return i==null?[]:Zs(i,mt(i))}function Kp(i){return i==null?[]:Zs(i,Ft(i))}function qp(i,n,r){return r===e&&(r=n,n=e),r!==e&&(r=Xt(r),r=r===r?r:0),n!==e&&(n=Xt(n),n=n===n?n:0),Di(Xt(i),n,r)}function Xp(i,n,r){return n=bi(n),r===e?(r=n,n=0):r=bi(r),i=Xt(i),id(i,n,r)}function Zp(i,n,r){if(r&&typeof r!="boolean"&&Et(i,n,r)&&(n=r=e),r===e&&(typeof n=="boolean"?(r=n,n=e):typeof i=="boolean"&&(r=i,i=e)),i===e&&n===e?(i=0,n=1):(i=bi(i),n===e?(n=i,i=0):n=bi(n)),i>n){var u=i;i=n,n=u}if(r||i%1||n%1){var c=vo();return Mt(i+c*(n-i+Ec("1e-"+((c+"").length-1))),n)}return fr(i,n)}var Jp=ae(function(i,n,r){return n=n.toLowerCase(),i+(r?Kl(n):n)});function Kl(i){return Dr(Q(i).toLowerCase())}function ql(i){return i=Q(i),i&&i.replace(Qa,Uc).replace(mc,"")}function Qp(i,n,r){i=Q(i),n=Rt(n);var u=i.length;r=r===e?u:Di(G(r),0,u);var c=r;return r-=n.length,r>=0&&i.slice(r,c)==n}function jp(i){return i=Q(i),i&&Oa.test(i)?i.replace(Ch,kc):i}function tg(i){return i=Q(i),i&&Pa.test(i)?i.replace(zs,"\\$&"):i}var ig=ae(function(i,n,r){return i+(r?"-":"")+n.toLowerCase()}),eg=ae(function(i,n,r){return i+(r?" ":"")+n.toLowerCase()}),ng=Jo("toLowerCase");function sg(i,n,r){i=Q(i),n=G(n);var u=n?ne(i):0;if(!n||u>=n)return i;var c=(n-u)/2;return Wn(Vn(c),r)+i+Wn(Ln(c),r)}function rg(i,n,r){i=Q(i),n=G(n);var u=n?ne(i):0;return n&&u<n?i+Wn(n-u,r):i}function hg(i,n,r){i=Q(i),n=G(n);var u=n?ne(i):0;return n&&u<n?Wn(n-u,r)+i:i}function og(i,n,r){return r||n==null?n=0:n&&(n=+n),pf(Q(i).replace(Bs,""),n||0)}function lg(i,n,r){return(r?Et(i,n,r):n===e)?n=1:n=G(n),dr(Q(i),n)}function ug(){var i=arguments,n=Q(i[0]);return i.length<3?n:n.replace(i[1],i[2])}var ag=ae(function(i,n,r){return i+(r?"_":"")+n.toLowerCase()});function cg(i,n,r){return r&&typeof r!="number"&&Et(i,n,r)&&(n=r=e),r=r===e?It:r>>>0,r?(i=Q(i),i&&(typeof n=="string"||n!=null&&!Nr(n))&&(n=Rt(n),!n&&ee(i))?Oi(ti(i),0,r):i.split(n,r)):[]}var fg=ae(function(i,n,r){return i+(r?" ":"")+Dr(n)});function dg(i,n,r){return i=Q(i),r=r==null?0:Di(G(r),0,i.length),n=Rt(n),i.slice(r,r+n.length)==n}function pg(i,n,r){var u=d.templateSettings;r&&Et(i,n,r)&&(n=e),i=Q(i),n=ts({},n,u,sl);var c=ts({},n.imports,u.imports,sl),g=mt(c),m=Zs(c,g),b,x,E=0,L=n.interpolate||dn,I="__p += '",F=Qs((n.escape||dn).source+"|"+L.source+"|"+(L===yh?Ya:dn).source+"|"+(n.evaluate||dn).source+"|$","g"),B="//# sourceURL="+(tt.call(n,"sourceURL")?(n.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++xc+"]")+`
`;i.replace(F,function(U,K,X,Dt,Lt,Ut){return X||(X=Dt),I+=i.slice(E,Ut).replace(ja,Wc),K&&(b=!0,I+=`' +
__e(`+K+`) +
'`),Lt&&(x=!0,I+=`';
`+Lt+`;
__p += '`),X&&(I+=`' +
((__t = (`+X+`)) == null ? '' : __t) +
'`),E=Ut+U.length,U}),I+=`';
`;var D=tt.call(n,"variable")&&n.variable;if(!D)I=`with (obj) {
`+I+`
}
`;else if(Ga.test(D))throw new W(f);I=(x?I.replace(La,""):I).replace(Va,"$1").replace(Ia,"$1;"),I="function("+(D||"obj")+`) {
`+(D?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(b?", __e = _.escape":"")+(x?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+I+`return __p
}`;var H=Zl(function(){return J(g,B+"return "+I).apply(e,m)});if(H.source=I,Br(H))throw H;return H}function gg(i){return Q(i).toLowerCase()}function vg(i){return Q(i).toUpperCase()}function mg(i,n,r){if(i=Q(i),i&&(r||n===e))return so(i);if(!i||!(n=Rt(n)))return i;var u=ti(i),c=ti(n),g=ro(u,c),m=ho(u,c)+1;return Oi(u,g,m).join("")}function _g(i,n,r){if(i=Q(i),i&&(r||n===e))return i.slice(0,lo(i)+1);if(!i||!(n=Rt(n)))return i;var u=ti(i),c=ho(u,ti(n))+1;return Oi(u,0,c).join("")}function wg(i,n,r){if(i=Q(i),i&&(r||n===e))return i.replace(Bs,"");if(!i||!(n=Rt(n)))return i;var u=ti(i),c=ro(u,ti(n));return Oi(u,c).join("")}function bg(i,n){var r=Se,u=hn;if(ot(n)){var c="separator"in n?n.separator:c;r="length"in n?G(n.length):r,u="omission"in n?Rt(n.omission):u}i=Q(i);var g=i.length;if(ee(i)){var m=ti(i);g=m.length}if(r>=g)return i;var b=r-ne(u);if(b<1)return u;var x=m?Oi(m,0,b).join(""):i.slice(0,b);if(c===e)return x+u;if(m&&(b+=x.length-b),Nr(c)){if(i.slice(b).search(c)){var E,L=x;for(c.global||(c=Qs(c.source,Q(Th.exec(c))+"g")),c.lastIndex=0;E=c.exec(L);)var I=E.index;x=x.slice(0,I===e?b:I)}}else if(i.indexOf(Rt(c),b)!=b){var F=x.lastIndexOf(c);F>-1&&(x=x.slice(0,F))}return x+u}function Sg(i){return i=Q(i),i&&Aa.test(i)?i.replace(Mh,Xc):i}var xg=ae(function(i,n,r){return i+(r?" ":"")+n.toUpperCase()}),Dr=Jo("toUpperCase");function Xl(i,n,r){return i=Q(i),n=r?e:n,n===e?Gc(i)?Qc(i):Bc(i):i.match(n)||[]}var Zl=Y(function(i,n){try{return Bt(i,e,n)}catch(r){return Br(r)?r:new W(r)}}),Mg=mi(function(i,n){return $t(n,function(r){r=oi(r),gi(i,r,Fr(i[r],i))}),i});function Cg(i){var n=i==null?0:i.length,r=P();return i=n?ht(i,function(u){if(typeof u[1]!="function")throw new Gt(a);return[r(u[0]),u[1]]}):[],Y(function(u){for(var c=-1;++c<n;){var g=i[c];if(Bt(g[0],this,u))return Bt(g[1],this,u)}})}function yg(i){return Zf(Yt(i,w))}function Ur(i){return function(){return i}}function Tg(i,n){return i==null||i!==i?n:i}var Eg=jo(),Lg=jo(!0);function zt(i){return i}function kr(i){return Vo(typeof i=="function"?i:Yt(i,w))}function Vg(i){return Ao(Yt(i,w))}function Ig(i,n){return Oo(i,Yt(n,w))}var Ag=Y(function(i,n){return function(r){return Pe(r,i,n)}}),Og=Y(function(i,n){return function(r){return Pe(i,r,n)}});function Wr(i,n,r){var u=mt(n),c=Bn(n,u);r==null&&!(ot(n)&&(c.length||!u.length))&&(r=n,n=i,i=this,c=Bn(n,mt(n)));var g=!(ot(r)&&"chain"in r)||!!r.chain,m=wi(i);return $t(c,function(b){var x=n[b];i[b]=x,m&&(i.prototype[b]=function(){var E=this.__chain__;if(g||E){var L=i(this.__wrapped__),I=L.__actions__=At(this.__actions__);return I.push({func:x,args:arguments,thisArg:i}),L.__chain__=E,L}return x.apply(i,Ti([this.value()],arguments))})}),i}function Fg(){return wt._===this&&(wt._=rf),this}function $r(){}function zg(i){return i=G(i),Y(function(n){return Fo(n,i)})}var Bg=br(ht),Ng=br(jh),Rg=br(Hs);function Jl(i){return Er(i)?Ys(oi(i)):dd(i)}function Pg(i){return function(n){return i==null?e:Ui(i,n)}}var Dg=il(),Ug=il(!0);function Gr(){return[]}function Hr(){return!1}function kg(){return{}}function Wg(){return""}function $g(){return!0}function Gg(i,n){if(i=G(i),i<1||i>Vt)return[];var r=It,u=Mt(i,It);n=P(n),i-=It;for(var c=Xs(u,n);++r<i;)n(r);return c}function Hg(i){return $(i)?ht(i,oi):Pt(i)?[i]:At(ml(Q(i)))}function Yg(i){var n=++nf;return Q(i)+n}var Kg=kn(function(i,n){return i+n},0),qg=Sr("ceil"),Xg=kn(function(i,n){return i/n},1),Zg=Sr("floor");function Jg(i){return i&&i.length?zn(i,zt,hr):e}function Qg(i,n){return i&&i.length?zn(i,P(n,2),hr):e}function jg(i){return eo(i,zt)}function tv(i,n){return eo(i,P(n,2))}function iv(i){return i&&i.length?zn(i,zt,ar):e}function ev(i,n){return i&&i.length?zn(i,P(n,2),ar):e}var nv=kn(function(i,n){return i*n},1),sv=Sr("round"),rv=kn(function(i,n){return i-n},0);function hv(i){return i&&i.length?qs(i,zt):0}function ov(i,n){return i&&i.length?qs(i,P(n,2)):0}return d.after=V1,d.ary=Ll,d.assign=vp,d.assignIn=Wl,d.assignInWith=ts,d.assignWith=mp,d.at=_p,d.before=Vl,d.bind=Fr,d.bindAll=Mg,d.bindKey=Il,d.castArray=k1,d.chain=yl,d.chunk=Zd,d.compact=Jd,d.concat=Qd,d.cond=Cg,d.conforms=yg,d.constant=Ur,d.countBy=h1,d.create=wp,d.curry=Al,d.curryRight=Ol,d.debounce=Fl,d.defaults=bp,d.defaultsDeep=Sp,d.defer=I1,d.delay=A1,d.difference=jd,d.differenceBy=t0,d.differenceWith=i0,d.drop=e0,d.dropRight=n0,d.dropRightWhile=s0,d.dropWhile=r0,d.fill=h0,d.filter=l1,d.flatMap=c1,d.flatMapDeep=f1,d.flatMapDepth=d1,d.flatten=Sl,d.flattenDeep=o0,d.flattenDepth=l0,d.flip=O1,d.flow=Eg,d.flowRight=Lg,d.fromPairs=u0,d.functions=Lp,d.functionsIn=Vp,d.groupBy=p1,d.initial=c0,d.intersection=f0,d.intersectionBy=d0,d.intersectionWith=p0,d.invert=Ap,d.invertBy=Op,d.invokeMap=v1,d.iteratee=kr,d.keyBy=m1,d.keys=mt,d.keysIn=Ft,d.map=qn,d.mapKeys=zp,d.mapValues=Bp,d.matches=Vg,d.matchesProperty=Ig,d.memoize=Zn,d.merge=Np,d.mergeWith=$l,d.method=Ag,d.methodOf=Og,d.mixin=Wr,d.negate=Jn,d.nthArg=zg,d.omit=Rp,d.omitBy=Pp,d.once=F1,d.orderBy=_1,d.over=Bg,d.overArgs=z1,d.overEvery=Ng,d.overSome=Rg,d.partial=zr,d.partialRight=zl,d.partition=w1,d.pick=Dp,d.pickBy=Gl,d.property=Jl,d.propertyOf=Pg,d.pull=_0,d.pullAll=Ml,d.pullAllBy=w0,d.pullAllWith=b0,d.pullAt=S0,d.range=Dg,d.rangeRight=Ug,d.rearg=B1,d.reject=x1,d.remove=x0,d.rest=N1,d.reverse=Ar,d.sampleSize=C1,d.set=kp,d.setWith=Wp,d.shuffle=y1,d.slice=M0,d.sortBy=L1,d.sortedUniq=I0,d.sortedUniqBy=A0,d.split=cg,d.spread=R1,d.tail=O0,d.take=F0,d.takeRight=z0,d.takeRightWhile=B0,d.takeWhile=N0,d.tap=J0,d.throttle=P1,d.thru=Kn,d.toArray=Dl,d.toPairs=Hl,d.toPairsIn=Yl,d.toPath=Hg,d.toPlainObject=kl,d.transform=$p,d.unary=D1,d.union=R0,d.unionBy=P0,d.unionWith=D0,d.uniq=U0,d.uniqBy=k0,d.uniqWith=W0,d.unset=Gp,d.unzip=Or,d.unzipWith=Cl,d.update=Hp,d.updateWith=Yp,d.values=de,d.valuesIn=Kp,d.without=$0,d.words=Xl,d.wrap=U1,d.xor=G0,d.xorBy=H0,d.xorWith=Y0,d.zip=K0,d.zipObject=q0,d.zipObjectDeep=X0,d.zipWith=Z0,d.entries=Hl,d.entriesIn=Yl,d.extend=Wl,d.extendWith=ts,Wr(d,d),d.add=Kg,d.attempt=Zl,d.camelCase=Jp,d.capitalize=Kl,d.ceil=qg,d.clamp=qp,d.clone=W1,d.cloneDeep=G1,d.cloneDeepWith=H1,d.cloneWith=$1,d.conformsTo=Y1,d.deburr=ql,d.defaultTo=Tg,d.divide=Xg,d.endsWith=Qp,d.eq=ei,d.escape=jp,d.escapeRegExp=tg,d.every=o1,d.find=u1,d.findIndex=wl,d.findKey=xp,d.findLast=a1,d.findLastIndex=bl,d.findLastKey=Mp,d.floor=Zg,d.forEach=Tl,d.forEachRight=El,d.forIn=Cp,d.forInRight=yp,d.forOwn=Tp,d.forOwnRight=Ep,d.get=Rr,d.gt=K1,d.gte=q1,d.has=Ip,d.hasIn=Pr,d.head=xl,d.identity=zt,d.includes=g1,d.indexOf=a0,d.inRange=Xp,d.invoke=Fp,d.isArguments=$i,d.isArray=$,d.isArrayBuffer=X1,d.isArrayLike=Ot,d.isArrayLikeObject=ct,d.isBoolean=Z1,d.isBuffer=Fi,d.isDate=J1,d.isElement=Q1,d.isEmpty=j1,d.isEqual=tp,d.isEqualWith=ip,d.isError=Br,d.isFinite=ep,d.isFunction=wi,d.isInteger=Bl,d.isLength=Qn,d.isMap=Nl,d.isMatch=np,d.isMatchWith=sp,d.isNaN=rp,d.isNative=hp,d.isNil=lp,d.isNull=op,d.isNumber=Rl,d.isObject=ot,d.isObjectLike=ut,d.isPlainObject=Ge,d.isRegExp=Nr,d.isSafeInteger=up,d.isSet=Pl,d.isString=jn,d.isSymbol=Pt,d.isTypedArray=fe,d.isUndefined=ap,d.isWeakMap=cp,d.isWeakSet=fp,d.join=g0,d.kebabCase=ig,d.last=qt,d.lastIndexOf=v0,d.lowerCase=eg,d.lowerFirst=ng,d.lt=dp,d.lte=pp,d.max=Jg,d.maxBy=Qg,d.mean=jg,d.meanBy=tv,d.min=iv,d.minBy=ev,d.stubArray=Gr,d.stubFalse=Hr,d.stubObject=kg,d.stubString=Wg,d.stubTrue=$g,d.multiply=nv,d.nth=m0,d.noConflict=Fg,d.noop=$r,d.now=Xn,d.pad=sg,d.padEnd=rg,d.padStart=hg,d.parseInt=og,d.random=Zp,d.reduce=b1,d.reduceRight=S1,d.repeat=lg,d.replace=ug,d.result=Up,d.round=sv,d.runInContext=S,d.sample=M1,d.size=T1,d.snakeCase=ag,d.some=E1,d.sortedIndex=C0,d.sortedIndexBy=y0,d.sortedIndexOf=T0,d.sortedLastIndex=E0,d.sortedLastIndexBy=L0,d.sortedLastIndexOf=V0,d.startCase=fg,d.startsWith=dg,d.subtract=rv,d.sum=hv,d.sumBy=ov,d.template=pg,d.times=Gg,d.toFinite=bi,d.toInteger=G,d.toLength=Ul,d.toLower=gg,d.toNumber=Xt,d.toSafeInteger=gp,d.toString=Q,d.toUpper=vg,d.trim=mg,d.trimEnd=_g,d.trimStart=wg,d.truncate=bg,d.unescape=Sg,d.uniqueId=Yg,d.upperCase=xg,d.upperFirst=Dr,d.each=Tl,d.eachRight=El,d.first=xl,Wr(d,function(){var i={};return ri(d,function(n,r){tt.call(d.prototype,r)||(i[r]=n)}),i}(),{chain:!1}),d.VERSION=s,$t(["bind","bindKey","curry","curryRight","partial","partialRight"],function(i){d[i].placeholder=d}),$t(["drop","take"],function(i,n){q.prototype[i]=function(r){r=r===e?1:gt(G(r),0);var u=this.__filtered__&&!n?new q(this):this.clone();return u.__filtered__?u.__takeCount__=Mt(r,u.__takeCount__):u.__views__.push({size:Mt(r,It),type:i+(u.__dir__<0?"Right":"")}),u},q.prototype[i+"Right"]=function(r){return this.reverse()[i](r).reverse()}}),$t(["filter","map","takeWhile"],function(i,n){var r=n+1,u=r==Zi||r==Ji;q.prototype[i]=function(c){var g=this.clone();return g.__iteratees__.push({iteratee:P(c,3),type:r}),g.__filtered__=g.__filtered__||u,g}}),$t(["head","last"],function(i,n){var r="take"+(n?"Right":"");q.prototype[i]=function(){return this[r](1).value()[0]}}),$t(["initial","tail"],function(i,n){var r="drop"+(n?"":"Right");q.prototype[i]=function(){return this.__filtered__?new q(this):this[r](1)}}),q.prototype.compact=function(){return this.filter(zt)},q.prototype.find=function(i){return this.filter(i).head()},q.prototype.findLast=function(i){return this.reverse().find(i)},q.prototype.invokeMap=Y(function(i,n){return typeof i=="function"?new q(this):this.map(function(r){return Pe(r,i,n)})}),q.prototype.reject=function(i){return this.filter(Jn(P(i)))},q.prototype.slice=function(i,n){i=G(i);var r=this;return r.__filtered__&&(i>0||n<0)?new q(r):(i<0?r=r.takeRight(-i):i&&(r=r.drop(i)),n!==e&&(n=G(n),r=n<0?r.dropRight(-n):r.take(n-i)),r)},q.prototype.takeRightWhile=function(i){return this.reverse().takeWhile(i).reverse()},q.prototype.toArray=function(){return this.take(It)},ri(q.prototype,function(i,n){var r=/^(?:filter|find|map|reject)|While$/.test(n),u=/^(?:head|last)$/.test(n),c=d[u?"take"+(n=="last"?"Right":""):n],g=u||/^find/.test(n);c&&(d.prototype[n]=function(){var m=this.__wrapped__,b=u?[1]:arguments,x=m instanceof q,E=b[0],L=x||$(m),I=function(K){var X=c.apply(d,Ti([K],b));return u&&F?X[0]:X};L&&r&&typeof E=="function"&&E.length!=1&&(x=L=!1);var F=this.__chain__,B=!!this.__actions__.length,D=g&&!F,H=x&&!B;if(!g&&L){m=H?m:new q(this);var U=i.apply(m,b);return U.__actions__.push({func:Kn,args:[I],thisArg:e}),new Ht(U,F)}return D&&H?i.apply(this,b):(U=this.thru(I),D?u?U.value()[0]:U.value():U)})}),$t(["pop","push","shift","sort","splice","unshift"],function(i){var n=wn[i],r=/^(?:push|sort|unshift)$/.test(i)?"tap":"thru",u=/^(?:pop|shift)$/.test(i);d.prototype[i]=function(){var c=arguments;if(u&&!this.__chain__){var g=this.value();return n.apply($(g)?g:[],c)}return this[r](function(m){return n.apply($(m)?m:[],c)})}}),ri(q.prototype,function(i,n){var r=d[n];if(r){var u=r.name+"";tt.call(oe,u)||(oe[u]=[]),oe[u].push({name:n,func:r})}}),oe[Un(e,k).name]=[{name:"wrapper",func:e}],q.prototype.clone=Sf,q.prototype.reverse=xf,q.prototype.value=Mf,d.prototype.at=Q0,d.prototype.chain=j0,d.prototype.commit=t1,d.prototype.next=i1,d.prototype.plant=n1,d.prototype.reverse=s1,d.prototype.toJSON=d.prototype.valueOf=d.prototype.value=r1,d.prototype.first=d.prototype.head,Ae&&(d.prototype[Ae]=e1),d},se=jc();Bi?((Bi.exports=se)._=se,ks._=se):wt._=se}).call(He)})(sw,en);const rw=_t("div",ew),hw=_t("input",iw),Gu=_t("button",tw),Hu=o=>N(rw,{get children(){return[N(Gu,{onClick:()=>{const t=en.round((o.value===void 0?0:o.value)-o.step,o.roundN);t>=0&&o.setter(t)},get children(){return N(Lv,{})}}),N(hw,{get value(){return o.value},get placeholder(){return o.placeholder}}),N(Gu,{onClick:()=>{o.setter(en.round((o.value===void 0?0:o.value)+o.step,o.roundN))},get children(){return N(nw,{})}})]}});var ow=at({defaultClassName:"_1aj0vbq1",variantClassNames:{active:{true:"_1aj0vbq2",false:"_1aj0vbq3"}},defaultVariants:{},compoundVariants:[]}),lw=at({defaultClassName:"_1aj0vbq0",variantClassNames:{},defaultVariants:{},compoundVariants:[]});const uw=_t("div",lw),Yu=_t("p",ow),aw=o=>N(uw,{get children(){return[N(Yu,{get active(){return o.bs=="buy"},onClick:()=>{o.setter("buy")},children:"BUY"}),N(Yu,{get active(){return o.bs=="sell"},onClick:()=>{o.setter("sell")},children:"SELL"})]}}),cw=_t("div",Zv),fw=()=>{const[o,t]=is(null),[e,s]=is("buy"),[h,l]=is(void 0),[a,f]=is(void 0);let p;return vv(()=>{if(console.log(p),p){t(j_(p,{width:void 0,height:void 0,layout:{background:{color:"#111"},textColor:"#fff"},crosshair:{mode:oh.Magnet},grid:{vertLines:{color:"#555"},horzLines:{visible:!1}}}));let v=o();v&&(v.subscribeCrosshairMove(w=>{if(w.point)for(let M of w.seriesData.entries()){const y=M[1];l(y.close)}}),v.addBarSeries({thinBars:!0,downColor:"#bfb",upColor:"#fbb"}).setData([{time:"2018-10-19",open:180.34,high:180.99,low:178.57,close:179.85},{time:"2018-10-22",open:180.82,high:181.4,low:177.56,close:178.75},{time:"2018-10-23",open:175.77,high:179.49,low:175.44,close:178.53},{time:"2018-10-24",open:178.58,high:182.37,low:176.31,close:176.97},{time:"2018-10-25",open:177.52,high:180.5,low:176.83,close:179.07},{time:"2018-10-26",open:176.88,high:177.34,low:170.91,close:172.23},{time:"2018-10-29",open:173.74,high:175.99,low:170.95,close:173.2},{time:"2018-10-30",open:173.16,high:176.43,low:172.64,close:176.24},{time:"2018-10-31",open:177.98,high:178.85,low:175.59,close:175.88},{time:"2018-11-01",open:176.84,high:180.86,low:175.9,close:180.46},{time:"2018-11-02",open:182.47,high:183.01,low:177.39,close:179.93},{time:"2018-11-05",open:181.02,high:182.41,low:179.3,close:182.19},{time:"2018-11-06",open:181.93,high:182.65,low:180.05,close:182.01},{time:"2018-11-07",open:183.79,high:187.68,low:182.06,close:187.23},{time:"2018-11-08",open:187.13,high:188.69,low:185.72,close:188},{time:"2018-11-09",open:188.32,high:188.48,low:184.96,close:185.99},{time:"2018-11-12",open:185.23,high:186.95,low:179.02,close:179.43},{time:"2018-11-13",open:177.3,high:181.62,low:172.85,close:179},{time:"2018-11-14",open:182.61,high:182.9,low:179.15,close:179.9},{time:"2018-11-15",open:179.01,high:179.67,low:173.61,close:177.36},{time:"2018-11-16",open:173.99,high:177.6,low:173.51,close:177.02},{time:"2018-11-19",open:176.71,high:178.88,low:172.3,close:173.59},{time:"2018-11-20",open:169.25,high:172,low:167,close:169.05},{time:"2018-11-21",open:170,high:170.93,low:169.15,close:169.3},{time:"2018-11-23",open:169.39,high:170.33,low:168.47,close:168.85},{time:"2018-11-26",open:170.2,high:172.39,low:168.87,close:169.82},{time:"2018-11-27",open:169.11,high:173.38,low:168.82,close:173.22},{time:"2018-11-28",open:172.91,high:177.65,low:170.62,close:177.43},{time:"2018-11-29",open:176.8,high:177.27,low:174.92,close:175.66},{time:"2018-11-30",open:175.75,high:180.37,low:175.11,close:180.32},{time:"2018-12-03",open:183.29,high:183.5,low:179.35,close:181.74},{time:"2018-12-04",open:181.06,high:182.23,low:174.55,close:175.3},{time:"2018-12-06",open:173.5,high:176.04,low:170.46,close:175.96},{time:"2018-12-07",open:175.35,high:178.36,low:172.24,close:172.79},{time:"2018-12-10",open:173.39,high:173.99,low:167.73,close:171.69},{time:"2018-12-11",open:174.3,high:175.6,low:171.24,close:172.21},{time:"2018-12-12",open:173.75,high:176.87,low:172.81,close:174.21},{time:"2018-12-13",open:174.31,high:174.91,low:172.07,close:173.87},{time:"2018-12-14",open:172.98,high:175.14,low:171.95,close:172.29},{time:"2018-12-17",open:171.51,high:171.99,low:166.93,close:167.97},{time:"2018-12-18",open:168.9,high:171.95,low:168.5,close:170.04},{time:"2018-12-19",open:170.92,high:174.95,low:166.77,close:167.56},{time:"2018-12-20",open:166.28,high:167.31,low:162.23,close:164.16},{time:"2018-12-21",open:162.81,high:167.96,low:160.17,close:160.48},{time:"2018-12-24",open:160.16,high:161.4,low:158.09,close:158.14},{time:"2018-12-26",open:159.46,high:168.28,low:159.44,close:168.28},{time:"2018-12-27",open:166.44,high:170.46,low:163.36,close:170.32},{time:"2018-12-28",open:171.22,high:173.12,low:168.6,close:170.22},{time:"2018-12-31",open:171.47,high:173.24,low:170.65,close:171.82},{time:"2019-01-02",open:169.71,high:173.18,low:169.05,close:172.41},{time:"2019-01-03",open:171.84,high:171.84,low:168.21,close:168.61},{time:"2019-01-04",open:170.18,high:174.74,low:169.52,close:173.62},{time:"2019-01-07",open:173.83,high:178.18,low:173.83,close:177.04},{time:"2019-01-08",open:178.57,high:179.59,low:175.61,close:177.89},{time:"2019-01-09",open:177.87,high:181.27,low:177.1,close:179.73},{time:"2019-01-10",open:178.03,high:179.24,low:176.34,close:179.06},{time:"2019-01-11",open:177.93,high:180.26,low:177.12,close:179.41},{time:"2019-01-14",open:177.59,high:179.23,low:176.9,close:178.81},{time:"2019-01-15",open:176.08,high:177.82,low:175.2,close:176.47},{time:"2019-01-16",open:177.09,high:177.93,low:175.86,close:177.04},{time:"2019-01-17",open:174.01,high:175.46,low:172,close:174.87},{time:"2019-01-18",open:176.98,high:180.04,low:176.18,close:179.58},{time:"2019-01-22",open:177.49,high:178.6,low:175.36,close:177.11},{time:"2019-01-23",open:176.59,high:178.06,low:174.53,close:176.89},{time:"2019-01-24",open:177,high:177.53,low:175.3,close:177.29},{time:"2019-01-25",open:179.78,high:180.87,low:178.61,close:180.4},{time:"2019-01-28",open:178.97,high:179.99,low:177.41,close:179.83},{time:"2019-01-29",open:178.96,high:180.15,low:178.09,close:179.69},{time:"2019-01-30",open:180.47,high:184.2,low:179.78,close:182.18},{time:"2019-01-31",open:181.5,high:184.67,low:181.06,close:183.53},{time:"2019-02-01",open:184.03,high:185.15,low:182.83,close:184.37},{time:"2019-02-04",open:184.3,high:186.43,low:183.84,close:186.43},{time:"2019-02-05",open:186.89,high:186.99,low:184.69,close:186.39},{time:"2019-02-06",open:186.69,high:186.69,low:184.06,close:184.72},{time:"2019-02-07",open:183.74,high:184.92,low:182.45,close:184.07},{time:"2019-02-08",open:183.05,high:184.58,low:182.72,close:184.54},{time:"2019-02-11",open:185,high:185.42,low:182.75,close:182.92},{time:"2019-02-12",open:183.84,high:186.4,low:183.52,close:185.52},{time:"2019-02-13",open:186.3,high:188.68,low:185.92,close:188.41},{time:"2019-02-14",open:187.5,high:188.93,low:186,close:187.71},{time:"2019-02-15",open:189.87,high:192.62,low:189.05,close:192.39},{time:"2019-02-19",open:191.71,high:193.19,low:191.28,close:192.33},{time:"2019-02-20",open:192.39,high:192.4,low:191.11,close:191.85},{time:"2019-02-21",open:191.85,high:192.37,low:190.61,close:191.82},{time:"2019-02-22",open:191.69,high:192.54,low:191.62,close:192.39},{time:"2019-02-25",open:192.75,high:193.42,low:189.96,close:189.98},{time:"2019-02-26",open:185.59,high:188.47,low:182.8,close:188.3},{time:"2019-02-27",open:187.9,high:188.5,low:183.21,close:183.67},{time:"2019-02-28",open:183.6,high:185.19,low:183.11,close:185.14},{time:"2019-03-01",open:185.82,high:186.56,low:182.86,close:185.17},{time:"2019-03-04",open:186.2,high:186.24,low:182.1,close:183.81},{time:"2019-03-05",open:184.24,high:185.12,low:183.25,close:184},{time:"2019-03-06",open:184.53,high:184.97,low:183.84,close:184.45},{time:"2019-03-07",open:184.39,high:184.62,low:181.58,close:182.51},{time:"2019-03-08",open:181.49,high:181.91,low:179.52,close:181.23},{time:"2019-03-11",open:182,high:183.2,low:181.2,close:182.44},{time:"2019-03-12",open:183.43,high:184.27,low:182.33,close:184},{time:"2019-03-13",open:183.24,high:183.78,low:181.08,close:181.14},{time:"2019-03-14",open:181.28,high:181.74,low:180.5,close:181.61},{time:"2019-03-15",open:182.3,high:182.49,low:179.57,close:182.23},{time:"2019-03-18",open:182.53,high:183.48,low:182.33,close:183.42},{time:"2019-03-19",open:184.19,high:185.82,low:183.48,close:184.13},{time:"2019-03-20",open:184.3,high:187.12,low:183.43,close:186.1},{time:"2019-03-21",open:185.5,high:190,low:185.5,close:189.97},{time:"2019-03-22",open:189.31,high:192.05,low:188.67,close:188.75},{time:"2019-03-25",open:188.75,high:191.71,low:188.51,close:189.68},{time:"2019-03-26",open:190.69,high:192.19,low:188.74,close:189.34},{time:"2019-03-27",open:189.65,high:191.61,low:188.39,close:189.25},{time:"2019-03-28",open:189.91,high:191.4,low:189.16,close:190.06},{time:"2019-03-29",open:190.85,high:192.04,low:190.14,close:191.89},{time:"2019-04-01",open:192.99,high:195.9,low:192.85,close:195.64},{time:"2019-04-02",open:195.5,high:195.5,low:194.01,close:194.31},{time:"2019-04-03",open:194.98,high:198.78,low:194.11,close:198.61},{time:"2019-04-04",open:199,high:200.49,low:198.02,close:200.45},{time:"2019-04-05",open:200.86,high:203.13,low:200.61,close:202.06},{time:"2019-04-08",open:201.37,high:203.79,low:201.24,close:203.55},{time:"2019-04-09",open:202.26,high:202.71,low:200.46,close:200.9},{time:"2019-04-10",open:201.26,high:201.6,low:198.02,close:199.43},{time:"2019-04-11",open:199.9,high:201.5,low:199.03,close:201.48},{time:"2019-04-12",open:202.13,high:204.26,low:202.13,close:203.85},{time:"2019-04-15",open:204.16,high:205.14,low:203.4,close:204.86},{time:"2019-04-16",open:205.25,high:205.99,low:204.29,close:204.47},{time:"2019-04-17",open:205.34,high:206.84,low:205.32,close:206.55},{time:"2019-04-18",open:206.02,high:207.78,low:205.1,close:205.66},{time:"2019-04-22",open:204.11,high:206.25,low:204,close:204.78},{time:"2019-04-23",open:205.14,high:207.33,low:203.43,close:206.05},{time:"2019-04-24",open:206.16,high:208.29,low:205.54,close:206.72},{time:"2019-04-25",open:206.01,high:207.72,low:205.06,close:206.5},{time:"2019-04-26",open:205.88,high:206.14,low:203.34,close:203.61},{time:"2019-04-29",open:203.31,high:203.8,low:200.34,close:202.16},{time:"2019-04-30",open:201.55,high:203.75,low:200.79,close:203.7},{time:"2019-05-01",open:203.2,high:203.52,low:198.66,close:198.8},{time:"2019-05-02",open:199.3,high:201.06,low:198.8,close:201.01},{time:"2019-05-03",open:202,high:202.31,low:200.32,close:200.56},{time:"2019-05-06",open:198.74,high:199.93,low:198.31,close:199.63},{time:"2019-05-07",open:196.75,high:197.65,low:192.96,close:194.77},{time:"2019-05-08",open:194.49,high:196.61,low:193.68,close:195.17},{time:"2019-05-09",open:193.31,high:195.08,low:191.59,close:194.58},{time:"2019-05-10",open:193.21,high:195.49,low:190.01,close:194.58},{time:"2019-05-13",open:191,high:191.66,low:189.14,close:190.34},{time:"2019-05-14",open:190.5,high:192.76,low:190.01,close:191.62},{time:"2019-05-15",open:190.81,high:192.81,low:190.27,close:191.76},{time:"2019-05-16",open:192.47,high:194.96,low:192.2,close:192.38},{time:"2019-05-17",open:190.86,high:194.5,low:190.75,close:192.58},{time:"2019-05-20",open:191.13,high:192.86,low:190.61,close:190.95},{time:"2019-05-21",open:187.13,high:192.52,low:186.34,close:191.45},{time:"2019-05-22",open:190.49,high:192.22,low:188.05,close:188.91},{time:"2019-05-23",open:188.45,high:192.54,low:186.27,close:192},{time:"2019-05-24",open:192.54,high:193.86,low:190.41,close:193.59},{time:"2019-05-28",open:194.38,high:196.47,low:193.75,close:194.08}]))}}),N(_s,{get children(){return[N(cw,{ref(v){const _=p;typeof _=="function"?_(v):p=v}}),N(aw,{get bs(){return e()},setter:s}),N(Hu,{get value(){return h()},step:.5,setter:l,roundN:2,placeholder:"PRICE"}),N(Hu,{get value(){return a()},step:1,setter:f,roundN:0,placeholder:"QUANTITY"})]}})},dw=()=>(nn(),N(_s,{get children(){return[N(Xu,{size:128}),N(wv,{children:"Chart"})]}})),pw=()=>{const[o,t]=nn();return N(_s,{get children(){return N(bv,{onClick:()=>{t("logout")},children:"LOGOUT"})}})},bw=()=>{const o=mv(),[t,e]=nn();return qu(()=>{console.log("EffectHome"),e("checkTokenExpire"),e("checkCaExpire"),t.authed||o("/scone/login"),t.hasActivatedCa||o("/scone/ca"),t.person_id!=""&&t.authed&&e("connect")}),N(gv,{get children(){return[N(uv,{children:"Scone: Trade App power with Shioaji provide by Sinopac"}),N(av,{name:"viewpoint",content:"width=device-width, initial-scale=1, maximum-scale=1 user-scalable=no"}),N(cv,{get children(){return N(fv,{get children(){return[N(dv,{get title(){return t.activeTab.toUpperCase()}}),N(pv,{wrap:"both",get children(){return N(_v,{get children(){return[N(es,{get when(){return t.activeTab=="WatchList"},get children(){return N(Xv,{})}}),N(es,{get when(){return t.activeTab=="Order"},get children(){return N(fw,{})}}),N(es,{get when(){return t.activeTab=="Chart"},get children(){return N(dw,{})}}),N(es,{get when(){return t.activeTab=="Menu"},get children(){return N(pw,{})}})]}})}}),N(Bv,{})]}})}})]}})};export{bw as default};
